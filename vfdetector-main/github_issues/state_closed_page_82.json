[{"number": 52716, "title": "Validate that matrix dimension sizes in SparseMatMul are positive.", "body": "PiperOrigin-RevId: 401149683\r\nChange-Id: Ib33eafc561a39c8741ece80b2edce6d4aae9a57d", "comments": []}, {"number": 52715, "title": "Fix a NPE issue in invalid Exit op. Now it will report an error inste\u2026", "body": "\u2026ad of crash.\r\n\r\nPiperOrigin-RevId: 404089902\r\nChange-Id: Ia6ec55445ea70ad045a4d339d354959ad0618f2a", "comments": []}, {"number": 52714, "title": "Fix a NPE issue in invalid Exit op. Now it will report an error inste\u2026", "body": "\u2026ad of crash.\r\n\r\nPiperOrigin-RevId: 404089902\r\nChange-Id: Ia6ec55445ea70ad045a4d339d354959ad0618f2a", "comments": []}, {"number": 52713, "title": "Fix a NPE issue in invalid Exit op. Now it will report an error inste\u2026", "body": "\u2026ad of crash.\r\n\r\nPiperOrigin-RevId: 404089902\r\nChange-Id: Ia6ec55445ea70ad045a4d339d354959ad0618f2a", "comments": []}, {"number": 52712, "title": "Fix a NPE issue in invalid Exit op. Now it will report an error inste\u2026", "body": "\u2026ad of crash.\r\n\r\nPiperOrigin-RevId: 404089902\r\nChange-Id: Ia6ec55445ea70ad045a4d339d354959ad0618f2a", "comments": []}, {"number": 52711, "title": "Fix access to undefined memory during shape inference of Cudnn*.", "body": "PiperOrigin-RevId: 400324259\r\nChange-Id: Ie3b7859d19ae24ee9ac2adf413bdc1e851bbc604", "comments": []}, {"number": 52710, "title": "Fix access to undefined memory during shape inference of Cudnn*.", "body": "PiperOrigin-RevId: 400324259\r\nChange-Id: Ie3b7859d19ae24ee9ac2adf413bdc1e851bbc604", "comments": []}, {"number": 52709, "title": "Fix access to undefined memory during shape inference of Cudnn*.", "body": "PiperOrigin-RevId: 400324259\r\nChange-Id: Ie3b7859d19ae24ee9ac2adf413bdc1e851bbc604", "comments": []}, {"number": 52708, "title": "Fix access to undefined memory during shape inference of Cudnn*.", "body": "PiperOrigin-RevId: 400324259\r\nChange-Id: Ie3b7859d19ae24ee9ac2adf413bdc1e851bbc604", "comments": []}, {"number": 52707, "title": "Test for case of undefined behaviour and throw error if found", "body": "Casting to a lower precision variable type is undefined behaviour if the value being cast overflows the new type.\r\nRelying on the outcome of such a cast lead to differing outcomes on x86 and AARCH64 in the RangeTest.testLargeStarts unit test. Detect this case before it happens and throw an exception then correct the test case to accept the new exception. In the non-eager case an InvalidArgument exception is re-thrown as a ValueError so both exceptions should be allowed in the test.\r\n\r\nFixes https://github.com/tensorflow/tensorflow/issues/52676", "comments": []}, {"number": 52705, "title": "Title: Input shape compatibility of ZIP-object of (image and image ImageDataGenerator objects) and CNN", "body": "**System information**\r\nHave I written custom code (as opposed to using a stock example script\r\nprovided in TensorFlow): custom code\r\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows10\r\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue\r\nhappens on a mobile device: NA\r\nTensorFlow installed from (source or binary): binary (added as library to Anaconda )\r\nTensorFlow version (use command below): 2.1.0\r\nPython version: 3.7\r\nBazel version (if compiling from source): NA\r\nGCC/Compiler version (if compiling from source): NA\r\nCUDA/cuDNN version: 10.1\r\nGPU model and memory:\r\nNVIDIA GeForce RTX 2070 with Max-Q Design\r\nDriver version: 30.0.14.7196\r\nDriver date: 8/27/2021\r\nDirectX version: 12 (FL 12.1)\r\nPhysical location: PCI bus 1, device 0, function 0\r\nUtilization 0%\r\nDedicated GPU memory 0.0/8.0 GB\r\nShared GPU memory 0.1/7.9 GB\r\nGPU Memory 0.1/15.9 GB- Exact command to reproduce:\r\n########################################\r\n\r\nI have 64 RGB images with their corresponding masks. I use ImageDataGenerator and flow_from_directory function to read the images and masks from the directory folder.\r\nThe folder structures are as follows:\r\nImages\r\n---- imgs\r\n-------- ---ROI\r\n----------------1.tiff\r\n----------------2.tiff\r\nMasks \r\n------imgs\r\n------- -----ROI\r\n------------------1.tiff\r\n------------------2.tiff\r\nImages and masks are stored with the same file names. In my case, ImageDataGenerator is an Iterator of size 2 with a batch size of 32. I did the following:\r\n1.\tI read the images and masks into lists named as \u201cimages\u201d and \u2018\u2019masks\u2019\u2019 respectively.\r\n\r\n```\r\nsize = 231 \r\nimages = []\r\n\r\nfor directory_path in glob.glob(\u201c. /Images/imgs/ROI/\"):\r\n    for img_path in glob.glob(os.path.join(directory_path, \"*.tiff\"):\r\n        img = cv2.imread(img_path, cv2.IMREAD_COLOR)       \r\n        img = cv2.resize(img, (size, size))\r\n        images.append(img)\r\n        images = np.array(images)\r\n\r\nmasks = [] \r\nfor directory_path in glob.glob(\u201c. /Masks/imgs/ROI/\"):\r\n    for mask_path in glob.glob(os.path.join(directory_path, \"*.tiff\"):\r\n        mask = cv2.imread(mask_path, 0)       \r\n        mask = cv2.resize(mask, (size, size))\r\n        masks.append(mask)     \r\nmasks = np.array(masks)\r\nmasks = np.expand_dims(masks, axis=3)\r\n```\r\n**Note: I obtained images of shape (64, 231,231,3) and masks of shape (64, 231, 231, 1)**\r\n\r\n2.\tI then used keras documentation the process of transforming the images and masks together as follows:\r\n\r\n          a.\tI created a dict to specify the augmentation parameters as follows for both images and masks.\r\n          data_gen_args_imgs = dict rotation range=90,\r\n                               rescale = 1. /255.)\r\n          data_gen_args_masks = dict rotation range=90)\r\n                       \r\n          b.\tThe I created ImageDataGenerator objects for both images and masks as follows:\r\n          ```\r\n          image_datagen = ImageDataGenerator(**data_gen_args_imgs)\r\n          mask_datagen = ImageDataGenerator(**data_gen_args_masks)\r\n          ```\r\n          \r\n          c.\tI use the fit and flow functions using the same seeds and keyword arguments for images and masks as follows: \r\n          ```\r\n          seed = 1\r\n          \r\n          image_datagen.fit(images, augment=True, seed=seed)\r\n          mask_datagen.fit(masks, augment=True, seed=seed)\r\n          \r\n          image_generator = image_datagen.flow_from_directory(\r\n              'data/images',\r\n              class_mode=None,\r\n              shuffle= False,\r\n              seed=seed)\r\n          \r\n          mask_generator = mask_datagen.flow_from_directory(\r\n              \u201c. /Images/imgs/\u201d,\r\n              class_mode=None,\r\n              shuffle= False,\r\n              seed=seed)\r\n          ```\r\n          \r\n          d.\tThen I created an iterator on the zip object to return a matched pair of images and corresponding masks as follows:\r\n          \r\n          `train_generator = (pair for pair in zip (image_generator, mask_generator))`\r\n          \r\n          e.      Then I build a CNN model as follows: \r\n          ```\r\n          \r\n          activation= 'relu'\r\n          model = Sequential()\r\n          model.add (Conv2D(16, kernel_size=(3, 3),activation='relu',input_shape=(231,231,3),padding='same'))\r\n          model.add (Conv2D(16, kernel_size=(3, 3),activation= activation,    padding='same'))\r\n          model.add (Flatten())\r\n          model.add (Dense(5))\r\n          model.add (Dense(3))\r\n          model.compile(loss='categorical_crossentropy',optimizer='adam',metrics=['accuracy'])\r\n          model.summary()\r\n          \r\n          ```\r\n          \r\n          e.\tThen I used fit_generator to fit the model as follows: \r\n          \r\n          `model.fit_generator (train_generator, steps_per_epoch= 15, epochs=2, verbose=1)`\r\n\r\nBut I got the following error regarding input dimensionality:\r\n```\r\nInvalidArgumentError:  Input to reshape is a tensor with 33554432 values, but the requested shape requires a multiple of 853776\r\n [[node sequential_8/flatten_8/Reshape (defined at <ipython-input-91-2871596287c2>:12) ]] [Op:__inference_distributed_function_7252]\r\n\r\nFunction call stack:\r\ndistributed_function\r\n```\r\nFollowing is the full code:\r\n```\r\nimport numpy as np \r\nimport pandas as pd \r\nimport matplotlib.pyplot as plt\r\nimport glob\r\nimport cv2\r\nimport os\r\nimport glob\r\nimport tensorflow as tf\r\nimport pickle\r\nfrom scipy import ndimage as nd\r\nfrom tensorflow.keras.models import Sequential\r\nfrom tensorflow.keras.layers import Conv2D\r\nfrom tensorflow.keras.layers import BatchNormalization\r\nfrom tensorflow.keras.layers import MaxPooling2D\r\nfrom tensorflow.keras.layers import Dense\r\nfrom tensorflow.keras.layers import Flatten\r\nfrom tensorflow .keras.preprocessing.image import ImageDataGenerator, array_to_img, img_to_array, load_img\r\nimport sklearn.utils \r\nfrom tensorflow.keras.optimizers import Adadelta, RMSprop,SGD,Adam\r\n\r\nprint(tf.__version__)\r\n\r\ntrain_path=\"C://Users//Tusneem//Documents//Untitled Folder//Tusneem_Seg//SEG_OBJ1//BAS//ROI_1//\"\r\nmask_path=\"C://Users//Tusneem//Documents//Untitled Folder//Tusneem_Seg//SEG_OBJ1//BAS//ROI_2//\"\r\n\r\n############################################################################\r\nsize = 231 \r\nimages = []\r\n\r\nfor directory_path in glob.glob(\"C://Users//Tusneem//Documents//Untitled Folder//Tusneem_Seg//SEG_OBJ1//BAS//ROI_1//ROI_train//\"):\r\n    for img_path in glob.glob(os.path.join(directory_path, \"*.tiff\")):\r\n        img = cv2.imread(img_path, cv2.IMREAD_COLOR)       \r\n        img = cv2.resize(img, (size, size))\r\n        #img = cv2.cvtColor(img, cv2.COLOR_RGB2BGR)\r\n        images.append(img)\r\n        #train_labels.append(label)\r\n        \r\nimages = np.array(images)\r\n\r\nmasks = [] \r\nfor directory_path in glob.glob(\"C://Users//Tusneem//Documents//Untitled Folder//Tusneem_Seg//SEG_OBJ1//BAS//ROI_2//ROI_train//\"):\r\n    for mask_path in glob.glob(os.path.join(directory_path, \"*.tiff\")):\r\n        mask = cv2.imread(mask_path, 0)       \r\n        mask = cv2.resize(mask, (size, size))\r\n        masks.append(mask)\r\n                \r\nmasks = np.array(masks)\r\nmasks=np.expand_dims(masks, axis=3)\r\n\r\n#######################Example of transforming images and masks together.\r\nimport tensorflow as tf\r\n\r\n# we create two instances with the same arguments\r\ndata_gen_args = dict(featurewise_center=True,\r\n                     featurewise_std_normalization=True,\r\n                     rotation_range=90)\r\n                     \r\n## what is images\r\n## what is masks\r\n# what is **data_gen_args\r\n\r\nimage_datagen = ImageDataGenerator(data_gen_args)\r\nmask_datagen = ImageDataGenerator(data_gen_args)\r\n# Provide the same seed and keyword arguments to the fit and flow methods\r\nseed = 1\r\nimage_datagen.fit(images, augment=True, seed=seed)\r\nmask_datagen.fit(masks, augment=True, seed=seed)\r\n\r\nimage_generator = image_datagen.flow_from_directory(\r\n    train_path,\r\n    class_mode=None,\r\n    shuffle= False,\r\n    seed=seed)\r\n\r\nmask_generator = mask_datagen.flow_from_directory(\r\n    \"C://Users//Tusneem//Documents//Untitled Folder//Tusneem_Seg//SEG_OBJ1//BAS//ROI_2//\",\r\n    class_mode=None,\r\n    shuffle= False,\r\n    seed=seed)\r\n# combine generators into one which yields image and masks\r\n#train_generator = zip(image_generator, mask_generator)\r\ntrain_generator = (pair for pair in zip(image_generator, mask_generator))\r\n\r\nactivation= 'relu'\r\n\r\nmodel = Sequential()\r\nmodel.add(Conv2D(16, kernel_size=(3, 3),activation='relu',input_shape=(231,231,3),padding='same'))\r\nmodel.add(Conv2D(16, kernel_size=(3, 3),activation='relu',padding='same'))\r\nmodel.add(Flatten())\r\nmodel.add(Dense(5))\r\nmodel.add(Dense(3))\r\nmodel.compile( loss='categorical_crossentropy',optimizer='adam',metrics=['accuracy'])\r\nmodel.summary()\r\n\r\nmodel.fit_generator(train_generator, steps_per_epoch= 15, epochs=2, verbose=1)\r\n```\r\n**my question is: How can I fix the problem of train_generator and CNN input shapes??**\r\n#########attachments \r\n[The code.txt](https://github.com/tensorflow/tensorflow/files/7439208/The.code.txt)\r\n[summary of ImageDataGenarator_ZIP object_CNN.docx](https://github.com/tensorflow/tensorflow/files/7439221/summary.of.ImageDataGenarator_ZIP.object_CNN.docx)\r\n\r\n\r\n", "comments": ["@tusneemA ,\r\nWe see that the issue [template](https://github.com/tensorflow/tensorflow/issues/new/choose) has not been filled, could you please do so as it helps us analyse the issue [tf version, steps followed before you ran into this error or stand alone code to reproduce the issue faced] or if possible share a colab gist with the issue reported.", "Also please take a look at this SO [link](https://stackoverflow.com/questions/43010339/python-tensorflow-input-to-reshape-is-a-tensor-with-92416-values-but-the-re) with the similar error.It helps.Thanks!", "done.\nTitle: Input shape compatibility of ZIP-object of (image and image\nImageDataGenerator objects) and CNN \u00b7 Issue #52796 \u00b7 tensorflow/tensorflow\n(github.com) <https://github.com/tensorflow/tensorflow/issues/52796>\n\n\nOn Thu, Oct 28, 2021 at 9:41 AM tilakrayal ***@***.***> wrote:\n\n> Also please take a look at this SO link\n> <https://stackoverflow.com/questions/43010339/python-tensorflow-input-to-reshape-is-a-tensor-with-92416-values-but-the-re>\n> with the similar error.It helps.Thanks!\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/52705#issuecomment-953546907>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/APP3NUJOYPRZAIJYMD54PIDUJDWAPANCNFSM5G2JXVQQ>\n> .\n> Triage notifications on the go with GitHub Mobile for iOS\n> <https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675>\n> or Android\n> <https://play.google.com/store/apps/details?id=com.github.android&referrer=utm_campaign%3Dnotification-email%26utm_medium%3Demail%26utm_source%3Dgithub>.\n>\n>\n", "@tusneemA ,\r\nCan you please upgrade to latest stable tensorflow version 2.6 and test the code in new virtual environment and let us know if the issue still persists.It helps.Thanks!", "OK, I will.\n\nOn Sun, Oct 31, 2021 at 8:38 AM tilakrayal ***@***.***> wrote:\n\n> @tusneemA <https://github.com/tusneemA> ,\n> Can you please upgrade to latest stable tensorflow version 2.6 and test\n> the code in new virtual environment and let us know if the issue still\n> persists.It helps.Thanks!\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/52705#issuecomment-955640483>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/APP3NUMK2C6HSWD74TZVZXLUJTI7FANCNFSM5G2JXVQQ>\n> .\n> Triage notifications on the go with GitHub Mobile for iOS\n> <https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675>\n> or Android\n> <https://play.google.com/store/apps/details?id=com.github.android&referrer=utm_campaign%3Dnotification-email%26utm_medium%3Demail%26utm_source%3Dgithub>.\n>\n>\n", "I did install Tensorflow 2.6 and I got the following error:\n\n ValueError: Shapes (None, None, None, None) and (None, 3) are incompatible\n\nalso I was not able to install any version of Spyder therfore, I run it Jupyter\n\n\nOn Sun, Oct 31, 2021 at 8:38 AM tilakrayal ***@***.***> wrote:\n\n> @tusneemA <https://github.com/tusneemA> ,\n> Can you please upgrade to latest stable tensorflow version 2.6 and test\n> the code in new virtual environment and let us know if the issue still\n> persists.It helps.Thanks!\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/52705#issuecomment-955640483>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/APP3NUMK2C6HSWD74TZVZXLUJTI7FANCNFSM5G2JXVQQ>\n> .\n> Triage notifications on the go with GitHub Mobile for iOS\n> <https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675>\n> or Android\n> <https://play.google.com/store/apps/details?id=com.github.android&referrer=utm_campaign%3Dnotification-email%26utm_medium%3Demail%26utm_source%3Dgithub>.\n>\n>\n", "@tusneemA ,\r\nPlease post this issue on [keras-team/keras](https://github.com/keras-team/keras/issues) repo.\r\nTo know more refer to:\r\n[https://discuss.tensorflow.org/t/keras-project-moved-to-new-repository-in-https-github-com-keras-team-keras/1999](https://discuss.tensorflow.org/t/keras-project-moved-to-new-repository-in-https-github-com-keras-team-keras/1999)\r\n", "This issue has been automatically marked as stale because it has no recent activity. It will be closed if no further activity occurs. Thank you.\n", "Closing as stale. Please reopen if you'd like to work on this further.\n", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/52705\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/52705\">No</a>\n"]}, {"number": 52704, "title": "Enable external delegate for benchmark_model/label_image for tflite", "body": null, "comments": ["Hi @terryheo ,\r\n\r\nCould you review this patch? Thanks", "@terryheo Can you please review this PR ? Thanks!", "Looks like the similar PR with https://github.com/tensorflow/tensorflow/pull/52866", "@sunshinemyson Can you please resolve conflicts? Thanks!", "> @sunshinemyson Can you please resolve conflicts? Thanks!\r\n\r\nupdated.", "@sunshinemyson Can you please check @terryheo's comments and keep us posted ? Thanks!"]}, {"number": 52703, "title": "Reduce compiler warnings", "body": "*  Harmonizes a forward declaration with the declaration\r\n*  Fixes comparisons of integers of different signs", "comments": []}, {"number": 52702, "title": " Genrules without outputs in building process.", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 18.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: N/A\r\n- Python version: 3.9\r\n- Installed using virtualenv? pip? conda?: NO\r\n- Bazel version (if compiling from source): 3.7.2\r\n- GCC/Compiler version (if compiling from source): 7.5.0\r\n- CUDA/cuDNN version: 11.1/cudnn8\r\n- GPU model and memory: V100/32GB\r\n\r\n\r\n\r\n**Describe the problem**\r\nCame across an issue after running `bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package`\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n`bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package`\r\n\r\n**Any other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n`Extracting Bazel installation...\r\nStarting local Bazel server and connecting to it...\r\nWARNING: The following configs were expanded more than once: [cuda]. For repeatable flags, repeats are counted twice and may lead to unexpected behavior.\r\nINFO: Options provided by the client:\r\n  Inherited 'common' options: --isatty=1 --terminal_columns=172\r\nINFO: Reading rc options for 'build' from /root/tensorflow/.bazelrc:\r\n  Inherited 'common' options: --experimental_repo_remote_exec\r\nINFO: Reading rc options for 'build' from /root/tensorflow/.bazelrc:\r\n  'build' options: --define framework_shared_object=true --java_toolchain=@tf_toolchains//toolchains/java:tf_java_toolchain --host_java_toolchain=@tf_toolchains//toolchains/java:tf_java_toolchain --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone -c opt --announce_rc --define=grpc_no_ares=true --noincompatible_remove_legacy_whole_archive --enable_platform_specific_config --define=with_xla_support=true --config=short_logs --config=v2 --define=no_aws_support=true --define=no_hdfs_support=true\r\nINFO: Reading rc options for 'build' from /root/tensorflow/.tf_configure.bazelrc:\r\n  'build' options: --action_env PYTHON_BIN_PATH=/usr/bin/python3 --action_env PYTHON_LIB_PATH=/usr/lib/python3/dist-packages --python_path=/usr/bin/python3 --action_env CUDA_TOOLKIT_PATH=/usr/local/cuda-11.1 --action_env TF_CUDA_COMPUTE_CAPABILITIES=3.5,7.0 --action_env LD_LIBRARY_PATH=/usr/local/nvidia/lib:/usr/local/nvidia/lib64 --action_env GCC_HOST_COMPILER_PATH=/usr/bin/x86_64-linux-gnu-gcc-7 --config=cuda\r\nINFO: Reading rc options for 'build' from /root/tensorflow/.bazelrc:\r\n  'build' options: --deleted_packages=tensorflow/compiler/mlir/tfrt,tensorflow/compiler/mlir/tfrt/benchmarks,tensorflow/compiler/mlir/tfrt/jit/python_binding,tensorflow/compiler/mlir/tfrt/jit/transforms,tensorflow/compiler/mlir/tfrt/python_tests,tensorflow/compiler/mlir/tfrt/tests,tensorflow/compiler/mlir/tfrt/tests/saved_model,tensorflow/compiler/mlir/tfrt/transforms/lhlo_gpu_to_tfrt_gpu,tensorflow/core/runtime_fallback,tensorflow/core/runtime_fallback/conversion,tensorflow/core/runtime_fallback/kernel,tensorflow/core/runtime_fallback/opdefs,tensorflow/core/runtime_fallback/runtime,tensorflow/core/runtime_fallback/util,tensorflow/core/tfrt/common,tensorflow/core/tfrt/eager,tensorflow/core/tfrt/eager/backends/cpu,tensorflow/core/tfrt/eager/backends/gpu,tensorflow/core/tfrt/eager/core_runtime,tensorflow/core/tfrt/eager/cpp_tests/core_runtime,tensorflow/core/tfrt/fallback,tensorflow/core/tfrt/gpu,tensorflow/core/tfrt/run_handler_thread_pool,tensorflow/core/tfrt/runtime,tensorflow/core/tfrt/saved_model,tensorflow/core/tfrt/saved_model/tests,tensorflow/core/tfrt/tpu,tensorflow/core/tfrt/utils\r\nINFO: Found applicable config definition build:short_logs in file /root/tensorflow/.bazelrc: --output_filter=DONT_MATCH_ANYTHING\r\nINFO: Found applicable config definition build:v2 in file /root/tensorflow/.bazelrc: --define=tf_api_version=2 --action_env=TF2_BEHAVIOR=1\r\nINFO: Found applicable config definition build:cuda in file /root/tensorflow/.bazelrc: --repo_env TF_NEED_CUDA=1 --crosstool_top=@local_config_cuda//crosstool:toolchain --@local_config_cuda//:enable_cuda\r\nINFO: Found applicable config definition build:cuda in file /root/tensorflow/.bazelrc: --repo_env TF_NEED_CUDA=1 --crosstool_top=@local_config_cuda//crosstool:toolchain --@local_config_cuda//:enable_cuda\r\nINFO: Found applicable config definition build:linux in file /root/tensorflow/.bazelrc: --copt=-w --host_copt=-w --define=PREFIX=/usr --define=LIBDIR=$(PREFIX)/lib --define=INCLUDEDIR=$(PREFIX)/include --define=PROTOBUF_INCLUDE_PATH=$(PREFIX)/include --cxxopt=-std=c++14 --host_cxxopt=-std=c++14 --config=dynamic_kernels --distinct_host_configuration=false --experimental_guard_against_concurrent_changes\r\nINFO: Found applicable config definition build:dynamic_kernels in file /root/tensorflow/.bazelrc: --define=dynamic_loaded_kernels=true --copt=-DAUTOLOAD_DYNAMIC_KERNELS\r\nWARNING: Download from http://mirror.tensorflow.org/github.com/tensorflow/runtime/archive/5d226f5ff8a38cd00f5596186870c15c488a9a67.tar.gz failed: class com.google.devtools.build.lib.bazel.repository.downloader.UnrecoverableHttpException GET returned 404 Not Found\r\nWARNING: Download from https://storage.googleapis.com/mirror.tensorflow.org/github.com/llvm/llvm-project/archive/471b25e217e635e058bbdbca8c693e2998380a60.tar.gz failed: class com.google.devtools.build.lib.bazel.repository.downloader.UnrecoverableHttpException GET returned 404 Not Found\r\nDEBUG: /root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/external/bazel_tools/tools/cpp/lib_cc_configure.bzl:118:10:\r\nAuto-Configuration Warning: 'TMP' environment variable is not set, using 'C:\\Windows\\Temp' as default\r\nWARNING: Download from https://storage.googleapis.com/mirror.tensorflow.org/github.com/abseil/abseil-py/archive/pypi-v0.14.1.tar.gz failed: class com.google.devtools.build.lib.bazel.repository.downloader.UnrecoverableHttpException GET returned 404 Not Found\r\nDEBUG: Rule 'io_bazel_rules_docker' indicated that a canonical reproducible form can be obtained by modifying arguments shallow_since = \"1596824487 -0400\"\r\nDEBUG: Repository io_bazel_rules_docker instantiated at:\r\n  /root/tensorflow/WORKSPACE:23:14: in <toplevel>\r\n  /root/tensorflow/tensorflow/workspace0.bzl:108:34: in workspace\r\n  /root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/external/bazel_toolchains/repositories/repositories.bzl:35:23: in repositories\r\nRepository rule git_repository defined at:\r\n  /root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/external/bazel_tools/tools/build_defs/repo/git.bzl:199:33: in <toplevel>\r\nERROR: /root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/external/local_config_python/BUILD:69:8: in outs attribute of genrule rule @local_config_python//:python_include: Genrules without outputs don't make sense\r\nINFO: Repository XNNPACK instantiated at:\r\n  /root/tensorflow/WORKSPACE:15:14: in <toplevel>\r\n  /root/tensorflow/tensorflow/workspace2.bzl:1090:21: in workspace\r\n  /root/tensorflow/tensorflow/workspace2.bzl:134:20: in _tf_repositories\r\n  /root/tensorflow/third_party/repo.bzl:113:21: in tf_http_archive\r\nRepository rule _tf_http_archive defined at:\r\n  /root/tensorflow/third_party/repo.bzl:66:35: in <toplevel>\r\nINFO: Repository cudnn_frontend_archive instantiated at:\r\n  /root/tensorflow/WORKSPACE:15:14: in <toplevel>\r\n  /root/tensorflow/tensorflow/workspace2.bzl:1090:21: in workspace\r\n  /root/tensorflow/tensorflow/workspace2.bzl:165:20: in _tf_repositories\r\n  /root/tensorflow/third_party/repo.bzl:113:21: in tf_http_archive\r\nRepository rule _tf_http_archive defined at:\r\n  /root/tensorflow/third_party/repo.bzl:66:35: in <toplevel>\r\nERROR: Analysis of target '//tensorflow/tools/pip_package:build_pip_package' failed; build aborted: Analysis of target '@local_config_python//:python_include' failed\r\nINFO: Elapsed time: 58.903s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully (430 packages loaded, 17632 targets configured)\r\n    Fetching @cython; fetching\r\n    Fetching ...7b8d97/external/cython; Extracting /root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/external/cython/temp17300240480834963304/0.29.21.tar.gz\r\n    Fetching @mkl_dnn_v1; fetching\r\n    Fetching ...external/mkl_dnn_v1; Extracting /root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/external/mkl_dnn_v1/temp3837256909875719335/v2.4-rc.tar.gz`\r\n", "comments": ["Hi @weihanmines ! Could you try again with [tested configurations ](https://www.tensorflow.org/install/source#gpu)from here . Thank you!", "> Hi @weihanmines ! Could you try again with [tested configurations ](https://www.tensorflow.org/install/source#gpu)from here . Thank you!\r\n\r\nIt works. Thank you.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/52702\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/52702\">No</a>\n"]}, {"number": 52701, "title": "A negative size in one of the split sizes allowed the computed size o\u2026", "body": "\u2026f another\r\n\r\nto exceed the total dimension, leading to a segfault and security vulnerability.\r\nAdding a check for negative sizes prevents this.\r\n\r\nPiperOrigin-RevId: 401035665\r\nChange-Id: I79bbe329787dac82aa4bf60397a9129b716aedab", "comments": []}, {"number": 52700, "title": "A negative size in one of the split sizes allowed the computed size o\u2026", "body": "\u2026f another\r\n\r\nto exceed the total dimension, leading to a segfault and security vulnerability.\r\nAdding a check for negative sizes prevents this.\r\n\r\nPiperOrigin-RevId: 401035665\r\nChange-Id: I79bbe329787dac82aa4bf60397a9129b716aedab", "comments": []}, {"number": 52699, "title": "Make SparseFillEmptyRows validate that the length of `values` must be\u2026", "body": "\u2026 equal to the number of index tuples.\r\n\r\nPiperOrigin-RevId: 399969549\r\nChange-Id: I3c2f2ca1c1d2cc88bb5951c6958b38c16e9436c8", "comments": []}, {"number": 52698, "title": "Make SparseFillEmptyRows validate that the length of `values` must be\u2026", "body": "\u2026 equal to the number of index tuples.\r\n\r\nPiperOrigin-RevId: 399969549\r\nChange-Id: I3c2f2ca1c1d2cc88bb5951c6958b38c16e9436c8", "comments": []}, {"number": 52697, "title": "Make SparseFillEmptyRows validate that the length of `values` must be\u2026", "body": "\u2026 equal to the number of index tuples.\r\n\r\nPiperOrigin-RevId: 399969549\r\nChange-Id: I3c2f2ca1c1d2cc88bb5951c6958b38c16e9436c8", "comments": []}, {"number": 52696, "title": "Prevent out-of-bound accesses in SparseBincount.", "body": "PiperOrigin-RevId: 399918616\r\nChange-Id: I11d154f4444d3fde1f09c5c40628b8671791a30d", "comments": []}, {"number": 52695, "title": "Prevent out-of-bound accesses in SparseBincount.", "body": "PiperOrigin-RevId: 399918616\r\nChange-Id: I11d154f4444d3fde1f09c5c40628b8671791a30d", "comments": []}, {"number": 52694, "title": "Prevent out-of-bound accesses in SparseBincount.", "body": "PiperOrigin-RevId: 399918616\r\nChange-Id: I11d154f4444d3fde1f09c5c40628b8671791a30d", "comments": []}, {"number": 52693, "title": "Prevent out-of-bound accesses in SparseBincount.", "body": "PiperOrigin-RevId: 399918616\r\nChange-Id: I11d154f4444d3fde1f09c5c40628b8671791a30d", "comments": []}, {"number": 52692, "title": "Detection of images using Object Detection Algorithm based on YOLO (importing tensorflow) in different setups", "body": "Hi,\r\n\r\nI have been running some detections of images by calling upon trained weights for YOLOv3. This is all done through either tensorflow or tensorflow-GPU.\r\nSome of these detections are done through my own laptop (CPU bases -- Mac) and sometimes using GPU Clusters which we can only access by SSH. \r\nI noticed that for the very same weights being used, on different laptops and CPU workstations the detections are the same.\r\nHowever, in case of using a GPU cluster or CPU cluster which does not have any display input, the detections are different.\r\nApart from this, the workspace is identical.\r\n\r\nDoes this have to do anything with the fact that some display drivers are not installed or some tensorflow libraries are missing??\r\n\r\nI know this is a pretty generic query, and I'll try my best to elaborate further if required.\r\n\r\nThanks", "comments": ["@AnishKumarNayak \r\nIn order to expedite the trouble-shooting process here,Could you please fill the issue [template](https://github.com/tensorflow/tensorflow/issues/new/choose),Thanks!", "This issue has been automatically marked as stale because it has no recent activity. It will be closed if no further activity occurs. Thank you.\n", "Closing as stale. Please reopen if you'd like to work on this further.\n"]}, {"number": 52691, "title": "Minor fix for doc string for `avg_pool3d`", "body": null, "comments": ["\nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed (or fixed any issues), please reply here with `@googlebot I signed it!` and we'll verify it.\n\n----\n\n#### What to do if you already signed the CLA\n\n##### Individual signers\n\n*   It's possible we don't have your GitHub username or you're using a different email address on your commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n\n##### Corporate signers\n\n*   Your company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to [go/cla#troubleshoot](http://go/cla#troubleshoot) ([Public version](https://opensource.google/docs/cla/#troubleshoot)).\n*   The email used to register you as an authorized contributor must be the email used for the Git commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n*   The email used to register you as an authorized contributor must also be [attached to your GitHub account](https://github.com/settings/emails).\n\t\t\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F52691) for more info**.\n\n<!-- need_sender_cla -->"]}, {"number": 52690, "title": "Prevent unitialized variable use in grappler.", "body": "PiperOrigin-RevId: 399702928\r\nChange-Id: Id7e75451fbff297692dfb687f60ea04b25c96b24", "comments": []}, {"number": 52689, "title": "Prevent unitialized variable use in grappler.", "body": "PiperOrigin-RevId: 399702928\r\nChange-Id: Id7e75451fbff297692dfb687f60ea04b25c96b24", "comments": []}, {"number": 52688, "title": "Prevent unitialized variable use in grappler.", "body": "PiperOrigin-RevId: 399702928\r\nChange-Id: Id7e75451fbff297692dfb687f60ea04b25c96b24", "comments": []}, {"number": 52687, "title": "Prevent unitialized variable use in grappler.", "body": "PiperOrigin-RevId: 399702928\r\nChange-Id: Id7e75451fbff297692dfb687f60ea04b25c96b24", "comments": []}, {"number": 52686, "title": "Create a hybrid tf-tfl lowering pipline for TOSA", "body": "By adding the pass to lift Flex ops to TensorFlow Dialect operations it is\r\npossible to have a mixture of both TensorFlow and TensorFlow Lite dialects.\r\nHaving a combined set of patterns using TOSA's shape inference frameowrk it is\r\npossible to fully lower / shape infer TFLite models with flex operations.\r\n\r\nThese patterns must be included in a single pass so that shape inference can\r\nexecute on both dialects. If performed separately, lack of cooperating\r\nlowerings may not result in a fully available lowering.", "comments": []}]