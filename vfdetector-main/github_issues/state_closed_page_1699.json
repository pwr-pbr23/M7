[{"number": 1930, "title": "Fix typo in batch normalization documentation", "body": "", "comments": ["Can one of the admins verify this patch?\n", "Can one of the admins verify this patch?\n"]}, {"number": 1929, "title": "Add further changes for complex128 support", "body": "I'm now back to working on extending the existing ops to support `complex128` where appropriate.\nThis addresses #1517.\n\nThis is not close to being complete yet, but I thought I should start a PR.\n", "comments": ["Can one of the admins verify this patch?\n", "Can one of the admins verify this patch?\n", "Looks great!  Please smash once you fix the notes above to avoid the merge conflicted commit.\n", "Thanks for the suggestions!\n", "ping for update?\n", "@vrv, @ibab: I was waiting for the smash.  Unfortunately now we have an overlapping PR here: https://github.com/tensorflow/tensorflow/pull/2263. \n", "Sorry, was extremely busy with my PhD for a few weeks.\n@hunkim's overlapping PR is a bit strange.\nLooks like it doesn't correctly handle the floating point precision when going from complex to float and vice versa.\n(For example, taking the real part of a complex128 returns a single precision float)\nHandling this correctly is most of the work in this PR.\n\nI can address @girving's suggestions over the next few days if there's still interest in merging this.\n", "Apologies, @ibab and @hunkim: I should have remembered the original PR when I started reviewing the new one.  Apologies also for forgetting about the precision issue.  @hunkim: Would you be okay with @ibab finishing up his PR since it handles the precision correctly? \n", "@ibab Thanks for pointing it out. I was not aware of this PR. I think we should go for your PR first. \n@girving, absolutely. \n", "I rebased my changes on top of `master`, fixing the resulting merge conflicts and applying @girving's comments.\nIn order to get the tests to pass, I've converted a few more of the ops to `complex128`, but I tried to keep it minimal in order to not conflict with @hunkim's PR too much.\n\nAlso, I didn't commit the `ops.pbtxt`, as it seems that there are currently some unrelated ops on `master` for which the `ops.pbtxt` hasn't been committed yet.\n", " @ibab if you want, feel free to grab my changes into your PR.\n\nBTW, how was your PHD work? Good luck!\n\nOn Sat, May 14, 2016 at 4:30 PM, Igor Babuschkin notifications@github.com\nwrote:\n\n> I rebased my changes on top of master, fixing the resulting merge\n> conflicts and applying @girving https://github.com/girving's comments.\n> In order to get the tests to pass, I've converted a few more of the ops to\n> complex128, but I tried to keep it minimal in order to not conflict with\n> @hunkim https://github.com/hunkim's PR too much.\n> \n> Also, I didn't commit the ops.pbtxt, as it seems that there are currently\n> some unrelated ops on master for which the ops.pbtxt hasn't been\n> committed yet.\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub\n> https://github.com/tensorflow/tensorflow/pull/1929#issuecomment-219252568\n", "@hunkim:\n\n> BTW, how was your PHD work? Good luck!\n\nThanks, it's going great.\n\nI think we should try to keep the PRs as small as possible to make it easier to review them.\nSo we could continue with your PR, or make a new one after this.\n", "Sounds good.\n\nOn Mon, May 16, 2016 at 2:58 AM, Igor Babuschkin notifications@github.com\nwrote:\n\n> @hunkim https://github.com/hunkim:\n> \n> BTW, how was your PHD work? Good luck!\n> \n> Thanks, it's going great.\n> \n> I think we should try to keep the PRs as small as possible to make it\n> easier to review them.\n> So we could continue with your PR, or make a new one after this.\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub\n> https://github.com/tensorflow/tensorflow/pull/1929#issuecomment-219369787\n", "Looks good!  Jenkins, test this please.\n", "Sweet, tests pass.  @ibab: Shall I go ahead and merge?\n", "I went ahead and merged.  Further changes in further PRs.  Thank you for the contribution!\n", "Thanks!\n@hunkim: Would you prefer if we continue development on #2263 or should I make a new PR?\nYour PR contains many of the changes we would need for complete `complex128` support, but we would have to fix some merge conflicts.\n", "I think it makes sense if you finish this complex128 change. Please go\nahead. Thanks.\nOn Mon, May 16, 2016 at 4:54 PM Igor Babuschkin notifications@github.com\nwrote:\n\n> Thanks!\n> @hunkim https://github.com/hunkim: Would you prefer if we continue\n> development on #2263 https://github.com/tensorflow/tensorflow/pull/2263\n> or should I make a new PR?\n> Your PR contains many of the changes we would need for complete complex128\n> support, but we would have to fix some merge conflicts.\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub\n> https://github.com/tensorflow/tensorflow/pull/1929#issuecomment-219559733\n"]}, {"number": 1928, "title": "Some tests (GPU ones?) hang for about 300 seconds before running ", "body": "A lot of tests seem to run very slowly - like for 5 minutes - I think it's the ones that use the GPU. It always hangs at the start of the test right after:\n\n`I tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 750 Ti, pci bus id: 0000:01:00.0)`\n\nThe python test process runs at 100% CPU. If I interrupt it with `cuda-gdb` I see this:\n\n```\n1 ryan@gpu:~$ sudo /usr/local/cuda/bin/cuda-gdb -p 12367\nNVIDIA (R) CUDA Debugger\n7.5 release\n[...]\n(cuda-gdb) bt\n#0  0x00007fcb15494da0 in pthread_cond_wait@@GLIBC_2.3.2 ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007fcaee409cdc in std::condition_variable::wait(std::unique_lock<std::mutex>&) ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#2  0x00007fcafa9d2455 in tensorflow::Notification::WaitForNotification() ()\n   from /home/ryan/src/tensorflow/_python_build/tensorflow/python/_pywrap_tensorflow.so\n#3  0x00007fcafbe4e157 in tensorflow::DirectSession::WaitForNotification(tensorflow::DirectSession::RunState*, long long) ()\n   from /home/ryan/src/tensorflow/_python_build/tensorflow/python/_pywrap_tensorflow.so\n#4  0x00007fcafbe499ef in tensorflow::DirectSession::Run(tensorflow::RunOptions const&, std::vector<std::pair<std::string, tensorflow::Tensor>, std::allocator<std::pair<std::string, tensorflow::Tensor> > > const&, std::vector<std::string, std::allocator<std::string> > const&, std::vector<std::string, std::allocator<std::string> > const&, std::vector<tensorflow::Tensor, std::allocator<tensorflow::Tensor> >*, tensorflow::RunMetadata*) ()\n   from /home/ryan/src/tensorflow/_python_build/tensorflow/python/_pywrap_tensorflow.so\n#5  0x00007fcafbe49291 in tensorflow::DirectSession::Run(std::vector<std::pair<std::string, tensorflow::Tensor>, std::allocator<std::pair<std::string, tensorflow::Tensor> > > const&, std::vector<std::string, std::allocator<std::string> > const&, std::vector<std::string, std::allocator<std::string> > const&, std::vector<tensorflow::Tensor, std::allocator<tensorflow::Tensor> >*) () from /home/ryan/src/tensorflow/_python_build/tensorflow/python/_pywrap_tensorflow.so\n#6  0x00007fcafc0a5894 in TF_Run_Helper(TF_Session*, char const*, TF_Buffer const*, char const**, TF_Tensor**, int, char const**, TF_Tensor**, int, char const**, int, TF_Buffer*, TF_Status---Type <return> to continue, or q <return> to quit---q\nQuit\n(cuda-gdb) info threads\n  Id   Target Id         Frame\n  10   Thread 0x7fcb11450700 (LWP 12373) \"python\" 0x00007fcb15494da0 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n  9    Thread 0x7fcad0d66700 (LWP 12374) \"python\" 0x00007fcb15494da0 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n  8    Thread 0x7fcacbfff700 (LWP 12375) \"python\" 0x00007fcb15494da0 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n  7    Thread 0x7fcacb7fe700 (LWP 12376) \"python\" 0x00007fcb151b988d in poll ()\n   from /lib/x86_64-linux-gnu/libc.so.6\n  6    Thread 0x7fcabffff700 (LWP 12377) \"python\" 0x00007fcb15494da0 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n  5    Thread 0x7fcabf7fe700 (LWP 12378) \"python\" 0x00007fcb15495149 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n  4    Thread 0x7fcabeffd700 (LWP 12379) \"python\" 0x00007fcb15494da0 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n  3    Thread 0x7fcabe7fc700 (LWP 12380) \"python\" 0x00007fcae1280e5f in ?? ()\n   from /usr/lib/x86_64-linux-gnu/libcuda.so.1\n  2    Thread 0x7fcabdffb700 (LWP 12381) \"python\" 0x00007fcb15494da0 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n* 1    Thread 0x7fcb1589e700 (LWP 12367) \"python\" 0x00007fcb15494da0 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n(cuda-gdb) thread 3\n[Switching to thread 3 (Thread 0x7fcabe7fc700 (LWP 12380))]\n#0  0x00007fcae1280e5f in ?? () from /usr/lib/x86_64-linux-gnu/libcuda.so.1\n(cuda-gdb) bt\n#0  0x00007fcae1280e5f in ?? () from /usr/lib/x86_64-linux-gnu/libcuda.so.1\n#1  0x00007fcae159fdcd in cudbgGetAPIVersion () from /usr/lib/x86_64-linux-gnu/libcuda.so.1\n#2  0x00007fcae1595f75 in cudbgGetAPIVersion () from /usr/lib/x86_64-linux-gnu/libcuda.so.1\n#3  0x00007fcae1537423 in cudbgGetAPIVersion () from /usr/lib/x86_64-linux-gnu/libcuda.so.1\n#4  0x00007fcae151f416 in cudbgGetAPIVersion () from /usr/lib/x86_64-linux-gnu/libcuda.so.1\n#5  0x00007fcae1503a3d in cudbgGetAPIVersion () from /usr/lib/x86_64-linux-gnu/libcuda.so.1\n#6  0x00007fcae15244be in cudbgGetAPIVersion () from /usr/lib/x86_64-linux-gnu/libcuda.so.1\n#7  0x00007fcae1527932 in cudbgGetAPIVersion () from /usr/lib/x86_64-linux-gnu/libcuda.so.1\n#8  0x00007fcae151ee1f in cudbgGetAPIVersion () from /usr/lib/x86_64-linux-gnu/libcuda.so.1\n#9  0x00007fcae14fb6c4 in cudbgGetAPIVersion () from /usr/lib/x86_64-linux-gnu/libcuda.so.1\n#10 0x00007fcae14fca7d in cudbgGetAPIVersion () from /usr/lib/x86_64-linux-gnu/libcuda.so.1\n#11 0x00007fcae1351204 in cuMemGetAttribute_v2 () from /usr/lib/x86_64-linux-gnu/libcuda.so.1\n#12 0x00007fcae1351bfe in cuMemGetAttribute_v2 () from /usr/lib/x86_64-linux-gnu/libcuda.so.1\n#13 0x00007fcae143f8a0 in cudbgGetAPIVersion () from /usr/lib/x86_64-linux-gnu/libcuda.so.1\n#14 0x00007fcae143fbb0 in cudbgGetAPIVersion () from /usr/lib/x86_64-linux-gnu/libcuda.so.1\n#15 0x00007fcaee6fe52d in cudaGetExportTable ()\n   from /home/ryan/src/tensorflow/_python_build/tensorflow/python/../../_solib_local/_U_S_Sthird_Uparty_Sgpus_Scuda_Ccudart___Uthird_Uparty_Sgpus_Scuda_Slib64/libcudart.so.7.5\n#16 0x00007fcaee6f2ba0 in cudaGetExportTable ()\n   from /home/ryan/src/tensorflow/_python_build/tensorflow/python/../../_solib_local/_U_S_Sthird_Uparty_Sgpus_Scuda_Ccudart___Uthird_Uparty_Sgpus_Scuda_Slib64/libcudart.so.7.5\n#17 0x00007fcaee6fd796 in cudaGetExportTable ()\n---Type <return> to continue, or q <return> to quit---q\n from /home/ryan/src/tensorflow/_python_build/tQuit\n(cuda-gdb)\n```\n\nSo it looks like it's waiting for a GPU compilation. nvidia-smi doesn't make it seem like it's working hard though:\n\n```\n0 ryan@gpu:~$ nvidia-smi\nWed Apr 13 16:13:25 2016\n+------------------------------------------------------+\n| NVIDIA-SMI 352.39     Driver Version: 352.39         |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  GeForce GTX 750 Ti  On   | 0000:01:00.0      On |                  N/A |\n| 42%   29C    P0     2W /  52W |    898MiB /  2044MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n\n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID  Type  Process name                               Usage      |\n|=============================================================================|\n|    0       652    G   /usr/bin/X                                     135MiB |\n|    0      1143    G   compiz                                          52MiB |\n|    0     12367    C   /home/ryan/src/python-local/bin/python         700MiB |\n+-----------------------------------------------------------------------------+\n```\n\nHere is a partial list of tests that ran in hundreds of seconds:\n\n```\n//tensorflow/python:argmax_op_test                                       PASSED in 301.2s\n//tensorflow/python:attention_ops_test                                   PASSED in 303.4s\n//tensorflow/python:bias_op_test                                         PASSED in 317.5s\n//tensorflow/python:cast_op_test                                         PASSED in 318.2s\n//tensorflow/python:concat_op_test                                       PASSED in 321.0s\n//tensorflow/python:constant_op_test                                     PASSED in 308.4s\n//tensorflow/python:control_flow_ops_py_test                             PASSED in 321.2s\n//tensorflow/python:conv_ops_test                                        PASSED in 330.7s\n//tensorflow/python:dense_update_ops_test                                PASSED in 307.6s\n//tensorflow/python:depthtospace_op_test                                 PASSED in 323.4s\n//tensorflow/python:fft_ops_test                                         PASSED in 343.8s\n//tensorflow/python:gather_nd_op_test                                    PASSED in 317.7s\n//tensorflow/python:gather_op_test                                       PASSED in 315.2s\n//tensorflow/python:gradient_checker_test                                PASSED in 288.4s\n//tensorflow/python:gradients_test                                       PASSED in 317.1s\n//tensorflow/python:graph_util_test                                      PASSED in 304.8s\n//tensorflow/python:image_grad_test                                      PASSED in 296.9s\n//tensorflow/python:image_ops_test                                       PASSED in 301.3s\n//tensorflow/python:init_ops_test                                        PASSED in 317.3s\n//tensorflow/python:math_grad_test                                       PASSED in 317.3s\n//tensorflow/python:math_ops_test                                        PASSED in 368.2s\n//tensorflow/python:matmul_op_test                                       PASSED in 319.3s\n//tensorflow/python:nn_test                                              PASSED in 338.6s\n//tensorflow/python:numerics_test                                        PASSED in 310.5s\n//tensorflow/python:one_hot_op_test                                      PASSED in 306.0s\n//tensorflow/python:pack_op_test                                         PASSED in 318.6s\n//tensorflow/python:pad_op_test                                          PASSED in 320.0s\n//tensorflow/python:pooling_ops_test                                     PASSED in 333.5s\n//tensorflow/python:random_ops_test                                      PASSED in 325.2s\n//tensorflow/python:reduction_ops_test                                   PASSED in 313.2s\n//tensorflow/python:relu_op_test                                         PASSED in 308.5s\n//tensorflow/python:reverse_sequence_op_test                             PASSED in 304.1s\n//tensorflow/python:rnn_test                                             PASSED in 371.4s\n//tensorflow/python:saver_test                                           PASSED in 305.0s\n//tensorflow/python:scatter_ops_test                                     PASSED in 344.2s\n//tensorflow/python:server_lib_test                                      PASSED in 315.3s\n//tensorflow/python:session_manager_test                                 PASSED in 342.9s\n//tensorflow/python:shape_ops_test                                       PASSED in 312.7s\n//tensorflow/python:slice_op_test                                        PASSED in 429.0s\n//tensorflow/python:softmax_op_test                                      PASSED in 303.4s\n//tensorflow/python:softplus_op_test                                     PASSED in 314.8s\n//tensorflow/python:softsign_op_test                                     PASSED in 313.2s\n//tensorflow/python:spacetodepth_op_test                                 PASSED in 315.3s\n//tensorflow/python:sparse_tensor_dense_matmul_grad_test                 PASSED in 299.8s\n//tensorflow/python:sparse_tensor_dense_matmul_op_test                   PASSED in 319.6s\n//tensorflow/python:sparse_xent_op_test                                  PASSED in 318.2s\n//tensorflow/python:split_op_test                                        PASSED in 302.2s\n//tensorflow/python:stack_ops_test                                       PASSED in 317.1s\n//tensorflow/python:supervisor_test                                      PASSED in 327.9s\n//tensorflow/python:template_test                                        PASSED in 302.0s\n//tensorflow/python:tensor_array_ops_test                                PASSED in 313.5s\n//tensorflow/python:training_ops_test                                    PASSED in 312.4s\n//tensorflow/python:transpose_op_test                                    PASSED in 303.2s\n//tensorflow/python:unpack_op_test                                       PASSED in 299.1s\n//tensorflow/python:variable_ops_test                                    PASSED in 317.2s\n//tensorflow/python:cwise_ops_test                                      TIMEOUT in 505.0s\n//tensorflow/python:xent_op_test                                        TIMEOUT in 505.0s\n//tensorflow/python:depthwise_conv_op_test                               FAILED in 304.2s\n//tensorflow/python:function_test                                        FAILED in 309.4s\n//tensorflow/python:session_test                                         FAILED in 320.8s\n```\n", "comments": ["I assume you're running via bazel?  What if you just run the test manually / in isolation like\n\nbazel-bin/tensorflow/python/math_ops_test ?\n", "@vrv hangs in the same way \n", "Hm, when you set ./configure, did you specify cuda compute capability to 5.0?\n\nI wonder if this is related to ptx-sass compilation somewhere.\n", "@vrv cc 5.0 solved it - thank you\n"]}, {"number": 1927, "title": "libpng error when plotting in notebook after importing tensorflow", "body": "### Environment info\n\nOperating System: CentOS Linux 7 x86_64\n### Tensorflow version\n\n0.8.0rc0 (from binary)\n### Steps to reproduce\n1. Fresh conda environment: `conda create -y -n plt_tf python=3.4 jupyter notebook matplotlib numpy && source activate plt_tf`\n2. `pip install --upgrade https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.8.0rc0-cp34-cp34m-linux_x86_64.whl`\n3. Launch a notebook server and execute the following:\n\n```\nimport tensorflow as tf\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nplt.plot([1,2], [1,2])\n```\n### Logs or other output that would be helpful\n\nTraceback:\n\n```\n---------------------------------------------------------------------------\nRuntimeError                              Traceback (most recent call last)\n/home/bnaul/miniconda3/envs/plt_tf/lib/python3.5/site-packages/IPython/core/formatters.py in __call__(self, obj)\n    337                 pass\n    338             else:\n--> 339                 return printer(obj)\n    340             # Finally look for special method names\n    341             method = _safe_get_formatter_method(obj, self.print_method)\n\n/home/bnaul/miniconda3/envs/plt_tf/lib/python3.5/site-packages/IPython/core/pylabtools.py in <lambda>(fig)\n    224 \n    225     if 'png' in formats:\n--> 226         png_formatter.for_type(Figure, lambda fig: print_figure(fig, 'png', **kwargs))\n    227     if 'retina' in formats or 'png2x' in formats:\n    228         png_formatter.for_type(Figure, lambda fig: retina_figure(fig, **kwargs))\n\n/home/bnaul/miniconda3/envs/plt_tf/lib/python3.5/site-packages/IPython/core/pylabtools.py in print_figure(fig, fmt, bbox_inches, **kwargs)\n    115 \n    116     bytes_io = BytesIO()\n--> 117     fig.canvas.print_figure(bytes_io, **kw)\n    118     data = bytes_io.getvalue()\n    119     if fmt == 'svg':\n\n/home/bnaul/miniconda3/envs/plt_tf/lib/python3.5/site-packages/matplotlib/backend_bases.py in print_figure(self, filename, dpi, facecolor, edgecolor, orientation, format, **kwargs)\n   2178                     orientation=orientation,\n   2179                     dryrun=True,\n-> 2180                     **kwargs)\n   2181                 renderer = self.figure._cachedRenderer\n   2182                 bbox_inches = self.figure.get_tightbbox(renderer)\n\n/home/bnaul/miniconda3/envs/plt_tf/lib/python3.5/site-packages/matplotlib/backends/backend_agg.py in print_png(self, filename_or_obj, *args, **kwargs)\n    535             close = False\n    536         try:\n--> 537             _png.write_png(renderer._renderer, filename_or_obj, self.figure.dpi)\n    538         finally:\n    539             if close:\n\nRuntimeError: Could not create write struct\n```\n\nServer log:\n\n```\nlibpng warning: Application was compiled with png.h from libpng-1.6.17\nlibpng warning: Application  is  running with png.c from libpng-1.2.53\nlibpng error: Incompatible libpng version in application and library\n```\n### Workaround\n\nImporting `tensorflow` after `matplotlib` prevents this from happening.\n", "comments": ["Similar to #1924?\n", "Since this looks like the same issue as #1924, let's close this issue for now and continue the discussion over there.\n", "put the \"import pylab\"  before \"import tensorflow as tf\" and it may help\nso, the code likes this\n\n``` [python]\nimport pylab\nimport tensorflow as tf\n\nblabla....\n```\n"]}, {"number": 1926, "title": "Fix TensorBoard lib/css dependency", "body": "", "comments": ["Can you make another one against r0.8?\n", "How long would it take for this fix to reflect in the pip install? Thanks.\n", "Should happen tomorrow.\n"]}, {"number": 1925, "title": "Fix TensorBoard by depending on the lib/css file properly", "body": "", "comments": ["Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit https://cla.developers.google.com/ to sign.**\n\nOnce you've signed, please reply here (e.g. `I signed it!`) and we'll verify.  Thanks.\n\n---\n- If you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n- If you signed the CLA as a corporation, please let us know the company's name.\n\n<!-- need_sender_cla -->\n"]}, {"number": 1924, "title": "opencv imported after tensorflow can't read jpeg", "body": "### Environment info\n\nOperating System: Ubuntu 14.04. \n\nIf installed from sources, provide the commit hash: f952246b17562\n### Steps to reproduce\n\n``` bash\n$ python2 -c \"import tensorflow; import cv2; print cv2.imread('cat.jpg')\"\nNone\n```\n### What have you tried?\n\nimport cv2 before tensorflow works.\n\nThis problem also exists on CentOS 7. It doesn't happen on a latest ArchLinux.\nIt's likely due to that tensorflow has it's own libjpeg that conflicts with opencv on some platforms.\n", "comments": ["@keveman: Could this be related to the build configuration or the `dlopen()` flags that we're using to support `tf.load_op_library()` and friends? Perhaps there's some way we could structure the libraries so that `import cv2` doesn't link against TensorFlow's internal `libjpeg` or `libpng`?\n", "It is much more than just `jpeg`. I've been hit by this problem for weeks now, and investigating a bit further, I have a snippet of C++ code below that helps reproducing the weird behavior:\n\n``` C++\n#include <iostream>\n//#include \"tensorflow/core/public/session.h\"                                                                   \n#include \"tensorflow/core/platform/env.h\"\n//#include \"tensorflow/core/framework/tensor.h\"                                                                 \n\n#include <opencv2/opencv.hpp>\n#include <opencv2/imgproc/imgproc.hpp>\n\nint main(int argc, char** argv)\n{\n  // Loading the file path provided in the arg into a mat objects                                               \n  std::string path = argv[1];\n  cv::Mat readImage = cv::imread(path);\n  std::cerr << \"read image size\" << readImage.size() << std::endl;\n}\n```\n\nCompile and execute\n\n```\n./opencv_tensor grace_hopper.jpg\n```\n\nyields\n\n```\nread image size[517 x 606]\n```\n\nNow uncomment either `tensorflow/core/public/session.h` or `tensorflow/core/framework/tensor.h`, compile and execute:\n\n```\nread image size[0 x 0]\n```\n\nA few notes:\n- this uses OpenCV 2.x\n- including OpenCV headers before TF headers doesn't change anything\n- this also occurs with some but not all `png` images\n- I've tried to trace the problem back, and one of my current leading hypotheses is related to the `allocator.h` header of TF, as I see a possibility that the `Allocate` functions may be interfering with OpenCV allocator. EDIT: this may be ruled out by the fact that inverting the header import does not change this behavior.\n\n@keveman @mrry  I'm open to any lead I could help testing, typically if you know how I could investigate the `dlopen` lead you are mentioning, I'm your jack of all trade on this one!\n", "@beniz, thanks for offering to help. What is the command line you are using for compiling your opencv_tensor binary? I doubt that the problem involving `dlopen` and the one you are facing are the same, but you never know.\n", "@keveman thanks for the quick answer, see below, adapted to reflect any custom path:\n\n```\n/usr/bin/c++   -g -Wall -Wextra -fopenmp -fPIC -I/path/to/include \\\n-I/path/to/tensorflow/dbuild/external/eigen_archive/eigen-eigen-4c94692de3e5 \\\n-I/path/to/tensorflow/dbuild/external/eigen_archive -I/path/to/tensorflow/dbuild/tensorflow \\\n-I/path/to/tensorflow/bazel-out/local_linux-fastbuild/genfiles/ -std=c++11 -O2 opencv_tensor.cc  \\\n-o opencv_tensor  -L/path/to/lib -L/path/to/tensorflow/dbuild/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorflow \\\n-rdynamic -lopencv_core -lopencv_highgui -lopencv_imgproc -lboost_thread -lboost_system \\\n-lcrypto -lssl -ltensorflow \\\n-Wl,-rpath,/path/to/tensorflow/dbuild/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorflow\n```\n\n`opencv_tensor.cc` is the code shared in previous message. I'm pretty puzzled by this one.\n", "Do you mind switching around the order of the libraries? i.e., have the -ltensorflow at the beginning as follows : \n\n```\n/usr/bin/c++   -g -Wall -Wextra -fopenmp -fPIC -I/path/to/include \\\n-I/path/to/tensorflow/dbuild/external/eigen_archive/eigen-eigen-4c94692de3e5 \\\n-I/path/to/tensorflow/dbuild/external/eigen_archive -I/path/to/tensorflow/dbuild/tensorflow \\\n-I/path/to/tensorflow/bazel-out/local_linux-fastbuild/genfiles/ -std=c++11 -O2 opencv_tensor.cc  \\\n-o opencv_tensor  \\\n-ltensorflow \\\n-Wl,-rpath,/path/to/tensorflow/dbuild/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorflow \\\n-L/path/to/lib -L/path/to/tensorflow/dbuild/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorflow \\\n-rdynamic -lopencv_core -lopencv_highgui -lopencv_imgproc -lboost_thread -lboost_system \\\n-lcrypto -lssl\n```\n", "I had try something related, and tried yours (copied, pasted & fixed), tried several variations, but it doesn't work on my side. Am I right to infer that this is working for you ?\n", "I have same problem. \nEnvironment: \nUbuntu14.04\nTensorflow0.8\nOpencv3.0, 2.4.11\n", "Having same problem on recent nightly build of Tensorflow with GPU:\n\n```\n...\n    img = skimage.io.imread(path)\n  File \"/usr/local/lib/python2.7/dist-packages/skimage/io/_io.py\", line 100, in imread\n    img = call_plugin('imread', fname, plugin=plugin, **plugin_args)\n  File \"/usr/local/lib/python2.7/dist-packages/skimage/io/manage_plugins.py\", line 207, in call_plugin\n    return func(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/skimage/io/_plugins/pil_plugin.py\", line 52, in imread\n    raise ValueError('Could not load \"%s\"\\nPlease see documentation at: %s' % (fname, site))\nValueError: Could not load \"cat.jpg\"\nPlease see documentation at: http://pillow.readthedocs.org/en/latest/installation.html#external-libraries\n```\n\nThe weird thing here is that this same code works on my Python IDE 'Spyder', but not from the bash command-line.\nAlternatively, reversing the import order of tf/skimage solves the issue.\nAdditionally, Spyder has trouble finding skimage.io and skimage.transform unless I explicitly import them instead of just `import skimage`; whereas the command-line has no problem finding the submodules from `skimage`. This is not a problem but might explain a part of the differences between CL and IDE. Note: In Spyder I use a regular python interpreter, not IPython.\n", "@beniz not sure @keveman's patch fix the c++ issue you and @MasazI had. I just met the same issue while adding cv2 to tensorflow serving. Basically cv::imdecode always return empty image. Have you figured out a way to solve it? \n", "@dong-matroid we couldn't solve it, but it's been worked around into our `tf` branch by using the built-in image reading routines, see https://github.com/beniz/deepdetect/blob/tf/src/tfinputconns.h#L239\n", "@beniz Thanks for the workaround, make sense for images. I am also adding video clip decoding as a second step, will try ffmpeg library to see if the conflict with tensorflow goes away.\n", "Has anyone managed to solve the C++ issue, or work around it so that OpenCV's `cv::imdecode` could still be used? Is dynamic linking to `libtensorflow.so` the way to go? I'd even be happy with a solution that completely removed JPEG and PNG reading abilities from TensorFlow as I don't need them.\n", "Turns out that the C++ conflict between OpenCV and Tensorflow can be solved by using the same `tf_version_script.lds` with `libtensorflow.so` that was added in this commit: https://github.com/qbx2/tensorflow/commit/f2f9322db34d0d500bff2d7ac812c2daf53d4d79\n\nI'm happy now.\n", "@ilaripih good to know, can you give more details on what the script does and how to use this properly ?\n", "@beniz the linker script defines what symbols in `libtensorflow.so` will be exported: in this case it exports symbols that match the pattern `*tensorflow*` and keeps everything else (eg. everything from `libpng` and `libjpeg`) internal.\n\nI think all you need to do is add this to the `libtensorflow.so` Bazel rule:\n`linkopts = [ \"-Wl,--version-script=tensorflow/tf_version_script.lds\" ],`\nThen rebuild `libtensorflow.so`.\n", "put the \"import pylab\"  before \"import tensorflow as tf\" and it may help\nso, the code likes this\n\n``` [python]\nimport pylab\nimport tensorflow as tf\n\nblabla....\n```\n", "@ilaripih If I use that `linkopts` and rebuild, it seems that the produced `libtensorflow.so` doens't contain the C API functions. I get \"undefined reference\" for `TF_NewSession`, `TF_ExtendGraph` etc. Is there a way to include the C API to the library, but still filter out `libjpeg` etc.?\n", "@Ape If you need to export symbols not covered by `*tensorflow*`, you can add them to the version script's `global` section, eg.: `*tensorflow*; *TF_*;`\n", "@ilaripih It seems that the latest [tensorflow.bzl](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tensorflow.bzl) is the same as the [qbx2@f2f9322 ](https://github.com/qbx2/tensorflow/commit/f2f9322db34d0d500bff2d7ac812c2daf53d4d79) you just comment. But I still can't use the opencv(c++) read images. \nHere is my BUILD:\n\n```\ncc_binary(\nname = 'opencv_test',\nsrcs = [\"loader.cc\"],\nlinkopts = [\"-lopencv_core\",\"-lopencv_imgproc\", \"-lopencv_highgui\"],\ncopts = [\"-I/usr/include/\"],\ndeps = [\n  \"//tensorflow/cc:cc_ops\",\n  \"//tensorflow/core:framework_internal\",\n  \"//tensorflow/core:tensorflow\",\n]\n)\n```\n\nDid I miss something?Can you give an example of using the `opencv` and `tensorflow` simultaneous? Any advice would be grateful.\n", "@chenbiaolong My solution was to to build `libtensorflow.so` with the version script that only exports the `*tensorflow*` symbols, and link to it dynamically from my project. You seem to be using static linkage to some tensorflow modules, which won't work.\n\nI only used Bazel to build `libtensorflow.so`, but for building my own project I found that it was a lot easier to just use a traditional Makefile.\n", "@ilaripih Thank you for your reply.I try to use your solution to build my project.But when I try to compile the project, a lot of include errors occur.I had include the `.../tensorflow` and `.../bazel-genfiles/tensorflow`,but some errors like`atal error: eigen-eigenb4fa9622b809/unsupported/Eigen/CXX11/Tensor: No such file or directory` occur.what headers should I include when compile the projects?Thinks.\n", "@chenbiaolong  Ah yes, the headers are all over the place. I made a shell script that can copy all the needed headers into a single location: https://gist.github.com/ilaripih/928ec17298859f168eee8d12cf796ee8\n\nThe script assumes that you have cloned and built tensorflow at `/tensorflow`, and can be run like this to copy the headers to `/tf_headers`:\n\n`sh bundle_tf_headers.sh /tf_headers`\n\nThen you can simply add `/tf_headers/` and `/tf_headers/third_party/eigen3/` as include paths to the linker.\n\nThe script probably only works with tensorflow 0.9\n", "@ilaripih great useful script. I am able to build the project.But I still can't use opencv read image... Maybe I made some mistakes I did't find out yet.It seems that if I include some `tensorflow` header and link the `libtensorflow_cc.so`, `cv::imread` will fail to read images(just return an empty `Mat`).The `opencv` 's other functions seem work well.For now, I use `tensorflow` decode the image, and convert the `Tensor` to `cv::Mat` and then use `opencv`.\n", "@chenbiaolong What does your `cc_binary` section for `libtensorflow_cc.so` look like? Did you add the version script to the linkopts?\n", "@ilaripih \n\n```\n# -------------------------------------------\n# New rules should be added above this target.\n# -------------------------------------------\ncc_binary(\n    name = \"libtensorflow.so\",\n    linkshared = 1,\n    copts = [\"-Wl, --version-script=tensorflow/tf_version_script.lds\"],\n    deps = [\n        \"//tensorflow/core:tensorflow\",\n    ],\n)\n\ncc_binary(\n    name = \"libtensorflow_cc.so\",\n    linkshared = 1,\n    copts = [\"-Wl, --version-script=tensorflow/tf_version_script.lds\"],\n    deps = [\n        \"//tensorflow/cc:cc_ops\",\n        \"//tensorflow/core:tensorflow\",\n    ],\n)\n```\n\nI use `copts` instead of `linkopts` because when I use `linkopts` I got an error `gcc: error: unrecognized command line option '--version-script=tensorflow/tf_version_script.lds'`\nI `bazal clean` before build the `tensorflow.so`,but still no make any different.\n", "@chenbiaolong `copts` is only used when compiling; you need to use the linker script with the linker so it really needs to be in `linkopts`. Maybe you can't have a space between `-Wl,` and `--version-script...`\n", "@ilaripih wow,finally solve my problem! you are right, I should delete the space between `Wl` and `--version-script` .A stupid mistake... Thank you for your patience.\n", "I no longer need this workaround with TensorFlow 1.0.0-rc0 and OpenCV 3.1.0. So the bug has finally been fixed.", "Where is the entire code? How did you include the OpenCV libraries to your code? Thanks,", "The resolution to this issue only fixes libtensorflow.so, the same issue is still present in libtensorflow_cc.so\r\n\r\nThe fix is a single line, the diff is below:\r\n```\r\ndiff --git a/tensorflow/BUILD b/tensorflow/BUILD\r\nindex a162bcf..b2f9474 100644\r\n--- a/tensorflow/BUILD\r\n+++ b/tensorflow/BUILD\r\n@@ -466,6 +466,7 @@ cc_binary(\r\n\r\n cc_binary(\r\n     name = \"libtensorflow_cc.so\",\r\n+    linkopts = [ \"-Wl,--version-script=tensorflow/tf_version_script.lds\" ],\r\n     linkshared = 1,\r\n     deps = [\r\n         \"//tensorflow/c:c_api\",\r\n```\r\n", "I can confirm that i have the same problem with Tensorflow-1.3.0's libtensorflow_cc.so and OpenCV 3.2.\r\n\r\nI will try @Thomas-Kim's approach.\r\n\r\n**Update**: So after I added `linkopts = [ \"-Wl,--version-script=tensorflow/tf_version_script.lds\" ]` to the BUILD rule everything works fine.\r\n\r\nIs there a reason why this change is not committed to the master branch?", "@Thomas-Kim @meldron - I've pushed a fix to this that should be going out within 24 hours.  LMK.  (Also, as a side note, next time go ahead and open a new bug or re-open it;  I only noticed this because Thomas pinged me about it.)", "Hi I am a newbie and I'm using tensorflow 1.0 , and I am facing this error. Is this issue fixed in latest version 1.3? If I upgrade to 1.3 will everything work? Thanks", "I am not sure whether upgrading to 1.3 will fix the issue, but upgrading to the tip of master should fix the issue. However, if you are using your own build system that links in libtensorflow_cc.so and includes TensorFlow headers you will need to update your dependencies to include some new dependencies that TensorFlow has acquired since 1.0.\r\n\r\nUpgrading to 1.4 should also fix the issue if you'd prefer to use a tagged release (since it was released after this fix was added.)", "@ssriramana93 with 1.3 you still got the problem, but you can easily fix the problem.\r\n\r\nJust add https://github.com/tensorflow/tensorflow/blob/master/tensorflow/BUILD#L641 this line and the next to the build rule.", "This fix to the BUILD file supposedly breaks compilation on macOS, it is better to use the fix that dave-andersen submitted unless you don't care about macOS.", "@Thomas-Kim yeah you are right he probably should just copy the whole build target\r\n\r\n```\r\ntf_cc_shared_object(\r\n    name = \"libtensorflow_cc.so\",\r\n    linkopts = select({\r\n        \"//tensorflow:darwin\": [\r\n            \"-Wl,-exported_symbols_list\",  # This line must be directly followed by the exported_symbols.lds file\r\n            \"//tensorflow:tf_exported_symbols.lds\",\r\n        ],\r\n        \"//tensorflow:windows\": [],\r\n        \"//tensorflow:windows_msvc\": [],\r\n        \"//conditions:default\": [\r\n            \"-z defs\",\r\n            \"-s\",\r\n            \"-Wl,--version-script\",  #  This line must be directly followed by the version_script.lds file\r\n            \"//tensorflow:tf_version_script.lds\",\r\n        ],\r\n    }),\r\n    deps = [\r\n        \"//tensorflow:tf_exported_symbols.lds\",\r\n        \"//tensorflow:tf_version_script.lds\",\r\n        \"//tensorflow/c:c_api\",\r\n        \"//tensorflow/c/eager:c_api\",\r\n        \"//tensorflow/cc:cc_ops\",\r\n        \"//tensorflow/cc:client_session\",\r\n        \"//tensorflow/cc:scope\",\r\n        \"//tensorflow/core:tensorflow\",\r\n    ],\r\n)\r\n```", "If my memory serves correctly, @dave-andersen mentioned that macOS doesn't like the tf_version_script.lds", "Thank you very much for the replies. I ran \"pip3 install tensorflow==1.4.0rc0\". When I import it, it says compiled version python3.5 is different from runtime version python3.6. Do I have to downgrade python3.6 to 3.5? ", "I am using the TF 1.4 and linking against C++ code. Below code always says it failed to read the file. I have incorporated above suggestions and it doesnt make any difference. Thoughts/suggestions?\r\n  // ...\r\n  cv::String pathImg = argv[1];\r\n  cv::Mat img = cv::imread(pathImg, CV_LOAD_IMAGE_COLOR | CV_LOAD_IMAGE_ANYDEPTH);\r\n  if (img.empty()) {\r\n    error(\"Failed to read the file {}\", argv[1]);\r\n    return -1;\r\n  }\r\n// ...", "@Thomas-Kim , we cloned the latest version of tensorflow and still there is a  problem of reading images using opencv , everytime i initiate a TENSOR object  the opencv doesn't work.\r\n\r\nso any suggestions please", "Have the same issue with tensorflow1.4 and opencv3.3.1", "I have the same problem using v1.4.0 and opencv 3.3.1 #14267", "The problem still exists in 1.4.1. The fix for version 1.3 mentioned [above](https://github.com/tensorflow/tensorflow/issues/1924#issuecomment-335953907) no longer works.", "I have the same problem using tensorflow r1.4 and opencv3.1 in ubuntu14.04. Anyone could help me?", "I use tensorflow 1.4.0 and opencv 3.2.0 on ubuntu 16.04. I built libtensorflow_cc.so with bazel then I took the code from @beniz \r\n```cpp\r\n#include <iostream>\r\n//#include \"tensorflow/core/public/session.h\"                                                                   \r\n#include \"tensorflow/core/platform/env.h\"\r\n//#include \"tensorflow/core/framework/tensor.h\"                                                                 \r\n\r\n#include <opencv2/opencv.hpp>\r\n#include <opencv2/imgproc/imgproc.hpp>\r\n\r\nint main(int argc, char** argv)\r\n{\r\n  // Loading the file path provided in the arg into a mat objects                                               \r\n  std::string path = argv[1];\r\n  cv::Mat readImage = cv::imread(path);\r\n  std::cerr << \"read image size\" << readImage.size() << std::endl;\r\n}\r\n```\r\nand compile it with gcc.\r\n\r\nI saw that if tensorflow is built without cuda, it can read the image fine with `tensorflow/core/public/session.h` or `tensorflow/core/framework/tensor.h` commented or uncommented. However if I want to show the image with `cv::imshow`, the seg fault error comes again. Is there anyone has the same problem ?", "This is the current fix to the OpenCV jpeg reading problem: https://github.com/tensorflow/tensorflow/issues/14267#issuecomment-351780041\r\n\r\nBuild with `bazel --config=monolithic`", "Continuing discussion from PR to here. @allenlavoie it looks like the [remove RTLD global](https://github.com/tensorflow/tensorflow/commit/5c7f9e316d8c7735308a217310350d416d7498cc) might have broken this.", "@msarett @drpngx if you need to link against libtensorflow_framework.so and use OpenCV, please use the workaround in https://github.com/tensorflow/tensorflow/issues/14267#issuecomment-351780041. Eventually we'll split out protocol buffers so you won't need to link against libtensorflow_framework.so for protocol buffer symbols.", "Same issue. OpenCV 2.4. Haaalp!", "A workaround I've done is that I loaded the image with an external library (stb_image) and then fed the data to the `cv::Mat` like so:\r\n\r\n```c++\r\n#include <opencv2/opencv.hpp>\r\n#define STB_IMAGE_IMPLEMENTATION\r\n#include <stb_image.h>\r\n\r\nstd::map<int, int> channels_map = {\r\n\t{1, CV_8UC1},\r\n\t{3, CV_8UC3},\r\n\t{4, CV_8UC4}\r\n};\r\n\r\nint width, height, channels;\r\nstd::uint8_t* image_data = stbi_load(file_name.c_str(), &width, &height, &channels, 0);\r\ncv::Mat img(height, width, channels_map[channels], image_data); // You must free the image_data yourself\r\n```\r\n\r\nHope that helps.", "Is this issue fixed for cmake build route too? Because I would like to use c++ api of tensorflow and include tensorflow as a standalone library in my project.", "If it haven't fixed, maybe cpp-package of mxnet can ease your pain, you\ncould use mmdnn to convert models of tensorflow to mxnet.\n\nSumit Kshirsagar <notifications@github.com> \u65bc 2018\u5e7410\u670812\u65e5 \u9031\u4e94 \u4e0b\u534812:23\u5beb\u9053\uff1a\n\n> Is this issue fixed for cmake build root too. Because I would like to use\n> c++ api of tensorflow and include tensorflow as a standalone library in my\n> project?\n>\n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/1924#issuecomment-429199485>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABt-urhk2hmLiIgixt4XWj8cVjuIBvHCks5ukBlCgaJpZM4IGofv>\n> .\n>\n", "The C++ API + OpenCV jpeg issue was fixed by https://github.com/tensorflow/tensorflow/commit/e6570147c4699518af50d2b08190290003d33aa8#diff-a45ad39a8349c3896b6decf56bcbe304 . Is anyone still seeing the issue with a version which includes that change?"]}, {"number": 1923, "title": "TensorBoard issue on Mac (0.8.0rc0)", "body": "### Environment info\n\nOperating System: Mac OS X\nUsing virtualenv\n\nInstalled version of CUDA and cuDNN: None\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\n\nIf installed from binary pip package, provide:\n1. Which pip package you installed.\n   sudo pip install --upgrade https://storage.googleapis.com/tensorflow/mac/tensorflow-0.8.0rc0-py2-none-any.whl\n2. The output from python -c \"import tensorflow; print(tensorflow.**version**)\".\n   0.8.0rc0\n\nIf installed from sources, provide the commit hash:\n### Steps to reproduce\n1. git clone --recurse-submodule https://github.com/tensorflow/tensorflow.git\n2. cd tensorflow\n3. git checkout r0.8\n4. python tensorflow/examples/tutorials/mnist/mnist_with_summaries.py --summaries_dir=/tmp/summaries_1\n5. tensorboard --logdir /tmp/summaries_1\n6. Open http://127.0.0.1:6006 in Chrome\n\nNotice that the CSS don't load properly. The graphs and charts don't show either. \n### What have you tried?\n### Logs or other output that would be helpful\n\n(If logs are large, please upload as attachment).\nIf accessed from non-localhost, tensorboard prints messages like the following in console:\n\nWARNING:tensorflow:IOError [Errno 2] No such file or directory: '/Users/cais/venv1/lib/python2.7/site-packages/tensorflow/tensorboard/**_rPc_sWiTcH_**' on path /Users/cais/venv1/lib/python2.7/site-packages/tensorflow/tensorboard/**_rPc_sWiTcH_**\n10.1.2.3 - - [13/Apr/2016 12:28:20] code 404, message Not Found\n", "comments": ["I can confirm the issue. This was very confusing, I was sure I was logging incorrectly. I downgraded to 0.7 and Tensorboard functioned beautifully.\n\n4.2.5-1-ARCH\n0.8.0rc0\ntried in Firefox\nInstalled using pip\n\n**UPDATE** \n\nI just confirmed this was fixed by #1926 \n", "Should be fixed by https://github.com/tensorflow/tensorflow/pull/1926 (ty for confirmation from cavedweller)\n"]}, {"number": 1922, "title": "Logo is imprecise", "body": "In Tensorflow logo, the left arm of the T looks like 2 units long, while the right arm is 1 unit long. So, if I am not mistaken, the shadow should look different (asymmetrical).\n\n![tensorflow](https://cloud.githubusercontent.com/assets/695274/14502882/c8289650-01ad-11e6-8cb6-69b4b3052edc.jpg)\n", "comments": ["What if the light-sources are asymmetrical, and the backplane is slanted?\n", "@yaroslavvb I didn't think about it. \n\nOr maybe the T is not a shadow at all but just a painting on the backplane ;)\n", "Maybe the light source doesn't have parallel rays.\n", "It's a very complex lighting setup, that's for sure. I think it can only be explained by participating media.\n", "I think this is best summarized as 'by design'. ;-)\nFeel free to discuss further in one of the community forums, but I'd like to close this issue.\n", "i love this issue.", "I \"fixed\" it, but I think the original one looks much better.\r\n\r\n![fixed-tensorflow](https://user-images.githubusercontent.com/139536/36914932-81f1c7cc-1e81-11e8-81f9-b05382e81777.png)\r\n\r\n", "I made my own version, but with only one unit long arms.\r\nI also fixed the shadow, but i\u00b4m sorry, I only saved the shadowless version\r\n![36251074_10214088121176146_2614555053607878656_n](https://user-images.githubusercontent.com/40668801/42043955-fbb838a2-7af7-11e8-9795-7f890e871d13.png)\r\n", "you guys are so cute. ;-)", "When your Tensorflow project doesn't satisfy your CS faculty due to *aesthetic* logo design\r\n![tensorflow1](https://user-images.githubusercontent.com/23219242/46945748-82544500-d097-11e8-9216-1fae65d0dcc6.png)", "![tensorflow_log](https://user-images.githubusercontent.com/17609963/54351255-0f70e980-468a-11e9-8200-23ca0eff26d7.gif)\r\n", "@ndbroadbent , you forgot to draw the projection to the 'floor' of your logo, which will be 'F' too."]}, {"number": 1921, "title": "Merge r0.8rc0 changes back to master", "body": "", "comments": ["We found a Contributor License Agreement for you (the sender of this pull request) and all commit authors, but as best as we can tell these commits were authored by someone else.  If that's the case,  please add them to this pull request and have them confirm that they're okay with these commits being contributed to Google.  If we're mistaken and you did author these commits, just reply here to confirm.\n\n<!-- need_author_consent -->\n"]}, {"number": 1920, "title": "Applying editorial changes to the distributed how-to.", "body": "Also fixes a couple of incorrect names in the code examples.\n\nChange: 119605636\n", "comments": ["Can one of the admins verify this patch?\n"]}, {"number": 1919, "title": "Support for \"Prod\" on GPU", "body": "As brought up on [so](http://stackoverflow.com/questions/35724469/where-can-i-have-a-look-at-tensorflow-gradient-descent-main-loop/35728022#35728022), Prod on GPU is only registered for float/double but not int inputs\n\nThis happens when computing gradient of network with tf.mean() because tf.gradients inserts a \"Prod\" node with integer inputs.\n\nWe already have support on GPU for Prod for float/double, could it be as simple as adding an extra registration clause to [reduction_ops_prod.cc](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/reduction_ops_prod.cc#L37)?\n", "comments": ["Nope, just adding \"REGISTER_GPU_KERNELS(int32);\" gives unknown symbol error below. Benoit, any ideas?\n\nvoid tensorflow::functor::ReduceFunctor<Eigen::GpuDevice, Eigen::internal::ProdReducer<int> >::Reduce<Eigen::TensorMap<Eigen::Tensor<int, 0ul, 1, long>, 1>, Eigen::TensorMap<Eigen::Tensor<int const, 1ul, 1, long>, 1>, Eigen::array<long, 1ul> >(Eigen::GpuDevice const&, Eigen::TensorMap<Eigen::Tensor<int, 0ul, 1, long>, 1>, Eigen::TensorMap<Eigen::Tensor<int const, 1ul, 1, long>, 1>, Eigen::array<long, 1ul> const&, Eigen::internal::ProdReducer<int> const&)\n", "OK, also needed to add a line to core/kernels/reduction_ops_gpu.cu.cc\nDEFINE_FOR_ALL_REDUCERS(int32);\n\nshould be fixed once Martin/Vijay merges internal changes\n", "@yaroslavvb: feel free to do this yourself\n"]}, {"number": 1918, "title": "Update 2_fullyconnected.ipynb", "body": "", "comments": ["Can one of the admins verify this patch?\n", "Can one of the admins verify this patch?\n", "Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit https://cla.developers.google.com/ to sign.**\n\nOnce you've signed, please reply here (e.g. `I signed it!`) and we'll verify.  Thanks.\n\n---\n- If you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n- If you signed the CLA as a corporation, please let us know the company's name.\n\n<!-- need_sender_cla -->\n", "@tensorflow-jenkins test this please\n", "we need the CLA to be signed before we can accept.  are you able to sign?\n", "(leave a comment if you're able to sign and we'll reopen, thanks!)\n"]}, {"number": 1917, "title": "Run time error raised from image.random_contrast", "body": "### Environment info\n\nOperating System: SUSE 64bit\nTensorflow version: 0.6.0\n### Steps to reproduce\n\nI am following the [CNN tutorial](https://www.tensorflow.org/versions/0.6.0/tutorials/deep_cnn/index.html#convolutional-neural-networks), and encounter the problem:\n`E tensorflow/core/common_runtime/executor.cc:264] Executor failed to create kernel. Unimplemented: Op AdjustContrast is not available in GraphDef version 5. It has been removed in version 2. Use AdjustContrastv2 instead.`\n\n`[[Node: adjust_contrast = AdjustContrast[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](RandomCrop, random_uniform, adjust_contrast/min_value, adjust_contrast/max_value)]]`\n\nAnd something like this:\n`UnimplementedError: Op AdjustContrast is not available in GraphDef version 5. It has been removed in version 2. Use AdjustContrastv2 instead.`\n\nThank you in advance.\n", "comments": ["This error is a sign that the code used to run the graph is (much) newer than the code that generated the graph.\n\nIt seems to me you must have an older TensorFlow somewhere on the system, could you check that it's clean?\n", "Actually, I am using a server which bases on a lot of computers. And the administrators installed several versions of tensorflow as 'module', including: tensorflow/python2/gcc/0.5.0, tensorflow/python2/gcc/0.6.0, tensorflow_gpu/python2/intel/0.7.1, etc.\n\nThe module I loaded is tensorflow/python2/gcc/0.6.0 and I used the examples of tensorflow at the version 0.6.0.\n", "I'm not sure I'll be a lot of help in this kind of situation. \n\nI suggest you stud your code with assertions about the tensorflow version to make sure you're on 0.7.1 when you create the graph, and then do the same when you actually run it. If you write out a graph, you can check its supported graphdef versions too, it's the versions field in `core/framework/graph.proto`, filled by `core/public/version.h`.\n\nYou should probably also consider running one of our docker containers instead of using the installed binaries (if that is possible), or at least install into a virtualenv to get at least some isolation from the rest of the versions.\n\nI'll close this bug, I don't believe there's an indication of a bug, but please feel free to continue commenting, I will try to help out if I can.\n", "In the end, the administrator of my server helped to install newest version (0.8) of tensorflow. I tried to install on a virtualenv, but failed. I guess my problem was raised from conflict of versions of tensorflow. Thanks anyway.\n"]}, {"number": 1916, "title": "Unable to install tensorflow.", "body": "**I get the error below**\n\nException:\nTraceback (most recent call last):\n  File \"/Library/Python/2.7/site-packages/pip-8.1.1-py2.7.egg/pip/basecommand.py\", line 209, in main\n    status = self.run(options, args)\n  File \"/Library/Python/2.7/site-packages/pip-8.1.1-py2.7.egg/pip/commands/install.py\", line 317, in run\n    prefix=options.prefix_path,\n  File \"/Library/Python/2.7/site-packages/pip-8.1.1-py2.7.egg/pip/req/req_set.py\", line 726, in install\n    requirement.uninstall(auto_confirm=True)\n  File \"/Library/Python/2.7/site-packages/pip-8.1.1-py2.7.egg/pip/req/req_install.py\", line 746, in uninstall\n    paths_to_remove.remove(auto_confirm)\n  File \"/Library/Python/2.7/site-packages/pip-8.1.1-py2.7.egg/pip/req/req_uninstall.py\", line 115, in remove\n    renames(path, new_path)\n  File \"/Library/Python/2.7/site-packages/pip-8.1.1-py2.7.egg/pip/utils/**init**.py\", line 267, in renames\n    shutil.move(old, new)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 302, in move\n    copy2(src, real_dst)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 131, in copy2\n    copystat(src, dst)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 103, in copystat\n    os.chflags(dst, st.st_flags)\nOSError: [Errno 1] Operation not permitted: '/var/folders/6x/c66cmr110rqbfmz_m75t3zp00000gn/T/pip-TzGuiv-uninstall/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/numpy-1.8.0rc1-py2.7.egg-info'\n", "comments": ["What install command did you use? Try installing it in a virtualenv as described [here](https://www.tensorflow.org/versions/r0.7/get_started/os_setup.html#virtualenv-installation)\n", "This is a pip problem.  Check out #2212 \n"]}, {"number": 1915, "title": "Gradient for self_adjoint_eig", "body": "Well, what to say. This would be cool to have.\nAccording to the theano [docs](http://deeplearning.net/software/theano/library/tensor/nlinalg.html#theano.tensor.nlinalg.Eigh) and [sources](https://github.com/Theano/Theano/blob/master/theano/tensor/nlinalg.py#L402) it is not all that complicated.\nTheir implementation uses the triangle functions mentioned in #1825 though.\n", "comments": ["Hello - Thank you for your work on this project. I really appreciate everything that has gone into it. \r\n\r\nI've noticed that gradients are now provided for the 'self_adjoint_eig' function but they are not for the 'self_adjoint_eigvals'. Using the 'self_adjoint_eig' function and just using the eigenvalues is, of course, a sufficient work-around, but perhaps you would like to resolve this for completeness. \r\n\r\nFor example, running:\r\n\r\n```\r\nimport tensorflow as tf\r\na = tf.random_normal((10000,3))\r\ncovar = tf.matmul(tf.transpose(a), a)\r\neigvals, eigvect_holder = tf.self_adjoint_eig(covar)\r\neigvects = tf.transpose(eigvect_holder)\r\npure_eigvals = tf.self_adjoint_eigvals(covar)\r\n\r\nwith tf.Session() as sess:\r\n       print(sess.run(eigvals))\r\n       print(sess.run(eigvects))\r\n       print(sess.run(pure_eigvals))\r\n       print(sess.run(tf.gradients(eigvals, a)))\r\n       print(sess.run(tf.gradients(pure_eigvals, a)))\r\n```\r\n\r\n\r\nResults in:\r\n\r\n`[  9719.09765625  10004.32910156  10070.64941406]\r\n\r\n[[-0.27976531 -0.12752065 -0.95156187]\r\n [-0.9541291   0.14700767  0.26081926]\r\n [ 0.10662714  0.98088086 -0.16279887]]\r\n\r\n[  9808.58398438  10092.38964844  10352.38378906]\r\n\r\n[array([[-2.07045388,  1.91732657,  0.77774417],\r\n       [-0.6452961 , -3.11206341, -1.97885656],\r\n       [-1.94984984, -0.21588665, -1.53561687],\r\n       ..., \r\n       [ 2.76743388,  2.91140604, -1.23593211],\r\n       [-2.70180821, -3.767308  ,  0.29746097],\r\n       [-2.36184692,  0.6249733 ,  0.13678969]], dtype=float32)]\r\n\r\n---------------------------------------------------------------------------\r\nInvalidArgumentError                      Traceback (most recent call last)\r\n/home/ubuntu/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/common_shapes.py in _call_cpp_shape_fn_impl(op, input_tensors_needed, input_tensors_as_shapes_needed, debug_python_shape_fn, require_shape_fn)\r\n    670           graph_def_version, node_def_str, input_shapes, input_tensors,\r\n--> 671           input_tensors_as_shapes, status)\r\n    672   except errors.InvalidArgumentError as err:\r\n\r\n/home/ubuntu/anaconda3/lib/python3.6/contextlib.py in __exit__(self, type, value, traceback)\r\n     88             try:\r\n---> 89                 next(self.gen)\r\n     90             except StopIteration:\r\n\r\n/home/ubuntu/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py in raise_exception_on_not_ok_status()\r\n    465           compat.as_text(pywrap_tensorflow.TF_Message(status)),\r\n--> 466           pywrap_tensorflow.TF_GetCode(status))\r\n    467   finally:\r\n\r\nInvalidArgumentError: Shape must be rank 2 but is rank 1 for 'gradients_3/SelfAdjointEigV2_3_grad/MatMul' (op: 'MatMul') with input shapes: [0], [0].\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-2-c5ded0c9e625> in <module>()\r\n     12     print(sess.run(pure_eigvals))\r\n     13     print(sess.run(tf.gradients(eigvals, a)))\r\n---> 14     print(sess.run(tf.gradients(pure_eigvals, a)))\r\n\r\n/home/ubuntu/anaconda3/lib/python3.6/site-packages/tensorflow/python/ops/gradients_impl.py in gradients(ys, xs, grad_ys, name, colocate_gradients_with_ops, gate_gradients, aggregation_method)\r\n    480                 # If grad_fn was found, do not use SymbolicGradient even for\r\n    481                 # functions.\r\n--> 482                 in_grads = grad_fn(op, *out_grads)\r\n    483               else:\r\n    484                 # For function call ops, we add a 'SymbolicGradient'\r\n\r\n/home/ubuntu/anaconda3/lib/python3.6/site-packages/tensorflow/python/ops/linalg_grad.py in _SelfAdjointEigV2Grad(op, grad_e, grad_v)\r\n    203           math_ops.matmul(\r\n    204               array_ops.matrix_diag(grad_e) + f * math_ops.matmul(\r\n--> 205                   v, grad_v, adjoint_a=True),\r\n    206               v,\r\n    207               adjoint_b=True))\r\n\r\n/home/ubuntu/anaconda3/lib/python3.6/site-packages/tensorflow/python/ops/math_ops.py in matmul(a, b, transpose_a, transpose_b, adjoint_a, adjoint_b, a_is_sparse, b_is_sparse, name)\r\n   1763     else:\r\n   1764       return gen_math_ops._mat_mul(\r\n-> 1765           a, b, transpose_a=transpose_a, transpose_b=transpose_b, name=name)\r\n   1766 \r\n   1767 \r\n\r\n/home/ubuntu/anaconda3/lib/python3.6/site-packages/tensorflow/python/ops/gen_math_ops.py in _mat_mul(a, b, transpose_a, transpose_b, name)\r\n   1452   \"\"\"\r\n   1453   result = _op_def_lib.apply_op(\"MatMul\", a=a, b=b, transpose_a=transpose_a,\r\n-> 1454                                 transpose_b=transpose_b, name=name)\r\n   1455   return result\r\n   1456 \r\n\r\n/home/ubuntu/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py in apply_op(self, op_type_name, name, **keywords)\r\n    761         op = g.create_op(op_type_name, inputs, output_types, name=scope,\r\n    762                          input_types=input_types, attrs=attr_protos,\r\n--> 763                          op_def=op_def)\r\n    764         if output_structure:\r\n    765           outputs = op.outputs\r\n\r\n/home/ubuntu/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/ops.py in create_op(self, op_type, inputs, dtypes, input_types, name, attrs, op_def, compute_shapes, compute_device)\r\n   2327                     original_op=self._default_original_op, op_def=op_def)\r\n   2328     if compute_shapes:\r\n-> 2329       set_shapes_for_outputs(ret)\r\n   2330     self._add_op(ret)\r\n   2331     self._record_op_seen_by_control_dependencies(ret)\r\n\r\n/home/ubuntu/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/ops.py in set_shapes_for_outputs(op)\r\n   1715       shape_func = _call_cpp_shape_fn_and_require_op\r\n   1716 \r\n-> 1717   shapes = shape_func(op)\r\n   1718   if shapes is None:\r\n   1719     raise RuntimeError(\r\n\r\n/home/ubuntu/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/ops.py in call_with_requiring(op)\r\n   1665 \r\n   1666   def call_with_requiring(op):\r\n-> 1667     return call_cpp_shape_fn(op, require_shape_fn=True)\r\n   1668 \r\n   1669   _call_cpp_shape_fn_and_require_op = call_with_requiring\r\n\r\n/home/ubuntu/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/common_shapes.py in call_cpp_shape_fn(op, input_tensors_needed, input_tensors_as_shapes_needed, debug_python_shape_fn, require_shape_fn)\r\n    608     res = _call_cpp_shape_fn_impl(op, input_tensors_needed,\r\n    609                                   input_tensors_as_shapes_needed,\r\n--> 610                                   debug_python_shape_fn, require_shape_fn)\r\n    611     if not isinstance(res, dict):\r\n    612       # Handles the case where _call_cpp_shape_fn_impl calls unknown_shape(op).\r\n\r\n/home/ubuntu/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/common_shapes.py in _call_cpp_shape_fn_impl(op, input_tensors_needed, input_tensors_as_shapes_needed, debug_python_shape_fn, require_shape_fn)\r\n    674       missing_shape_fn = True\r\n    675     else:\r\n--> 676       raise ValueError(err.message)\r\n    677 \r\n    678   if missing_shape_fn:\r\n\r\nValueError: Shape must be rank 2 but is rank 1 for 'gradients_3/SelfAdjointEigV2_3_grad/MatMul' (op: 'MatMul') with input shapes: [0], [0].\r\n`\r\n", "Automatically closing due to lack of recent activity. Since this issue is old at this point, please reopen the issue if it still occurs when tried with the latest version of Tensorflow. Thank you.", "Got the same problem as above, there must be something wrong with the implementation of gradients in the latest release."]}, {"number": 1914, "title": "I got an error with MomentumOptimizer", "body": "I can't use MomentumOptimizer,it show that:\n\ntensorflow.python.framework.errors.InvalidArgumentError: Cannot assign a device to node 'target_embeddings/read': Could not satisfy explicit device specification '/device:GPU:0' because the node was colocated with a group of nodes that required incompatible device '/job:localhost/replica:0/task:0/GPU:0'\n", "comments": ["A quick workaround for this problem is to declare your embedding matrix (`target_embeddings`) on CPU:\n\n``` python\nwith tf.device(\"/cpu:0\"):\n  target_embeddings = tf.Variable(..., name=\"target_embeddings\")\n```\n", "@mrry: what is the exact problem?\n", "The problem is (or seems to be) that the variable+initializer get assigned to GPU when the initializer runs, but the training op is CPU-only, leading to this error. Your upcoming placer changes should fix this, so hopefully it'll be no extra work! :)\n"]}, {"number": 1913, "title": "Tensorboard is missing css in lib/", "body": "I've noticed that since April 2016 built python wheel files are missing css in tensorboard/lib.\nTake a look at those two builds from Jenkins:\n1. [13.04.2016](http://ci.tensorflow.org/view/Nightly/job/nigntly-matrix-linux-gpu/TF_BUILD_CONTAINER_TYPE=GPU,TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON2,label=gpu-working/63/)\n2. [31.03.2016](http://ci.tensorflow.org/view/Nightly/job/nigntly-matrix-linux-gpu/TF_BUILD_CONTAINER_TYPE=GPU,TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON2,label=gpu-working/50/)\nand compare the contents of wheel file:\n![tfboard-missing-css](https://cloud.githubusercontent.com/assets/18440238/14491109/3bfd4a3a-0177-11e6-91e9-8de4a8b34ec4.png)\nThis causes issues when trying to run tensorboard after installation of wheel file.\nManual installation from source provides the same result as above.\n", "comments": ["Duplicate of https://github.com/tensorflow/tensorflow/issues/1923\nFixed by #1926 \n"]}, {"number": 1912, "title": "add a reference for logistic regression", "body": "add a reference for logistic regression in word2vec tutorial\n", "comments": ["Can one of the admins verify this patch?\n", "Can one of the admins verify this patch?\n"]}, {"number": 1911, "title": "switch docker links from b.gcr.io to gcr.io", "body": "", "comments": ["Do we want to switch the \"latest\" tags to point to release candidate versions? I think it is better pointing to old stable release. But that means we should during the release candidate period edit the documentation to contain explicit tags - i.e. gcr.io/tensorflow/tensorflow:0.8.0rc0 instead of gcr.io/tensorflow/tensorflow. Then for final release we should edit the links again. Too complicated?\n\nAnyway, this time we can switch \"latest\" to the RC because people reading old documentation will se b.gcr.io where the latest will still point to 0.7.1 ;-)\n", "@vincentvanhoucke you should probably also upload the next version of udacity container to gcr.io and update the readme accordingly.\n", "how to know which version of tensorflow been installed\n", "``` python\nimport tensorflow as tf\ntf.__version__\n```\n", "while importing sklearn inside tensorflow i got an error \"No module named sklearn\". How to install it\n"]}, {"number": 1910, "title": "switch docker links from b.gcr.io to gcr.io", "body": "", "comments": ["We found a Contributor License Agreement for you (the sender of this pull request) and all commit authors, but as best as we can tell these commits were authored by someone else.  If that's the case,  please add them to this pull request and have them confirm that they're okay with these commits being contributed to Google.  If we're mistaken and you did author these commits, just reply here to confirm.\n\n<!-- need_author_consent -->\n", "This should go to r0.8, opening new PR...\n"]}, {"number": 1909, "title": "fix python wheel links", "body": "", "comments": []}, {"number": 1908, "title": "image_retraining: fix trivial typos", "body": "This pull request fix trivial typos under image_retraining/ directory.\n", "comments": ["Can one of the admins verify this patch?\n", "Can one of the admins verify this patch?\n", "Jenkins, test this please\n"]}, {"number": 1907, "title": "tv.Variable doc: fix typo", "body": "'b' does not exist in the example, probably 'y' was meant.\n", "comments": ["Can one of the admins verify this patch?\n", "Can one of the admins verify this patch?\n", "Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit https://cla.developers.google.com/ to sign.**\n\nOnce you've signed, please reply here (e.g. `I signed it!`) and we'll verify.  Thanks.\n\n---\n- If you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n- If you signed the CLA as a corporation, please let us know the company's name.\n\n<!-- need_sender_cla -->\n", "I signed it!\n", "CLAs look good, thanks!\n\n<!-- ok -->\n"]}, {"number": 1906, "title": "add a reference on log-likelihood", "body": "add a reference on log-likelihood in word2vec tutorial\n", "comments": ["Can one of the admins verify this patch?\n", "Can one of the admins verify this patch?\n"]}, {"number": 1905, "title": "Run C++ gendocs", "body": "", "comments": []}, {"number": 1904, "title": "fix ppa repositories in ci_build", "body": "fix debian build\n", "comments": ["@martinwicke this replace #1854. It is done against r0.8 now so that we can build debian there as well.\n\n(it should work now - I put there the && instead of multiple RUN statements - it creates less layers)\n", ":+1: \n"]}, {"number": 1903, "title": "update more places with version to 0.8", "body": "", "comments": ["@martinwicke have we already generated new documentation?\n", "Working on that\n"]}, {"number": 1902, "title": "Merge internal changes", "body": "", "comments": ["We found a Contributor License Agreement for you (the sender of this pull request), but were unable to find agreements for the commit author(s).  If you authored these, maybe you used a different email address in the git commits than was used to sign the CLA ([login here](https://cla.developers.google.com/) to double check)?  If these were authored by someone else, then they will need to sign a CLA as well, and confirm that they're okay with these being contributed to Google.\n\n<!-- need_author_cla -->\n"]}, {"number": 1901, "title": "Marge internal changes", "body": "", "comments": ["We found a Contributor License Agreement for you (the sender of this pull request), but were unable to find agreements for the commit author(s).  If you authored these, maybe you used a different email address in the git commits than was used to sign the CLA ([login here](https://cla.developers.google.com/) to double check)?  If these were authored by someone else, then they will need to sign a CLA as well, and confirm that they're okay with these being contributed to Google.\n\n<!-- need_author_cla -->\n", "This contains an image which should not go into github.\n"]}]