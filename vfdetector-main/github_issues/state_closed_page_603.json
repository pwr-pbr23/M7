[{"number": 35577, "title": "Is there any way to convert tflite file to .pb?", "body": "I have done a terrible mistake(accidentally deleting the dataset). The dataset was my many month's research. But fortunately, I have a tflite file is there any features available to convert it back to .pb. file?\r\n\r\n\r\n**System information**\r\n- I'm using the latest version of Tensorflow\r\n\r\n", "comments": ["You may try [netron](https://github.com/lutzroeder/netron) to visualize your model it supports multiple file formats.", "@jithu12,\r\nCould you please check this [Stack Overflow link](https://stackoverflow.com/a/54264023) check if it helps.Thanks!"]}, {"number": 35576, "title": "fatal error: tensorflow/core/common_runtime/gpu/gpu_process_state.h: No such file or directory", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Arch Linux (Kernel 5.3.18, glibc 2.30-3)\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): Source\r\n- TensorFlow version: `bd56e040ba4a8272163357a2f8786a128deb4aaf` from `r2.1` branch.\r\n- Python version: Not Applicable\r\n- Installed using virtualenv? pip? conda?: Not Applicable\r\n- Bazel version (if compiling from source): 0.29.1\r\n- GCC/Compiler version (if compiling from source): Host GCC 9.2.0; Cuda GCC 6.5.0\r\n- CUDA/cuDNN version: CUDA 10.0; cuDNN 7\r\n- GPU model and memory: RTX 2070 8GB\r\n\r\n\r\n\r\n**Describe the problem**\r\n\r\nI'm trying to upgrade the TensorFlow dependency in our project from `42c4f4ab6b53bce8639c203d7839d27eac11bd2f` (from `r1.13` branch) to `bd56e040ba4a8272163357a2f8786a128deb4aaf` (from `r2.1` branch). The problem is that `gpu_process_state.h` is missing. The error line in our project is [here](https://github.com/uwsampl/nexus/blob/bd1a079ebea4cbb076bd3b4b2b8d010b49794afa/src/nexus/backend/tensorflow_model.cpp#L6).\r\n\r\n```\r\n/home/abcdabcd987/work/nexus/src/nexus/backend/tensorflow_model.cpp:6:10: fatal error: tensorflow/core/common_runtime/gpu/gpu_process_state.h: No such file or directory\r\n    6 | #include \"tensorflow/core/common_runtime/gpu/gpu_process_state.h\"\r\n      |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\ncompilation terminated.\r\n```\r\n\r\nI checked the cloned TensorFlow source code. I can see that [`gpu_process_state.h`](https://github.com/tensorflow/tensorflow/blob/bd56e040ba4a8272163357a2f8786a128deb4aaf/tensorflow/core/common_runtime/gpu/gpu_process_state.h) exists. However, when I checked that build output that bazel produces, it was not there:\r\n\r\n```\r\n$ pwd\r\n/home/abcdabcd987/work/nexus/build/tensorflow/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/include\r\n\r\n$ ls -la tensorflow/core/common_runtime/gpu/\r\ntotal 28\r\ndrwxr-xr-x 2 abcdabcd987 abcdabcd987 4096 Jan  3 20:37 ./\r\ndrwxr-xr-x 3 abcdabcd987 abcdabcd987 4096 Jan  3 20:37 ../\r\n-rw-r--r-- 1 abcdabcd987 abcdabcd987 7639 Jan  3 20:37 gpu_event_mgr.h\r\n-rw-r--r-- 1 abcdabcd987 abcdabcd987 4091 Jan  3 20:37 gpu_id.h\r\n-rw-r--r-- 1 abcdabcd987 abcdabcd987 1617 Jan  3 20:37 gpu_id_manager.h\r\n-rw-r--r-- 1 abcdabcd987 abcdabcd987 1665 Jan  3 20:37 gpu_init.h\r\n```\r\n\r\nI tried to figure out the difference of the BUILD files between the old and the new version, but since the `//tensorflow:install_headers` target is quite complicated, I cannot get it straight. Any help is much appreciated! Thanks!\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\nTensorFlow in our project is built with the following command:\r\n\r\n```\r\nbazel --output_base=../build/tensorflow build \\\r\n  --config=opt \\\r\n  --action_env CUDA_TOOLKIT_PATH=/usr/local/cuda-10.0 \\\r\n  --action_env CUDNN_INSTALL_PATH=/usr/local/cuda-10.0 \\\r\n  --action_env GCC_HOST_COMPILER_PATH=/usr/bin/gcc-6 \\\r\n  //tensorflow:libtensorflow_cc.so \\\r\n  //tensorflow:libtensorflow_framework.so \\\r\n  //tensorflow:install_headers\r\n```\r\n\r\nThe `.tf_configure.bazelrc` is the following:\r\n\r\n```\r\nbuild:xla --define with_xla_support=false\r\nbuild --action_env TF_NEED_OPENCL_SYCL=\"0\"\r\nbuild --action_env TF_NEED_ROCM=\"0\"\r\nbuild --action_env TF_NEED_CUDA=\"1\"\r\nbuild --action_env TF_CUDA_VERSION=\"10.0\"\r\nbuild --action_env TF_CUDNN_VERSION=\"7\"\r\nbuild --action_env TF_NCCL_VERSION=\"\"\r\nbuild --action_env TF_CUDA_COMPUTE_CAPABILITIES=\"6.0,7.5\"\r\nbuild --action_env TF_CUDA_CLANG=\"0\"\r\nbuild --config=cuda\r\nbuild:opt --copt=-march=native\r\nbuild:opt --copt=-Wno-sign-compare\r\nbuild:opt --host_copt=-march=native\r\nbuild:opt --define with_default_optimizations=true\r\ntest --flaky_test_attempts=3\r\ntest --test_size_filters=small,medium\r\ntest --test_tag_filters=-benchmark-test,-no_oss,-oss_serial\r\ntest --build_tag_filters=-benchmark-test,-no_oss\r\ntest --test_tag_filters=-gpu\r\ntest --build_tag_filters=-gpu\r\nbuild --action_env TF_CONFIGURE_IOS=\"0\"\r\n```\r\n\r\n**Any other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n", "comments": ["I found that I could get the missing headers back by the following method: In the `//tensorflow/core:headers` target, add `:gpu_runtime` to `deps` list.\r\n\r\nI hope this information could help you guys debug. Also, cc @perfinion who I suppose is the author of `//tensorflow:install_headers` target?", "@abcdabcd987, I believe this has been fixed in 2.2.0rc2. Let me know if you are still seeing this issue with the latest version.", "Hi @yifeif , as of `v2.2.1`, the problem still exists. The built target doesn't include gpu related headers, such as `gpu_process_state.h`.\r\n\r\n```\r\nroot@355caa9c629e:/tensorflow# git show --oneline -s\r\n25fba035f3 (HEAD, tag: v2.2.1, origin/r2.2) Merge pull request #43445 from tensorflow-jenkins/version-numbers-2.2.1-25147\r\nroot@355caa9c629e:/tensorflow# ls bazel-out/k8-opt/bin/tensorflow/include/tensorflow/core/common_runtime/gpu/\r\ngpu_event_mgr.h  gpu_id.h  gpu_id_manager.h  gpu_init.h\r\n```\r\n\r\nI believe PR #36013 is still relevant.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35576\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35576\">No</a>\n"]}, {"number": 35575, "title": "Refactor ParallelInterleaveTest to be parameterized", "body": "This PR refactors `ParallelInterleaveTest` to be parameterized.", "comments": []}, {"number": 35574, "title": "OP_REQUIRES failed due to missing tempstate or invalid argument", "body": "**System information**\r\n- Custom implementation of ALBERT for TF2.0\r\n- Training on DataBricks\r\n- TensorFlow installed from (source or binary): Binary pypi\r\n- TensorFlow version (use command below): 2.0-gpu\r\n- Python version: 3.7\r\n- CUDA/cuDNN version: 10.1\r\n- GPU model and memory: Databricks 4xGPU cluster X8\r\n\r\n**Describe the current behavior**\r\n\r\nCurrent behavior: Training proceeds through 3 epochs and barfs on Train Step 399/1330 in the _save_checkpoint routine. We are using ADLSgen2 to store data, and we are mounting to that filesystem. Filesystem works transparently for all tasks so far & we have DataBricks team support. There are many read/writes to this mount point so I am not quick to blame the filesystem - but it's still worth noting.\r\n\r\nThe actual error is:\r\n2020-01-03 20:51:34.688654: W tensorflow/core/framework/op_kernel.cc:1622] OP_REQUIRES failed at save_restore_v2_ops.cc:137 : Invalid argument: /dbfs/mnt/devscoutprototype/eval_out/checkpoint/ctl_step_399.ckpt-3_temp_08f0418651184fbd97263e13fc11b45c/part-00001-of-00002.data-00000-of-00001.tempstate9461307533243821894; Invalid argument\r\n\r\nWhen we navigate to this location we find the folder is genuinely there, however inside that folder there is not this temp file. Instead there are two files:\r\n1)part-00000-of-00002.data-00000-of-00001\r\n2)part-00000-of-00002.index\r\n\r\n**Describe the expected behavior**\r\n\r\nI would expect to see a new checkpoint at this step.\r\n\r\n**Code to reproduce the issue**\r\nThis is made following the examples of https://github.com/kamalkraj/ALBERT-TF2.0\r\nIf you simply run this example top to bottom on DataBricks you will encounter this error.\r\n\r\n**Other info / logs**\r\n\r\nloss = 0.2804690897464752\r\nI0103 20:48:47.790678 140033029736192 model_training_utils.py:346] Train Step: 396/1330  / loss = 0.3561434745788574\r\nI0103 20:48:50.499201 140033029736192 model_training_utils.py:346] Train Step: 397/1330  / loss = 0.26206889748573303\r\nI0103 20:48:53.168039 140033029736192 model_training_utils.py:346] Train Step: 398/1330  / loss = 0.3312344551086426\r\nI0103 20:48:55.838387 140033029736192 model_training_utils.py:346] Train Step: 399/1330  / loss = 0.41013699769973755\r\n2020-01-03 20:51:34.688654: W tensorflow/core/framework/op_kernel.cc:1622] OP_REQUIRES failed at save_restore_v2_ops.cc:137 : Invalid argument: /dbfs/mnt/devscoutprototype/eval_out/checkpoint/ctl_step_399.ckpt-3_temp_08f0418651184fbd97263e13fc11b45c/part-00001-of-00002.data-00000-of-00001.tempstate9461307533243821894; Invalid argument\r\nTraceback (most recent call last):\r\n  File \"/dbfs/mnt/devscoutprototype/ALBERT-TF2.0-master/run_classifer.py\", line 455, in <module>\r\n    app.run(main)\r\n  File \"/databricks/conda/envs/databricks-ml-gpu/lib/python3.7/site-packages/absl/app.py\", line 299, in run\r\n    _run_main(main, args)\r\n  File \"/databricks/conda/envs/databricks-ml-gpu/lib/python3.7/site-packages/absl/app.py\", line 250, in _run_main\r\n    sys.exit(main(argv))\r\n  File \"/dbfs/mnt/devscoutprototype/ALBERT-TF2.0-master/run_classifer.py\", line 356, in main\r\n    custom_callbacks = custom_callbacks)\r\n  File \"/dbfs/mnt/devscoutprototype/ALBERT-TF2.0-master/model_training_utils.py\", line 354, in run_customized_training_loop\r\n    checkpoint_name.format(step=current_step))\r\n  File \"/dbfs/mnt/devscoutprototype/ALBERT-TF2.0-master/model_training_utils.py\", line 33, in _save_checkpoint\r\n    saved_path = checkpoint.save(checkpoint_path)\r\n  File \"/databricks/conda/envs/databricks-ml-gpu/lib/python3.7/site-packages/tensorflow_core/python/training/tracking/util.py\", line 1889, in save\r\n    file_path = self.write(\"%s-%d\" % (file_prefix, checkpoint_number))\r\n  File \"/databricks/conda/envs/databricks-ml-gpu/lib/python3.7/site-packages/tensorflow_core/python/training/tracking/util.py\", line 1819, in write\r\n    output = self._saver.save(file_prefix=file_prefix)\r\n  File \"/databricks/conda/envs/databricks-ml-gpu/lib/python3.7/site-packages/tensorflow_core/python/training/tracking/util.py\", line 1155, in save\r\n    file_prefix=file_prefix_tensor, object_graph_tensor=object_graph_tensor)\r\n  File \"/databricks/conda/envs/databricks-ml-gpu/lib/python3.7/site-packages/tensorflow_core/python/training/tracking/util.py\", line 1103, in _save_cached_when_graph_building\r\n    save_op = saver.save(file_prefix)\r\n  File \"/databricks/conda/envs/databricks-ml-gpu/lib/python3.7/site-packages/tensorflow_core/python/training/saving/functional_saver.py\", line 230, in save\r\n    sharded_saves.append(saver.save(shard_prefix))\r\n  File \"/databricks/conda/envs/databricks-ml-gpu/lib/python3.7/site-packages/tensorflow_core/python/training/saving/functional_saver.py\", line 72, in save\r\n    return io_ops.save_v2(file_prefix, tensor_names, tensor_slices, tensors)\r\n  File \"/databricks/conda/envs/databricks-ml-gpu/lib/python3.7/site-packages/tensorflow_core/python/ops/gen_io_ops.py\", line 1933, in save_v2\r\n    ctx=_ctx)\r\n  File \"/databricks/conda/envs/databricks-ml-gpu/lib/python3.7/site-packages/tensorflow_core/python/ops/gen_io_ops.py\", line 1970, in save_v2_eager_fallback\r\n    ctx=_ctx, name=name)\r\n  File \"/databricks/conda/envs/databricks-ml-gpu/lib/python3.7/site-packages/tensorflow_core/python/eager/execute.py\", line 67, in quick_execute\r\n    six.raise_from(core._status_to_exception(e.code, message), None)\r\n  File \"<string>\", line 3, in raise_from\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: /dbfs/mnt/devscoutprototype/eval_out/checkpoint/ctl_step_399.ckpt-3_temp_08f0418651184fbd97263e13fc11b45c/part-00001-of-00002.data-00000-of-00001.tempstate9461307533243821894; Invalid argument [Op:SaveV2]\r\n\r\n\r\n\r\n---------------------------------------------------------------------------\r\nCalledProcessError                        Traceback (most recent call last)\r\n<command-1805221645764486> in <module>\r\n----> 1 get_ipython().run_cell_magic('sh', '', \"\\n# Running classifier:\\n\\nexport GLUE_DIR='/dbfs/mnt/devscoutprototype/dataset/'\\nexport ALBERT_DIR='/dbfs/mnt/devscoutprototype/models/base_2/'\\nexport TASK_NAME='CoLA'\\nexport OUTPUT_DIR='/dbfs/mnt/devscoutprototype/train_out'\\nexport MODEL_DIR='/dbfs/mnt/devscoutprototype/eval_out/'\\n\\npython /dbfs/mnt/devscoutprototype/ALBERT-TF2.0-master/run_classifer.py --train_data_path=${OUTPUT_DIR}/${TASK_NAME}_train.tf_record --eval_data_path=${OUTPUT_DIR}/${TASK_NAME}_eval.tf_record --input_meta_data_path=${OUTPUT_DIR}/${TASK_NAME}_meta_data --init_checkpoint=${ALBERT_DIR}/tf2_model.h5 --spm_model_file=${ALBERT_DIR}/vocab/30k-clean.model --albert_config_file=${ALBERT_DIR}/config.json --output_dir=${MODEL_DIR} --do_train --task_name=${TASK_NAME} --do_eval --custom_training_loop --train_batch_size=64 --learning_rate=1e-5 --num_train_epochs=10\\n\")\r\n\r\n/databricks/python/lib/python3.7/site-packages/IPython/core/interactiveshell.py in run_cell_magic(self, magic_name, line, cell)\r\n   2350             with self.builtin_trap:\r\n   2351                 args = (magic_arg_s, cell)\r\n-> 2352                 result = fn(*args, **kwargs)\r\n   2353             return result\r\n   2354 \r\n\r\n/databricks/python/lib/python3.7/site-packages/IPython/core/magics/script.py in named_script_magic(line, cell)\r\n    140             else:\r\n    141                 line = script\r\n--> 142             return self.shebang(line, cell)\r\n    143 \r\n    144         # write a basic docstring:\r\n\r\n</databricks/python/lib/python3.7/site-packages/decorator.py:decorator-gen-110> in shebang(self, line, cell)\r\n\r\n/databricks/python/lib/python3.7/site-packages/IPython/core/magic.py in <lambda>(f, *a, **k)\r\n    185     # but it's overkill for just that one bit of state.\r\n    186     def magic_deco(arg):\r\n--> 187         call = lambda f, *a, **k: f(*a, **k)\r\n    188 \r\n    189         if callable(arg):\r\n\r\n/databricks/python/lib/python3.7/site-packages/IPython/core/magics/script.py in shebang(self, line, cell)\r\n    243             sys.stderr.flush()\r\n    244         if args.raise_error and p.returncode!=0:\r\n--> 245             raise CalledProcessError(p.returncode, cell, output=out, stderr=err)\r\n    246 \r\n    247     def _run_script(self, p, cell, to_close):\r\n\r\nCalledProcessError: Command 'b\"\\n# Running classifier:\\n\\nexport GLUE_DIR='/dbfs/mnt/devscoutprototype/dataset/'\\nexport ALBERT_DIR='/dbfs/mnt/devscoutprototype/models/base_2/'\\nexport TASK_NAME='CoLA'\\nexport OUTPUT_DIR='/dbfs/mnt/devscoutprototype/train_out'\\nexport MODEL_DIR='/dbfs/mnt/devscoutprototype/eval_out/'\\n\\npython /dbfs/mnt/devscoutprototype/ALBERT-TF2.0-master/run_classifer.py ", "comments": ["To clarify, \"Databricks 4xGPU cluster X8\" means there are 8 machines each with 4 GPUs attached? Or one machine with 4 GPUs and \"cluster X8\" refers to something else?\r\n\r\nSo presumably DBFS doesn't like moving and/or deleting files, which we do when saving checkpoints. S3 has possibly related issues, so you could try waiting for https://github.com/tensorflow/tensorflow/pull/36388 to get in and applying that \"don't use temporaries\" logic to DBFS too.\r\n\r\nOr as a workaround you can save to a local directory and copy the resulting checkpoint to DBFS if there's only one machine involved.", "FYI https://github.com/tensorflow/tensorflow/pull/36388 is in if you want to try doing something similar for DBFS. I'm probably not in the best position to test fixes for DBFS.", "@birdmw,\r\nIs this still an issue? \r\n\r\nCould you please check @allenlavoie's workaround and let us know if you are still facing the issue. Thanks!", "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you.\n", "Closing as stale. Please reopen if you'd like to work on this further.\n", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35574\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35574\">No</a>\n"]}, {"number": 35573, "title": "tensorflow 2.0.0 crashes with protobuf 3.10.1 on macOS", "body": "Using MacPorts with the latest up-to-date versions (tensorflow 2.0.0, protobuf 3.10.1),\r\n\r\n> `python3 -c 'import tensorflow'`\r\n```\r\n[libprotobuf ERROR google/protobuf/descriptor_database.cc:394] Invalid file descriptor data passed to EncodedDescriptorDatabase::Add().\r\n[libprotobuf FATAL google/protobuf/descriptor.cc:1359] CHECK failed: GeneratedDatabase()->Add(encoded_file_descriptor, size): \r\nlibc++abi.dylib: terminating with uncaught exception of type google::protobuf::FatalException: CHECK failed: GeneratedDatabase()->Add(encoded_file_descriptor, size): \r\nAbort trap: 6\r\n```\r\n\r\nThis is reported and closed in https://github.com/tensorflow/tensorboard/issues/2985, but the issue persists.\r\n\r\nA workaround is `pip-3.7 install protobuf==3.8`, but this doesn't work with system-level, up-to-date library installs like with MacPorts. Also see: https://trac.macports.org/ticket/59826\r\n\r\nIs this an issue with TF, or with protobuf?", "comments": ["Are you installing TF through macports or pip.\r\nUnless macports just fetches the package from what we are building, it may be built with different flags, causing all kinds of ABI issues.\r\nSimilar for protobuf. If these are packages not built by us, I do not think we can do much to help.\r\n\r\nIf this issue is reproducible with the TF 2.0 from pip(pypi) and latest protobuf from pypi(3.11.2, or even 3.10.1), we can debug. Otherwise, I would say this is potentially due to th way macports builds these packages.", "Good point. The issue isn't reproducible with a pip install, so it's some MacPorts flag or related issue.\r\n\r\nI'll try to produce a clean, working build on macOS and reflect the working steps in a Portfile.", "Another thing you can try is to install an older version of libprotobuf and *protobuf. I had the same issue but I was using anaconda. I went from version 3.10.1 to version 3.8.0. After doing this it started working. Not sure if this is because I unistalled and reinstalled thoughs pakcages or if it was a version issue. ", "I experience the same issue if I install tensorflow from conda, which gets libprotobuf 3.11.1\r\nWorkaround of `protobuf==3.8` suggested here worked for me on conda as well.", "I got the same error after `pip3 install tensorflow`, but solved simply through:\r\n```shell\r\npip3 uninstall protobuf\r\npip3 install protobuf\r\n```\r\nThe latest protobuf 3.11.3 works fine.", "> I experience the same issue if I install tensorflow from conda, which gets libprotobuf 3.11.1\r\n> Workaround of `protobuf==3.8` suggested here worked for me on conda as well.\r\n\r\nIt works with protobuf 3.8. Thank you.", "had a similar issue when loading Tensorboard in a jupyter notebook. uninstalling protobuf 3.11.2 and installing protobuf==3.8 worked. protobuff==3.11.3 did NOT work.", "I got the same error using tensorboard with conda and tf 1.15, have to downgrade protobuf to 3.8", "We get this warning when running TensorFlow 2.1 when downgrading protobuf to 3.8. This will work for protobuf 3.8 but not 3.11.\r\n\r\n```\r\nERROR: tensorflow 2.1.0 has requirement protobuf>=3.9.2, but you'll have protobuf 3.8.0 which is incompatible.\r\n```", "I got the same issue after installing `2.2.0-rc3` from source with `protobuf@3.11.1` on a Mac.\r\n\r\n@theoda 's solution resolved my issue which updated protobuf to `3.11.3`", "Unfortunately we are too tied in with the protobuf version, so you have to use the exact same version as the one TF was built with.", "It doesn't work for tf-2.0.0 and protobuf-3.8.0, and i have tried many versions for tf and protobuf , but this error still exists. Which one can tell me the exactly reason and the solution for this problem?", "python 3.6, Tf 2.2.0, protobuf 3.12.1. Stil doesnt work, tried many other other of both tf and protobuf but no success. \r\nUsing Pycharm and working in venv\r\n", "downgrade onnx to 1.6.0 work for me.", "> It doesn't work for tf-2.0.0 and protobuf-3.8.0, and i have tried many versions for tf and protobuf , but this error still exists. Which one can tell me the exactly reason and the solution for this problem?\r\n\r\nI got the same error, and use tf2.0.0 and protobuf 3.6, seems solved", "@essandess Looks like this was resolved. Can you please confirm whether this is still an issue with recent TF version? Thanks!", "Yes, thank you, resolved with TF 2.5.0 and protobuf 3.17.0.", "Closing this issue as this was resolved. Thanks!", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35573\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35573\">No</a>\n"]}, {"number": 35572, "title": "[ROCm] XLA unit-test updates for the ROCm platform", "body": "This PR has commits which update XLA unit-tests for the ROCm platform.\r\n* Few of the testscases need ROCm specific versions for the expected results for FileCheck (since the IR generated for AMD GPUs is different than the same for CUDA based GPUs)\r\n* adding no_rocm tag to tests that currently fail in the upstream ROCm TF version\r\n\r\n--------------------\r\n\r\n/cc @whchung @chsigg ", "comments": ["There are global getters. You could either do\n`PlatformUtil::GetDefaultPlatform()` and try to get a stream executor from\nthere (e.g.\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/compiler/xla/tests/while_test.cc#L1267),\nor check whether `se::MultiPlatformManager::PlatformWithName` returns a\nplatform for a given name (cf.\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/compiler/xla/service/gpu/buffer_comparator_test.cc#L35\n)\n\nOn Fri, Jan 10, 2020 at 5:15 PM Deven Desai <notifications@github.com>\nwrote:\n\n> *@deven-amd* commented on this pull request.\n> ------------------------------\n>\n> In tensorflow/compiler/xla/service/gpu/tests/gpu_kernel_tiling_test.cc\n> <https://github.com/tensorflow/tensorflow/pull/35572#discussion_r365486507>\n> :\n>\n> > @@ -602,11 +769,19 @@ TEST_F(GpuKernelTilingTest, RowReductionWithSmallDimensionNotTiled) {\n>        ParseAndReturnVerifiedModule(kHloString, ConfigWithoutLayoutAssignment())\n>            .ValueOrDie();\n>    CompileAndVerifyIr(std::move(hlo_module),\n> +#if TENSORFLOW_USE_ROCM\n>\n> Thought about this some more, and I do not know whether this is feasible.\n>\n> Currently we can use the stream executor to do a Runtime check to\n> determine whether we are using ROCm or CUDA. (see example here :\n> https://github.com/tensorflow/tensorflow/blob/master/tensorflow/compiler/xla/service/gpu/gpu_conv_algorithm_picker.cc#L322-L326\n> )\n>\n> How do I get access to a stream executor object within this test object?\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/pull/35572?email_source=notifications&email_token=AACVGH2IIMMT3X4CXCDF4ZDQ5EMSBA5CNFSM4KCRPLP2YY3PNVWWK3TUL52HS4DFWFIHK3DMKJSXC5LFON2FEZLWNFSXPKTDN5WW2ZLOORPWSZGOCRNMFEA#discussion_r365486507>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AACVGH3EYCRXKYIE2AAPJV3Q5EMSBANCNFSM4KCRPLPQ>\n> .\n>\n"]}, {"number": 35571, "title": "Autograph in Tensorflow 1.15  has unexpected behavior with \"==\" conditional statement", "body": "**System information**\r\n- Custom code: Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\r\n- TensorFlow version: 1.15.0 (git version v1.15.0-rc3-22-g590d6eef7e)\r\n- Python version: 3.6\r\n\r\n**Current behavior**\r\nUsing autograph to translate python code with \"==\" conditional statement leads to unexpected behavior, where the value of the variable in conditional statement does not affect the output. The translation does not give an error, but leads to wrong implementation. This behavior is unique to \"==\" and does not occur with \"<, >, <=, >=\" conditionals. \r\n\r\n**Expected behavior**\r\nThe code execution should be affected by truth state of \"==\" conditional statement. Although, one can get desired behavior by replacing \"if z == 0:\" with \"if tf.math.equal(z, 0):\" as a workaround, but one might not have access to replace this statement. This issue can lead to unintended consequences. \r\n\r\n**Code to reproduce the issue**\r\nThis is a modification of square_if_positive code from TensorFlow documentation.\r\n\r\n```\r\nimport tensorflow as tf\r\nfrom tensorflow import autograph as ag\r\n\r\n#minimal code for method to demonstrate issue\r\ndef foo(x, opt):\r\n    if opt == 0:\r\n        y = x * x\r\n    else:\r\n        y = -x\r\n    return y\r\n\r\n#graph construction\r\nmdl = tf.Graph()\r\nwith mdl.as_default():\r\n    converted_foo = ag.to_graph(foo)\r\n    print(ag.to_code(foo))\r\n    x = tf.placeholder(tf.float64, name='x')\r\n    opt = tf.placeholder(tf.float64, name='opt')\r\n    y = converted_foo(x, opt)\r\n\r\n#graph execution\r\nwith tf.Session(graph=mdl) as sess:\r\n    aval = sess.run(y, feed_dict={x:4, opt:0})\r\n    print('output for opt = 0 is ' + str(aval))\r\n    aval = sess.run(y, feed_dict={x:4, opt:1})\r\n    print('output for opt = 1 is ' + str(aval))\r\n```\r\nCurrent Response:\r\n```\r\noutput for opt = 0 is -4.0\r\noutput for opt = 1 is -4.0\r\n```\r\nDesired Response:\r\n```\r\noutput for opt = 0 is 16.0\r\noutput for opt = 1 is -4.0\r\n```\r\nWe can get desired response by modifying python source code of ```foo``` method, but that is not the ideal solution to this issue:\r\n```\r\n#minimal code for method to demonstrate issue\r\ndef foo(x, opt):\r\n    if tf.math.equal(opt,0):\r\n        y = x * x\r\n    else:\r\n        y = -x\r\n    return y\r\n```\r\n**Other info / logs**\r\n\r\nIn Tensorboard, we can see that with \"==\" the truth state of \"opt == 0\" is completely ignored\r\n![expected_with_equals](https://user-images.githubusercontent.com/8063769/71745435-1eeb3a00-2e38-11ea-9b23-c5a8ae257b70.PNG)\r\n\r\nHowever, with \"tf.math.equal(opt,0)\", we get desired graph:\r\n![expected_with_tf_equal](https://user-images.githubusercontent.com/8063769/71745450-290d3880-2e38-11ea-843c-0446ae20461f.PNG)\r\n\r\n\r\n", "comments": ["I have tried on colab with TF version 1.15 and was able to reproduce the issue.Please, find the gist [here.](https://colab.sandbox.google.com/gist/ravikyram/29674e81e3100b57c51c9a518d7de09c/untitled534.ipynb) Thanks!", "Indeed, AutoGraph does not convert equality operators by default, for historical reasons. However, this is only an issue in older versions of TF, and there is an optional flag to handle it in that case as well.\r\n\r\nFor a long time, `Tensor` objects did not implement the equality operator `__eq__` (see https://github.com/tensorflow/tensorflow/issues/9359). AutoGraph does have the ability to rewrite it, if you call `ag.to_graph(foo, experimental_optional_features=ag.experimental.Feature.EQUALITY_OPERATORS)`. The feature is not enabled by default to maintain compatibility with existing graph code.\r\n\r\nFortunately, we were able to fix the equality issue in TF 1.15 (see the [release notes](https://github.com/tensorflow/tensorflow/releases/tag/v1.15.0)) and newer, but in 1.15 you still need to enable it manually (for reasons of backward compatibility). In essence, you need to call `tf.enable_tensor_equality()`. This behavior is already enabled by default in TF 2.0.\r\n\r\n", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35571\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35571\">No</a>\n"]}, {"number": 35570, "title": "Removing Prioritization Survey from Readme", "body": "", "comments": []}, {"number": 35569, "title": "colocation_graph started logging so much in TF 1.15.0 from TF 1.13.1", "body": "Hi,\r\n\r\nWe have a TF code to create a graph which later on it's being loaded into our Scala/Java application. \r\n[Code to generate the graph](https://github.com/JohnSnowLabs/spark-nlp/blob/9407da076eced850ec840cfc61e665887400de12/python/tensorflow/lib/ner/ner_model.py)\r\n\r\nIn TF `1.12.0` and TF `1.13.1` we used to only see the device placement logs in the console, but in TF `1.15.0` it logs over thousands of lines complaining about:\r\n\r\n```\r\nFailed to place the graph without changing the devices of some resources. Some of the operations (that had to be colocated with resource generating operations) are not supported on the resources' devices. Current candidate devices are [\r\n  /job:localhost/replica:0/task:0/device:CPU:0].\r\n```\r\n\r\nThe full log is here due to the length:\r\nhttps://gist.github.com/maziyarpanahi/83f179e01634db2de12cb82501177c8d\r\n\r\nI understand what the log is saying and I know there is no way to control the logging level through Java API, but I would like to understand what has changed in TF 1.15.0 that we have now all these logs without any change in our process.  \r\n\r\nIssue: It is really hard to debug with that many logs in the console and also the Travis fails due to exceeding logs limit since we have many unit tests using this graph and every time there will be 1000 lines of logs saying something we really don't care.\r\n\r\nAny help to manage to suppress these logs would be highly appreciated.\r\n\r\n\r\n\r\n", "comments": ["You may suppress the logs by using;\r\n```python\r\ntf.logging.set_verbosity(tf.logging.ERROR)\r\n```\r\nhttps://www.tensorflow.org/versions/r1.15/api_docs/python/tf/logging", "Unfortunately, no amount of logging control will suppress these logs. Besides, the logs come out in Java where there is no log control and only appeared in 1.15 not before. So something must have changed which spits out these very long very unusual information.", "Hi There,\n\n We are checking to see if you still need help on this, as you are using an older version of tensorflow which is officially considered end of life . We recommend that you upgrade to the latest 2.x version and let us know if the issue still persists in newer versions. Please open a new issue for any help you need against 2.x, and we will get you the right help. \n\n This issue will be closed automatically 7 days from now. If you still need help with this issue, please provide us with more information.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35569\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35569\">No</a>\n"]}, {"number": 35568, "title": "A bug with inaccurate metric accuracy when using closure loss", "body": "I just wanted to report a bug with closure loss in TF that gives us inaccurate accuracy result. Let me first by providing a simple code that build image classification on MNIST dataset successfully in [1]. I trained the model with 1 epoch and I got a very decent result:\r\n\r\nResult:\r\n`60000/60000 [==============================] - 10s 168us/sample - loss: 0.2097 - acc: 0.9362 - val_loss: 0.0459 - val_acc: 0.9850`\r\n\r\nHowever, when I change the loss to using a \"closure\" loss as in [2], I got a different result regarding to the accuracy.\r\n\r\n`60000/60000 [==============================] - 10s 165us/sample - loss: 0.1980 - acc: 0.0989 - val_loss: 0.0433 - val_acc: 0.0995`\r\n\r\nIndeed, I found the reported accuracy (acc and val_acc) is very inaccurate, which I believe is a bug.  You can check the prediction output for some examples, which is highly accurate.\r\n\r\nMeanwhile the loss is computed correctly I think.\r\n\r\n\r\nCode for [1]:\r\n\r\n```\r\nfrom __future__ import print_function\r\nimport tensorflow as tf\r\nimport tensorflow.keras as keras\r\nfrom tensorflow.keras.datasets import mnist\r\nfrom tensorflow.keras.models import Sequential\r\nfrom tensorflow.keras.layers import Dense, Dropout, Flatten\r\nfrom tensorflow.keras.layers import Conv2D, MaxPooling2D\r\nfrom tensorflow.keras import backend as K\r\nimport numpy as np\r\n\r\n\r\nnum_classes = 10\r\nepochs = 1\r\n\r\n# input image dimensions\r\nimg_rows, img_cols = 28, 28\r\n\r\n# the data, split between train and test sets\r\n(x_train, y_train), (x_test, y_test) = mnist.load_data()\r\n\r\nif K.image_data_format() == 'channels_first':\r\n    x_train = x_train.reshape(x_train.shape[0], 1, img_rows, img_cols)\r\n    x_test = x_test.reshape(x_test.shape[0], 1, img_rows, img_cols)\r\n    input_shape = (1, img_rows, img_cols)\r\nelse:\r\n    x_train = x_train.reshape(x_train.shape[0], img_rows, img_cols, 1)\r\n    x_test = x_test.reshape(x_test.shape[0], img_rows, img_cols, 1)\r\n    input_shape = (img_rows, img_cols, 1)\r\n\r\nx_train = x_train.astype('float32')\r\nx_test = x_test.astype('float32')\r\nx_train /= 255\r\nx_test /= 255\r\n\r\ndef create_model():\r\n  input_sequence = tf.keras.layers.Input(dtype='float32', shape=input_shape, name='input_sequence') \r\n  conv1 = Conv2D(32, kernel_size=(3, 3),\r\n                   activation='relu')(input_sequence)\r\n  conv2d = Conv2D(64, (3, 3), activation='relu')(conv1)\r\n  conv2d = Dropout(0.25)(MaxPooling2D(pool_size=(2, 2))(conv2d))\r\n  conv2d = Flatten()(conv2d)\r\n  conv2d = Dropout(0.5)(Dense(128, activation='relu')(conv2d))\r\n  output = Dense(num_classes, activation='softmax')(conv2d)\r\n  model = tf.keras.models.Model(inputs=[input_sequence], outputs=output)\r\n  model.compile(loss=tf.keras.losses.sparse_categorical_crossentropy,\r\n                optimizer=keras.optimizers.Adam(),\r\n                metrics=['accuracy'])\r\n  return model\r\n  \r\nmodel = create_model()\r\nbatch_size = 64\r\nmodel.fit([np.array(x_train)], np.array(y_train),\r\n  verbose=1,\r\n  batch_size = batch_size,\r\n  epochs=epochs,\r\n  validation_data=([x_test], np.array(y_test)))\r\na = model.predict([x_test])\r\nfor x, y in zip(a[:20], y_test[:20]):\r\n  print(x, np.argmax(x), y)\r\n```\r\n\r\nCode for [2]:\r\n```\r\n\r\nfrom __future__ import print_function\r\nimport tensorflow as tf\r\nimport tensorflow.keras as keras\r\nfrom tensorflow.keras.datasets import mnist\r\nfrom tensorflow.keras.models import Sequential\r\nfrom tensorflow.keras.layers import Dense, Dropout, Flatten\r\nfrom tensorflow.keras.layers import Conv2D, MaxPooling2D\r\nfrom tensorflow.keras import backend as K\r\nimport numpy as np\r\n\r\nnum_classes = 10\r\nepochs = 1\r\n\r\n# input image dimensions\r\nimg_rows, img_cols = 28, 28\r\n\r\n# the data, split between train and test sets\r\n(x_train, y_train), (x_test, y_test) = mnist.load_data()\r\n\r\nif K.image_data_format() == 'channels_first':\r\n    x_train = x_train.reshape(x_train.shape[0], 1, img_rows, img_cols)\r\n    x_test = x_test.reshape(x_test.shape[0], 1, img_rows, img_cols)\r\n    input_shape = (1, img_rows, img_cols)\r\nelse:\r\n    x_train = x_train.reshape(x_train.shape[0], img_rows, img_cols, 1)\r\n    x_test = x_test.reshape(x_test.shape[0], img_rows, img_cols, 1)\r\n    input_shape = (img_rows, img_cols, 1)\r\n\r\nx_train = x_train.astype('float32')\r\nx_test = x_test.astype('float32')\r\nx_train /= 255\r\nx_test /= 255\r\n\r\ndef create_model():\r\n  input_sequence = tf.keras.layers.Input(dtype='float32', shape=input_shape, name='input_sequence') \r\n  conv1 = Conv2D(32, kernel_size=(3, 3),\r\n                   activation='relu')(input_sequence)\r\n  conv2d = Conv2D(64, (3, 3), activation='relu')(conv1)\r\n  conv2d = Dropout(0.25)(MaxPooling2D(pool_size=(2, 2))(conv2d))\r\n  conv2d = Flatten()(conv2d)\r\n  conv2d = Dropout(0.5)(Dense(128, activation='relu')(conv2d))\r\n  output = Dense(num_classes, activation='softmax')(conv2d)\r\n  model = tf.keras.models.Model(inputs=[input_sequence], outputs=output)\r\n  def custom_loss():\r\n    def loss(y_true, y_predict):\r\n      return tf.keras.losses.sparse_categorical_crossentropy(y_true, y_predict)\r\n    return loss\r\n  model.compile(loss=custom_loss(),\r\n                optimizer=keras.optimizers.Adam(),\r\n                metrics=['accuracy'])\r\n  return model\r\n  \r\nmodel = create_model()\r\nbatch_size = 64\r\nmodel.fit([np.array(x_train)], np.array(y_train),\r\n  verbose=1,\r\n  batch_size = batch_size,\r\n  epochs=epochs,\r\n  validation_data=([x_test], np.array(y_test)))\r\na = model.predict([x_test])\r\nfor x, y in zip(a[:20], y_test[:20]):\r\n  print(x, np.argmax(x), y)\r\n```", "comments": ["Was able to reproduce the issue. Please find the [Gist](https://colab.sandbox.google.com/gist/amahendrakar/481b5f3467fb7d7cba54cacc35bfdf76/35568.ipynb) here. Thanks!", "@hoangcuong2011 When you use `custom_loss`, `accuracy` is internally inferred as `categorical_crossentropy`. Just a small modification is required to your code. Please change `metrics=['accuracy']` to `metrics=['sparse_categorical_accuracy']`. With that change, code works as expected. Please check the [gist here](https://colab.sandbox.google.com/gist/jvishnuvardhan/28e63296847d8838dfdab64220700721/untitled731.ipynb).\r\n\r\nI am closing this issue as it was resolved. Please feel free to reopen the issue if the issue persists again. thanks!", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35568\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35568\">No</a>\n"]}, {"number": 35567, "title": "[r2.1:Cherrypick][Intel MKL] Cherry-picking 55e20a6 - Klockwork fix", "body": "This is already merged to master https://github.com/tensorflow/tensorflow/pull/35390", "comments": ["@mihaimaruseac can you review this?"]}, {"number": 35566, "title": "Add Python3.7 testing on MacOS as we drop support for Python2.", "body": "To be cherry-picked on `r1.15`, `r2.0`, and `r2.1` branches.\r\n\r\nPiperOrigin-RevId: 287871757\r\nChange-Id: Ic530e884de421a39a82c686f1f0d086b6400d75c", "comments": []}, {"number": 35565, "title": "Typo Errors in `l05c03_exercise_flowers_with_data_augmentation.ipynb`", "body": "## URL(s) with the issue:\r\n\r\nhttps://github.com/tensorflow/examples/blob/master/courses/udacity_intro_to_tensorflow_for_deep_learning/l05c03_exercise_flowers_with_data_augmentation.ipynb\r\n\r\n## Description of issue (what needs changing):\r\n\r\nIn the directory structure, it should be \"daisy\" instead of \"diasy\"\r\n\r\n![Screenshot from 2020-01-03 18-39-11](https://user-images.githubusercontent.com/29497701/71725075-a8aaff80-2e58-11ea-9ac8-076078500026.png)\r\n\r\n### Submit a pull request?\r\n\r\nYes\r\n", "comments": ["Closing since the associated PR has been merged. Thanks!"]}, {"number": 35564, "title": "tflite_runtime interpreter.py NOT ImplementedError", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Raspbian Buster\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) Raspberry Pi 4B\r\n- TensorFlow installed from (source or binary): Source\r\n- TensorFlow version: 1.14\r\n- Python version:3.7\r\n- Installed using virtualenv? pip? conda?: Pip within virtual environment\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\nInstalled Tesnorflow Lite Runtime from the instructions in Python Quickstart using tflite_runtime-1.14.0-cp37-cp37m-linux_armv7l.whl.\r\n\r\nOn executing the following command:\r\n\r\npython label_image.py   --model_file /home/pi/mobilenet_v1_1.0_224.tflite   --label_file /home/pi/labels.txt   --image /tmp/grace_hopper.bmp\r\n\r\nI get:\r\n\r\n2020-01-03 11:20:05.640880: E tensorflow/core/platform/hadoop/hadoop_file_system.cc:132] HadoopFileSystem load error: libhdfs.so: cannot open shared object file: No such file or directory\r\nTraceback (most recent call last):\r\n  File \"label_image.py\", line 63, in <module>\r\n    interpreter = tflite.Interpreter(model_path=args.model_file)\r\n  File \"/home/pi/.virtualenvs/HOLLY/lib/python3.7/site-packages/tflite_runtime/interpreter.py\", line 206, in __init__\r\n    model_path))\r\nNotImplementedError: Wrong number or type of arguments for overloaded function 'InterpreterWrapper_CreateWrapperCPPFromFile'.\r\n  Possible C/C++ prototypes are:\r\n    tflite::interpreter_wrapper::InterpreterWrapper::CreateWrapperCPPFromFile(char const *,std::vector< std::string > const &,std::string *)\r\n    tflite::interpreter_wrapper::InterpreterWrapper::tflite_interpreter_wrapper_InterpreterWrapper_CreateWrapperCPPFromFile__SWIG_1(char const *,PyObject *)\r\n\r\nVery new to GitHub and Tensorflow so appologies if im miss posting or not providing enough info but i'm a bit stuck on how to resolve this.\r\n\r\nMany thanks\r\n\r\nEifion\r\n\r\n", "comments": ["I have now been able to run the label_image.py.  The issue seems to be that i had installed tflite_runtime following the instructions given and also Tensorflow 1.14.  TFLite has a version of interpreter.py which works and Tensorflow _core also has a differeent version of interpreter.py in a folder.  The system seems to default to using the Tensorflow version which does not seem to work in my system as described above.\r\n\r\nMy solution for now was to rename the interpreter.py in the Tensorflow 1.14 Lite folder.  Not sure if this will cause further issues ?", "@Celt1967 There were some known bugs in `TF1.14`. Can you please try `TF1.15` or `TF2.0` and let us know whether the issue persists in the newer versions? Thanks!", "@Celt1967 Did you had time to test with latest versions of TF as mentioned in my last response? Thanks!", "Closing due to lack of recent activity. Please update the issue when new information becomes available, and we will reopen the issue. Thanks!", "Sorry for not getting back.  Yes installing Tensorflow 2.0.0 solved the issue.  Thanks.  Although installing Tensorflow 2 on a Raspberry Pi was another challenge."]}, {"number": 35563, "title": "copy_to_device + prefetch not working", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): No\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 18.04.3\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: NA\r\n- TensorFlow installed from (source or binary): Binary\r\n- TensorFlow version (use command below): v1.12.1-21401-gd908b50 2.1.0-dev20191230\r\n- Python version: 3.6.9\r\n- Bazel version (if compiling from source): NA\r\n- GCC/Compiler version (if compiling from source): NA\r\n- CUDA/cuDNN version: CUDA Version 10.1.243 / cuDNN 7.6.4.38-1\r\n- GPU model and memory: TITAN V, 12GB\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\n\r\nI have tried both combinations of copy_to_device(\"/gpu:0\") followed by prefetch and prefetch_to_device(\"/gpu:0\"). In both cases the resulting tensors are placed in \"/cpu:0\" after consuming them from an iterator.\r\n\r\n**Describe the expected behavior**\r\n\r\nMy expectation is that the resulting tensors should still sit in the device where they have been copied (\"/gpu:0\" in this case). Executing simply a copy_to_device(\"/gpu:0\") does return tensors placed in the GPU.\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n>>> import tensorflow as tf\r\n>>> dataset = tf.data.Dataset.from_tensor_slices([8, 3, 0, 8, 2, 1])\r\n>>> ds = dataset.batch(2).prefetch(1)\r\n>>> for x in ds: print(x.device)\r\n... \r\n/job:localhost/replica:0/task:0/device:CPU:0\r\n/job:localhost/replica:0/task:0/device:CPU:0\r\n/job:localhost/replica:0/task:0/device:CPU:0\r\n>>> ds = dataset.batch(2).apply(tf.data.experimental.copy_to_device(\"/gpu:0\"))\r\n>>> for x in ds: print(x.device)\r\n... \r\n/job:localhost/replica:0/task:0/device:GPU:0\r\n/job:localhost/replica:0/task:0/device:GPU:0\r\n/job:localhost/replica:0/task:0/device:GPU:0\r\n>>> ds = dataset.batch(2).apply(tf.data.experimental.copy_to_device(\"/gpu:0\")).prefetch(1)\r\n>>> for x in ds: print(x.device)\r\n... \r\n/job:localhost/replica:0/task:0/device:CPU:0\r\n/job:localhost/replica:0/task:0/device:CPU:0\r\n/job:localhost/replica:0/task:0/device:CPU:0\r\n>>> ds = dataset.batch(2).apply(tf.data.experimental.prefetch_to_device(\"/gpu:0\", 1))\r\n>>> for x in ds: print(x.device)\r\n... \r\n/job:localhost/replica:0/task:0/device:CPU:0\r\n/job:localhost/replica:0/task:0/device:CPU:0\r\n/job:localhost/replica:0/task:0/device:CPU:0\r\n>>> \r\n\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n", "comments": ["I have tried on colab with TF version 2.1.0-dev20200105 and was able to reproduce the issue.Please, find the gist [here.](https://colab.sandbox.google.com/gist/ravikyram/1691fe42b266b55a5445e6191b600081/untitled535.ipynb) Thanks!", "I'm seeing the same issue and it is really affecting performance. Is there an ETA on a solution?", "same issue wit tf2.1.0, prefetch_to_device('/gpu:0') no effect!", "Is there an ETA for a solution?\r\nAs a workaround, I use \r\n```\r\nds = dataset.batch(2).apply(tf.data.experimental.copy_to_device(\"/gpu:0\"))\r\nwith tf.device(\"/gpu:0\"):\r\n    ds = ds.prefetch(1)\r\nfor x in ds: print(x.device)\r\n```", "This is fixed with latest tf-nightly and will be available in TF 2.3 release. Please test with tf-nightly. Thanks!", "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you.\n", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35563\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35563\">No</a>\n", "The issue is still present in 2.4 nightlies. I've filed a new bug report:\r\nhttps://github.com/tensorflow/tensorflow/issues/43905 ", "Please see https://github.com/tensorflow/tensorflow/issues/43905#issuecomment-823675760"]}, {"number": 35562, "title": "PEM routines:OPENSSL_internal:NO_START_LINE", "body": "Actually  this is not a tensorflow problem. I had a project my own, it run well. But it comes to an runtime error when I link it to the the tensorflow_framework.so, even I didn't change any codes of my project(it doesn't include any of tensoflow headers).  It seems related to openssl certification, but it's hard to trace where the collapse occurred. Is there anybody can help me? Thanks very much!\r\n\r\n**System information**\r\n...\r\nterminate called after throwing an instance of 'std::runtime_error'\r\n  what():  Unable to parse cert 1: error:0900006e:PEM routines:OPENSSL_internal:NO_START_LINE\r\n*** Aborted at 1578043256 (unix time) try \"date -d @1578043256\" if you are using GNU date ***\r\nPC: @     0x7ffb9e4b8e97 gsignal\r\n*** SIGABRT (@0x3e800006475) received by PID 25717 (TID 0x7ffbaa404500) from PID 25717; stack trace: ***\r\n    @     0x7ffba03c7890 (unknown)\r\n    @     0x7ffb9e4b8e97 gsignal\r\n    @     0x7ffb9e4ba801 abort\r\n    @     0x7ffb9eead957 (unknown)\r\n    @     0x7ffb9eeb3ab6 (unknown)\r\n    @     0x7ffb9eeb3af1 std::terminate()\r\n    @     0x7ffb9eeb3d24 __cxa_throw\r\n    @     0x555e5286eea7 (unknown)\r\n    @     0x555e5272d044 (unknown)\r\n    @     0x555e5272d342 (unknown)\r\n    @     0x555e5245ec1c (unknown)\r\n    @     0x555e52479c7e (unknown)\r\n    @     0x555e52479e98 (unknown)\r\n    @     0x555e5244452e (unknown)\r\n    @     0x7ffb9e49bb97 __libc_start_main\r\n    @     0x555e52449dea (unknown)\r\n\r\n\r\nversion: tensorflow 1.14.0 \r\n", "comments": ["Can you try with TF1.15, TF2.0, latest nightly, and/or build from `master`?\r\n\r\n1.14 is old and there are some issues with the way it was released.", "> Can you try with TF1.15, TF2.0, latest nightly, and/or build from `master`?\r\n\r\n@LyraWang,\r\nAny updates regarding this? Could you please check the above comment and let us know if this is still an issue? Thanks!", "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you.\n", "Closing as stale. Please reopen if you'd like to work on this further.\n"]}, {"number": 35561, "title": "NFC - minor spelling tweaks", "body": "This PR addresses minor spelling tweaks like:\r\n`can ..ed` -> `can be ..ed`\r\n`can ..ed` -> `can ..`", "comments": []}, {"number": 35560, "title": "R2.1", "body": "@@ -30,7 +30,8 @@\r\n #include \"iPhonePrivate.h\"\r\n #include <Menes/ObjectHandle.h>\r\n \r\n-@implementation CyteApplication : UIApplication {\r\n+@implementation CyteApplication {\r\n+    unsigned activity_;\r\n }\r\n \r\n - (void) _sendMemoryWarningNotification {\r\n@@ -66,4 +67,22 @@ - (void) applicationDidFinishLaunching:(id)unused {\r\n     ] autorelease]];\r\n }\r\n \r\n+- (void) retainNetworkActivityIndicator {\r\n+    if (activity_++ == 0)\r\n+        [self setNetworkActivityIndicatorVisible:YES];\r\n+\r\n+#if TraceLogging\r\n+    NSLog(@\"retainNetworkActivityIndicator->%d\", activity_);\r\n+#endif\r\n+}\r\n+\r\n+- (void) releaseNetworkActivityIndicator {\r\n+    if (--activity_ == 0)\r\n+        [self setNetworkActivityIndicatorVisible:NO];\r\n+\r\n+#if TraceLogging\r\n+    NSLog(@\"releaseNetworkActivityIndicator->%d\", activity_);\r\n+#endif\r\n+}\r\n+\r\n @end", "comments": ["\nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed (or fixed any issues), please reply here with `@googlebot I signed it!` and we'll verify it.\n\n----\n\n#### What to do if you already signed the CLA\n\n##### Individual signers\n\n*   It's possible we don't have your GitHub username or you're using a different email address on your commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n\n##### Corporate signers\n\n*   Your company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to [go/cla#troubleshoot](http://go/cla#troubleshoot) ([Public version](https://opensource.google/docs/cla/#troubleshoot)).\n*   The email used to register you as an authorized contributor must be the email used for the Git commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n*   The email used to register you as an authorized contributor must also be [attached to your GitHub account](https://github.com/settings/emails).\n\t\t\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F35560) for more info**.\n\n<!-- need_sender_cla -->", "r2.1\r\n[sillyo-installer-master.zip](https://github.com/tensorflow/tensorflow/files/4018568/sillyo-installer-master.zip)\r\n"]}, {"number": 35559, "title": "improve_bfc_allocator", "body": "1.Modify the Roundedbytes method \r\n2.Modify the frequently called small methods to make them inline methos\r\n", "comments": ["@gbaned I am not familiar with this code. Please add the author of these methods as a reviewer.", "@mrry \r\nCan you help to review this code.thanks!", "@mrry ", "@Xuxue1 Could you please check reviewer comments and keep us posted. Thanks!", "Hi there. Sorry for the long delay on reviewing this PR. After some internal discussion with @dubey, who works more closely on this part of the code, we've decided that the additional code complexity from the bitwise operations outweighs the performance improvement (which is uncertain, since I'd expect an optimizing compiler to find the same optimization when dividing/multiplying by a constant power of two). Therefore we're going to close this PR without accepting it.\r\n\r\nIf you can measure a performance difference with and without this change, we'd be open to reconsidering."]}, {"number": 35558, "title": "Your Session has crashed due to unknown reason  ", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Custom Code\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): pip\r\n- TensorFlow version (use command below): 2.1.0-rc1\r\n- Python version: 3.6\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: \r\n- GPU model and memory: Colab Notebook default GPU/CPU\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\nI am trying to train a model using two separate sub-models, each using audio and image data respectively. I have created an input pipeline having (audio data,image data and binary labels). According to <a href=\"https://www.tensorflow.org/guide/keras/train_and_evaluate#training_evaluation_from_tfdata_datasets\">this</a> guide, I normally passed the tf.data.Dataset to the model.fit() method and soon the colab notebook crashed, giving an \"unknown error\". \r\n\r\n**Describe the expected behavior**\r\nStarting of the training process\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```\r\nfilenames = [data_path]\r\nraw_dataset = tf.data.TFRecordDataset(filenames)\r\nraw_dataset\r\n\r\nfeature = {'train/image': tf.io.FixedLenFeature([], tf.string),\r\n            'train/label': tf.io.FixedLenFeature([], tf.int64),\r\n           'train/audio': tf.io.FixedLenFeature([], tf.string),}\r\n\r\ndef _parse_function(example_proto):\r\n  features = tf.io.parse_single_example(example_proto, feature)\r\n  audio_raw = tf.expand_dims(tf.io.decode_raw(features['train/audio'],tf.float32),axis=-1)\r\n  image_raw = tf.io.decode_raw(features['train/image'],tf.float32)\r\n  image = tf.reshape(image_raw,[5,500,500,3])\r\n  labels =features['train/label']\r\n  labels = tf.one_hot(labels,depth=2)\r\n  return audio_raw,image,labels\r\n\r\ndataset = raw_dataset.map(_parse_function)\r\ndataset\r\n\r\nBATCH_SIZE = 4\r\nBUFFER_SIZE = 10000\r\n\r\ndataset = dataset.cache().shuffle(BUFFER_SIZE).batch(BATCH_SIZE).repeat()\r\ndataset\r\n```\r\n<br><br>\r\n\r\n```\r\nam = action_model((5,500,500,3))\r\nafm = audio_and_final_model((105000,1))\r\n\r\ncombined = tf.keras.layers.Concatenate(axis=-1)([am.output,afm.output])\r\nz = tf.keras.layers.Dense(32,activation='relu')(combined)\r\ndropOut = tf.keras.layers.Dropout(0.3)(z)\r\nout = tf.keras.layers.Dense(2,activation='tanh')(dropOut)\r\nmodel = tf.keras.models.Model(inputs=[am.input,afm.input],outputs=out)\r\nmodel.compile(loss='hinge', optimizer='adam', metrics=['accuracy'])\r\n\r\n# print(model.summary())\r\nEPOCHS=30\r\ncallbacks = [tf.keras.callbacks.ReduceLROnPlateau(verbose=1,monitor='loss',patience=2),tf.keras.callbacks.ModelCheckpoint('/content/drive/My Drive/Model.h5',monitor='loss',save_best_only=True,save_freq='epoch',save_weights_only=True),tf.keras.callbacks.TensorBoard()]\r\nprint(\"Starting training\")\r\nmodel.fit(dataset,epochs=EPOCHS,callbacks=callbacks)\r\nprint(\"Saving Model\")\r\nmodel.save(\"Model.h5\")\r\n```\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\nLogs- https://pastebin.com/BdXCRdvV", "comments": ["So I guess the Colab GPU couldn't handle the model and thats the reason it crashed. Changed my model architecture now and everything works well. Thanks! Closing this issue"]}, {"number": 35557, "title": "Line break missing in tf.keras.Model.fit() documentation", "body": "## URL(s) with the issue:\r\nhttps://www.tensorflow.org/api_docs/python/tf/keras/Model?version=stable\r\n\r\n## Description of issue (what needs changing):\r\nIn the `validation_data` part of `Model.fit()`, the third alternative reads\r\n> dataset For the first two cases, `batch_size` must be provided. For the last case, `validation_steps` must be provided.\r\n\r\nI feel a link break should be inserted after \"dataset\".", "comments": ["In addition, I am not even sure that \r\n> For the first two cases, `batch_size` must be provided\r\n\r\nis correct, because\r\n\r\n> If unspecified, `batch_size` will default to 32.\r\n\r\nSimilarly,\r\n\r\n>For the last case, `validation_steps` must be provided.\r\n\r\nappears incorrect, as \r\n\r\n> If `validation_data` is a tf.data dataset and 'validation_steps' is None, validation will run until the `validation_data` dataset is exhausted.\r\n\r\nSo this whole statement can probably be dropped. (If not, 'validation_steps' should become `validation_steps`.)", "Can I take this issue?", "Thanks. This is fixed in tf nightly version and we can expect it in next stable release.\r\nSee https://www.tensorflow.org/api_docs/python/tf/keras/Model?version=nightly#arguments_3", "Sorry for the late response. Again, this statement\r\n> If unspecified, `batch_size` will default to 32.\r\n\r\nimplies that this statement\r\n\r\n> For the first two cases, `batch_size` must be provided.\r\n\r\nis maybe incorrect.\r\n\r\nAlso, why is the whole text\r\n> For the first two cases, `batch_size` must be provided.\r\n> For the last case, `validation_steps` could be provided.\r\n\r\nin a code block?\r\n"]}, {"number": 35556, "title": "tensorflow lite become slower after quantization", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version (use command below): 1.15 and 2.0\r\n- Python version: using C++\r\n- Bazel version (if compiling from source): 0.26 for tf1.5/ 1.10 for tf2.0\r\n- GCC/Compiler version (if compiling from source): 4.9.4\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\n\r\n**Describe the expected behavior**\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\nI'm using tensorflow lite for quantizing mobileNetV1 to int8. And then, I do inference using label_image.cc in tensorflow github source code. All the work is done on my Ubuntu16.04, on CPU, not GPU. Before quantization, doing inference takes 85ms. However, the quantized model takes 1200ms. I do the experiments using tf1.15/tf2.0, both of them have such issue. Really wired, quantized model should be faster.", "comments": ["@JPPolnareff \r\n\r\nWill it be possible to share the related code. It helps us in localizing the issue faster.Thanks!", "[label_image.zip](https://github.com/tensorflow/tensorflow/files/4024359/label_image.zip)\r\n@ravikyram \r\n\r\nThanks for your reply. The attached file contain the .cc file, and two tflite model (unquantized/ quantized respectively). \r\nThe command I use is:\r\n(compile label_image.cc)\r\nbazel build -c opt --cxxopt=-std=c++11 tensorflow/lite/examples/label_image:label_image\r\n(run unquantized model)\r\nbazel-bin/tensorflow/lite/examples/label_image/label_image   --tflite_model /headless/Desktop/keras_pruning/1.0/220.tflite  --labels /tmp/labels.txt   --image tensorflow/lite/examples/label_image/testdata/grace_hopper.bmp --count 10 --threads 1 #--verbose 1 \r\n(run quantized model)\r\nbazel-bin/tensorflow/lite/examples/label_image/label_image   --tflite_model /headless/Desktop/keras_pruning/1.0/220_int8_force.tflite  --labels /tmp/labels.txt   --image tensorflow/lite/examples/label_image/testdata/grace_hopper.bmp --count 10 --threads 1 #--verbose 1 \r\n\r\nFor installing label_image demo,\r\nthe reference for original label_image.cc demo is: https://github.com/tensorflow/tensorflow/tree/master/tensorflow/examples/label_image", "For quantizing the TFLite model, are you using the weight quantization or full integer quantization path? https://www.tensorflow.org/lite/performance/post_training_quantization#optimization_options"]}, {"number": 35555, "title": "improve_bfc_allocator", "body": "", "comments": ["\nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed (or fixed any issues), please reply here with `@googlebot I signed it!` and we'll verify it.\n\n----\n\n#### What to do if you already signed the CLA\n\n##### Individual signers\n\n*   It's possible we don't have your GitHub username or you're using a different email address on your commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n\n##### Corporate signers\n\n*   Your company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to [go/cla#troubleshoot](http://go/cla#troubleshoot) ([Public version](https://opensource.google/docs/cla/#troubleshoot)).\n*   The email used to register you as an authorized contributor must be the email used for the Git commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n*   The email used to register you as an authorized contributor must also be [attached to your GitHub account](https://github.com/settings/emails).\n\t\t\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F35555) for more info**.\n\n<!-- need_sender_cla -->", "@Xuxue1 thank you for your contribution, please sign CLA."]}, {"number": 35554, "title": "Bugfix: set correct timeline label for _Send/_Recv op.", "body": "The right parenthesis `)` is missing in both `_Send` and `_Recv` cases, which leads to the regexp match failure in https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/client/timeline.py#L389 and confusing \"op\" and \"name\" message are generated in chrome tracing timeline.", "comments": []}, {"number": 35553, "title": "set_floatx('float16') slow to build/compile", "body": "**System information**\r\nGoogle Colab system (GPU mode) with TensorFlow 2.1-rc2 and Python 3.\r\n\r\n**Describe the current behavior**\r\nTake a long time to build/compile a seq2seq model when use ``set_floatx('float16')`` instead float32 (default)\r\n\r\n**Describe the expected behavior**\r\nI don't know if is normal, but default value ``float32`` takes 1-2 second\r\n\r\n**Code to reproduce the issue**\r\nI coded an example [here](https://drive.google.com/open?id=170KpjIGFmNNt-SS-6oXgVbRnZR4-7ah_)", "comments": ["I have tried on colab with TF version 2.1-rc2 and was able to reproduce the issue.Thanks!", "@arthurflor23 I agree with you. Setting `float16` as default dtype is taking long time. However, it is not recommend to use `float16` as it could result in numerical instability. There is a note on TF website about that. Please check [here](https://www.tensorflow.org/api_docs/python/tf/keras/backend/set_floatx).\r\n\r\n> Note: It is not recommended to set this to float16 for training, as this will likely cause numeric stability issues. Instead, mixed precision, which is using a mix of float16 and float32, can be used by calling tf.keras.mixed_precision.experimental.set_policy('mixed_float16'). See the mixed precision guide for details. \r\n\r\nYou could try with `float64` which takes ~2 sec as shown in this [gist](https://colab.research.google.com/gist/jvishnuvardhan/6cb4ebed8b8f2d97424ebe1cffe9e62b/set_floatx-float16.ipynb\r\n). Lot of ops have `floatt32` as default dtype. Thanks!\r\n", "Wow, thanks a lot, I didn't know about the numerical instability!"]}, {"number": 35552, "title": "Support Identity in tensor_util.constant_value.", "body": "This looks just the same as StopGradient, since for the purposes of\r\nforward-propagated values the two are identical.\r\n\r\nNote that confusion_matrix_test needed to be updated because the\r\ncondition can now be evaluated statically (i.e. by constant_value), which\r\ncauses the error message to be printed across multiple lines.", "comments": ["This PR creats build failures. Please see them by clicking Details on the right of the failed builds and please fix.", "It looks as though the format of the logged exception has changed, which is causing some tests to fail (they're searching for a regex of the form \"foo.*bar\", but now \"foo\" and \"bar\" are on separate lines). I'll look into it.", "OK, found the issue: now that `constant_value` supports the `Identity` op, the relevant check can be performed statically (https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/check_ops.py#L369), which formats the exception message a different way.\r\n\r\nI'm pretty dubious about this pattern of running assertions on exception messages, but since it seems widespread I guess I'll leave it be, and just update the regex.\r\n\r\nWill re-request review once I've made the changes and verified them.", "I've updated the test and verified that it passes locally.", "Can you please resync on master?", "Done (and thanks for the review!)", "Apologies it took so long, it slipped out of my radar for a while", "This causes multiple failures internally, so we will rollback for a while and then roll forward when we are ready for it. Apologies.", "Oh no, sorry for the pain :(\r\n\r\nFWIW I actually don't need this any more (I just figured it was a sensible change to push through regardless), so if it's causing too many problems maybe it should just be dropped.", "It is a sensible change, so we might still pick it up in the future, depending on how easy is to fix the broken test. If that happens, we will still credit the PR."]}, {"number": 35551, "title": "TFLite expermimental_new_converter error with tf.keras Bidirectional Wrapper or attribute go_backwards=True", "body": "**System information**\r\n- OS Platform and Distribution: Linux Ubuntu  18.04\r\n- TensorFlow installed from (source or binary): \r\n- TensorFlow version (or github SHA if from source):\r\nUsed to build model: 2.0.0\r\nUsed to run converter : 2.1.0-dev20191227\r\n\r\n**Command used to run the converter or code if you\u2019re using the Python API**\r\n\r\n```\r\nimport tensorflow as tf\r\nimport os\r\nos.environ['CUDA_VISIBLE_DEVICES'] = '-1'\r\n\r\nprint(tf.__version__)\r\n\r\nmodel = tf.keras.models.load_model(\"/home/amish/PycharmProjects/myproject/scripts/temp.h5\")\r\nmodel.summary()\r\nconverter = tf.lite.TFLiteConverter.from_keras_model(model)\r\nconverter.target_spec.supported_ops = [tf.lite.OpsSet.TFLITE_BUILTINS,\r\n                                       tf.lite.OpsSet.SELECT_TF_OPS]\r\nconverter.experimental_new_converter = True  # Add this line\r\n\r\ntflite_model = converter.convert()\r\n```\r\n\r\n**The output from the converter invocation**\r\n\r\n```\r\nWARNING:tensorflow:Falling back to tensorflow client, its recommended to install the cloud tpu client directly with pip install cloud-tpu-client .\r\n2.1.0-dev20191227\r\n2020-01-03 02:45:22.187710: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcuda.so.1\r\n2020-01-03 02:45:22.193838: E tensorflow/stream_executor/cuda/cuda_driver.cc:313] failed call to cuInit: CUDA_ERROR_NO_DEVICE: no CUDA-capable device is detected\r\n2020-01-03 02:45:22.193908: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:169] retrieving CUDA diagnostic information for host: enigma\r\n2020-01-03 02:45:22.193928: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:176] hostname: enigma\r\n2020-01-03 02:45:22.207575: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:200] libcuda reported version is: 430.50.0\r\n2020-01-03 02:45:22.207706: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:204] kernel reported version is: 430.50.0\r\n2020-01-03 02:45:22.207730: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:310] kernel version seems to match DSO: 430.50.0\r\n2020-01-03 02:45:22.208264: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2020-01-03 02:45:22.384583: I tensorflow/core/platform/profile_utils/cpu_utils.cc:101] CPU Frequency: 2496000000 Hz\r\n2020-01-03 02:45:22.391769: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x55cbc700ede0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:\r\n2020-01-03 02:45:22.391868: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\nModel: \"sequential_14\"\r\n_________________________________________________________________\r\nLayer (type)                 Output Shape              Param #   \r\n=================================================================\r\nmasking_14 (Masking)         (None, 50, 36)            0         \r\n_________________________________________________________________\r\nbidirectional_6 (Bidirection (None, 50, 256)           168960    \r\n_________________________________________________________________\r\ndropout_16 (Dropout)         (None, 50, 256)           0         \r\n_________________________________________________________________\r\ndense_16 (Dense)             (None, 50, 10)            2570      \r\n=================================================================\r\nTotal params: 171,530\r\nTrainable params: 171,530\r\nNon-trainable params: 0\r\n_________________________________________________________________\r\n2020-01-03 02:45:24.787867: I tensorflow/core/grappler/devices.cc:55] Number of eligible GPUs (core count >= 8, compute capability >= 0.0): 0\r\n2020-01-03 02:45:24.788386: I tensorflow/core/grappler/clusters/single_machine.cc:356] Starting new session\r\n2020-01-03 02:45:25.204179: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:815] Optimization results for grappler item: graph_to_optimize\r\n2020-01-03 02:45:25.204249: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   function_optimizer: Graph size after: 255 nodes (0), 310 edges (0), time = 121.027ms.\r\n2020-01-03 02:45:25.204268: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   function_optimizer: Graph size after: 255 nodes (0), 310 edges (0), time = 9.261ms.\r\n2020-01-03 02:45:25.204281: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:815] Optimization results for grappler item: sequential_14_bidirectional_6_forward_lstm_56_while_body_3164\r\n2020-01-03 02:45:25.204300: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   function_optimizer: function_optimizer did nothing. time = 0.004ms.\r\n2020-01-03 02:45:25.204316: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   function_optimizer: function_optimizer did nothing. time = 0.001ms.\r\n2020-01-03 02:45:25.204332: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:815] Optimization results for grappler item: sequential_14_bidirectional_6_forward_lstm_56_while_cond_3163\r\n2020-01-03 02:45:25.204345: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   function_optimizer: function_optimizer did nothing. time = 0.002ms.\r\n2020-01-03 02:45:25.204360: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   function_optimizer: function_optimizer did nothing. time = 0.001ms.\r\n2020-01-03 02:45:25.204376: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:815] Optimization results for grappler item: sequential_14_bidirectional_6_backward_lstm_56_while_body_3360\r\n2020-01-03 02:45:25.204391: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   function_optimizer: function_optimizer did nothing. time = 0.002ms.\r\n2020-01-03 02:45:25.204406: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   function_optimizer: function_optimizer did nothing. time = 0.001ms.\r\n2020-01-03 02:45:25.204422: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:815] Optimization results for grappler item: sequential_14_bidirectional_6_backward_lstm_56_while_cond_3359\r\n2020-01-03 02:45:25.204440: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   function_optimizer: function_optimizer did nothing. time = 0.002ms.\r\n2020-01-03 02:45:25.204460: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   function_optimizer: function_optimizer did nothing. time = 0ms.\r\n2020-01-03 02:45:25.373374: I tensorflow/core/grappler/devices.cc:55] Number of eligible GPUs (core count >= 8, compute capability >= 0.0): 0\r\n2020-01-03 02:45:25.373537: I tensorflow/core/grappler/clusters/single_machine.cc:356] Starting new session\r\n2020-01-03 02:45:25.447623: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:815] Optimization results for grappler item: graph_to_optimize\r\n2020-01-03 02:45:25.447671: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   constant_folding: Graph size after: 177 nodes (-78), 225 edges (-85), time = 50.718ms.\r\n2020-01-03 02:45:25.447678: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   constant_folding: Graph size after: 177 nodes (0), 225 edges (0), time = 3.89ms.\r\n2020-01-03 02:45:25.447702: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:815] Optimization results for grappler item: sequential_14_bidirectional_6_backward_lstm_56_while_body_3360_frozen\r\n2020-01-03 02:45:25.447707: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   constant_folding: Graph size after: 71 nodes (-1), 96 edges (0), time = 2.225ms.\r\n2020-01-03 02:45:25.447730: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   constant_folding: Graph size after: 71 nodes (0), 96 edges (0), time = 1.116ms.\r\n2020-01-03 02:45:25.447752: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:815] Optimization results for grappler item: sequential_14_bidirectional_6_forward_lstm_56_while_body_3164_frozen\r\n2020-01-03 02:45:25.447757: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   constant_folding: Graph size after: 71 nodes (-1), 96 edges (0), time = 2.118ms.\r\n2020-01-03 02:45:25.447761: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   constant_folding: Graph size after: 71 nodes (0), 96 edges (0), time = 1.179ms.\r\n2020-01-03 02:45:25.447766: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:815] Optimization results for grappler item: sequential_14_bidirectional_6_backward_lstm_56_while_cond_3359_frozen\r\n2020-01-03 02:45:25.447771: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   constant_folding: Graph size after: 17 nodes (0), 4 edges (0), time = 0.339ms.\r\n2020-01-03 02:45:25.447795: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   constant_folding: Graph size after: 17 nodes (0), 4 edges (0), time = 0.214ms.\r\n2020-01-03 02:45:25.447800: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:815] Optimization results for grappler item: sequential_14_bidirectional_6_forward_lstm_56_while_cond_3163_frozen\r\n2020-01-03 02:45:25.447817: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   constant_folding: Graph size after: 17 nodes (0), 4 edges (0), time = 0.311ms.\r\n2020-01-03 02:45:25.447822: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:817]   constant_folding: Graph size after: 17 nodes (0), 4 edges (0), time = 0.213ms.\r\nTraceback (most recent call last):\r\n  File \"convert.py\", line 15, in <module>\r\n    tflite_model = converter.convert()\r\n  File \"/home/amish/anaconda3/lib/python3.7/site-packages/tensorflow_core/lite/python/lite.py\", line 490, in convert\r\n    **converter_kwargs)\r\n  File \"/home/amish/anaconda3/lib/python3.7/site-packages/tensorflow_core/lite/python/convert.py\", line 476, in toco_convert_impl\r\n    enable_mlir_converter=enable_mlir_converter)\r\n  File \"/home/amish/anaconda3/lib/python3.7/site-packages/tensorflow_core/lite/python/convert.py\", line 215, in toco_convert_protos\r\n    raise ConverterError(\"See console for info.\\n%s\\n%s\\n\" % (stdout, stderr))\r\ntensorflow.lite.python.convert.ConverterError: See console for info.\r\nWARNING:tensorflow:Falling back to tensorflow client, its recommended to install the cloud tpu client directly with pip install cloud-tpu-client .\r\n2020-01-03 02:45:27.257206: W tensorflow/compiler/mlir/lite/python/graphdef_to_tfl_flatbuffer.cc:108] Ignored output_format.\r\n2020-01-03 02:45:27.257267: W tensorflow/compiler/mlir/lite/python/graphdef_to_tfl_flatbuffer.cc:114] Ignored drop_control_dependency.\r\n2020-01-03 02:45:27.478616: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2020-01-03 02:45:27.500564: I tensorflow/core/platform/profile_utils/cpu_utils.cc:101] CPU Frequency: 2496000000 Hz\r\n2020-01-03 02:45:27.500991: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x555ae8caec30 initialized for platform Host (this does not guarantee that XLA will be used). Devices:\r\n2020-01-03 02:45:27.501033: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\n2020-01-03 02:45:27.502780: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcuda.so.1\r\n2020-01-03 02:45:27.505700: E tensorflow/stream_executor/cuda/cuda_driver.cc:313] failed call to cuInit: CUDA_ERROR_NO_DEVICE: no CUDA-capable device is detected\r\n2020-01-03 02:45:27.505725: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:169] retrieving CUDA diagnostic information for host: enigma\r\n2020-01-03 02:45:27.505732: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:176] hostname: enigma\r\n2020-01-03 02:45:27.505775: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:200] libcuda reported version is: 430.50.0\r\n2020-01-03 02:45:27.505796: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:204] kernel reported version is: 430.50.0\r\n2020-01-03 02:45:27.505801: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:310] kernel version seems to match DSO: 430.50.0\r\nloc(callsite(\"sequential_14/bidirectional_6/backward_lstm_56/ReverseV2_1\"(\"/home/amish/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/eager/def_function.py\":853:0) at callsite(\"/home/amish/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/eager/def_function.py\":947:0 at callsite(\"/home/amish/anaconda3/lib/python3.7/site-packages/tensorflow_core/lite/python/lite.py\":409:0 at \"convert.py\":9:0)))): error: 'tfl.reverse_v2' op operand #0 must be tensor of 32-bit float or 16-bit integer or 32-bit integer or 64-bit integer values, but got 'tensor<50x1x1xi1>'\r\nTraceback (most recent call last):\r\n  File \"/home/amish/anaconda3/bin/toco_from_protos\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/amish/anaconda3/lib/python3.7/site-packages/tensorflow_core/lite/toco/python/toco_from_protos.py\", line 93, in main\r\n    app.run(main=execute, argv=[sys.argv[0]] + unparsed)\r\n  File \"/home/amish/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/platform/app.py\", line 40, in run\r\n    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)\r\n  File \"/home/amish/anaconda3/lib/python3.7/site-packages/absl/app.py\", line 299, in run\r\n    _run_main(main, args)\r\n  File \"/home/amish/anaconda3/lib/python3.7/site-packages/absl/app.py\", line 250, in _run_main\r\n    sys.exit(main(argv))\r\n  File \"/home/amish/anaconda3/lib/python3.7/site-packages/tensorflow_core/lite/toco/python/toco_from_protos.py\", line 56, in execute\r\n    enable_mlir_converter)\r\nException: /home/amish/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/eager/def_function.py:853:9: error: 'tfl.reverse_v2' op operand #0 must be tensor of 32-bit float or 16-bit integer or 32-bit integer or 64-bit integer values, but got 'tensor<50x1x1xi1>'\r\n        self._initialize(args, kwargs, add_initializers_to=initializers)\r\n        ^\r\n/home/amish/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/eager/def_function.py:947:5: note: called from\r\n    concrete = self._get_concrete_function_garbage_collected(*args, **kwargs)\r\n    ^\r\n/home/amish/anaconda3/lib/python3.7/site-packages/tensorflow_core/lite/python/lite.py:409:5: note: called from\r\n    concrete_func = func.get_concrete_function()\r\n    ^\r\nconvert.py:9:1: note: called from\r\nconverter = tf.lite.TFLiteConverter.from_keras_model(model)\r\n\r\n```\r\n\r\n**This issue caused due to Bidirectional Wrapper. Also same error occurs when ```go_backwards=True``` in the LSTM layer**.\r\n\r\nPlease tell a workaround(if any) for this so that I can temporarily fix this. ", "comments": ["@am15h Can you please share the model or the code to create that model. Thanks!", "@jvishnuvardhan The code to create model.\r\n```\r\nmodel = tf.keras.Sequential()\r\nmodel.add(layers.Bidirectional(layers.LSTM(128, return_sequences=True)))\r\n\r\n#model.add(layers.LSTM(128, return_sequences=True)) #Works fine without Birdirectional\r\nmodel.add(layers.Dense(20, activation='softmax'))\r\n\r\nmodel.compile(optimizer='adam', loss='mse', metrics=['accuracy'])\r\n\r\nmodel.summary()\r\n\r\nmodel.fit(x_train, y_train, batch_size=32, epochs=13, shuffle=True, validation_data=(x_test, y_test))\r\n```", "I couldn't reproduce your issue. I used the below code to build the model and convert:\r\n\r\nmodel = tf.keras.Sequential()\r\nmodel.add(tf.keras.layers.Bidirectional(tf.keras.layers.LSTM(128, return_sequences=True), input_shape=(128, 128)))\r\nmodel.add(tf.keras.layers.Bidirectional(tf.keras.layers.LSTM(128, return_sequences=True)))\r\nmodel.add(tf.keras.layers.Dense(20, activation='softmax'))\r\nmodel.compile(optimizer='adam', loss='mse', metrics=['accuracy'])\r\nconverter = tf.lite.TFLiteConverter.from_keras_model(model)\r\nconverter.experimental_new_converter = True\r\ntflite_model = converter.convert()\r\n\r\nThis could convert with no error reported. Could you confirm if this model is the same as yours? Also, is there a Masking layer as the first layer? And what's the input data type/shape?", "@haozha111 Yes there is a masking layer, I accidentally remove that line while sharing code, \r\n\r\n```\r\nmodel = tf.keras.Sequential()\r\nmodel.add(layers.Masking(input_shape=(50,36)))\r\nmodel.add(layers.Bidirectional(layers.LSTM(128, return_sequences=True)))\r\nmodel.add(layers.Dropout(0.2, noise_shape=None, seed=None))\r\nmodel.add(layers.Dense(20, activation='softmax'))\r\n\r\nmodel.compile(optimizer='adam', loss='mse', metrics=['accuracy'])\r\n\r\nmodel.summary()\r\n\r\nmodel.fit(x_train, y_train, batch_size=32, epochs=13, shuffle=True, validation_data=(x_test, y_test))\r\n\r\n```", "Thanks!\r\n\r\nI can reproduce the error now. The issue is that tflite's reverse op doesn't support bool type. So the conversion fails. I'm working on a fix for that.", "I've completed a fix for this issue and the code will be merged into tf-nightly soon. Please try again with the tf-nightly (tomorrow's version should contain the fix) and then try if your issue is resolved.\r\n\r\nCheers.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35551\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35551\">No</a>\n"]}, {"number": 35550, "title": "Deprecation Warnings just from trying to see packages in IPython", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): **No**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): **Linux Redhat 7.6**\r\n- TensorFlow installed from (source or binary): from `conda install keras`\r\n- TensorFlow version (use command below): `1.15.0` \r\n- Python version: `3.7.5`\r\n- Bazel version (if compiling from source): N/A\r\n- GCC/Compiler version (if compiling from source): N/A\r\n- CUDA/cuDNN version: N/A\r\n- GPU model and memory: Using CPU version, so N/A\r\n\r\n**Describe the current behavior**\r\nWhile I was in the IPython, I did a standard `import tensorflow.` and then pressed TAB, to see what packages were there. \r\n\r\nAfter a second I was given an immediate deluge of warning messages...before I even pressed ENTER or tried to import anything. After the crazy deluge I got prompted to press ENTER 7 times for something...after which it finally gave me my IPython line back and I was able to run away from whatever terrible thing I had just done.\r\n\r\nFunnily enough, if I'm in the same IPython session and try and do this again, I get no warnings, and I can browse package names like normal. If I restart the session I have to go through it all over again.\r\n\r\n**Describe the expected behavior**\r\nI expected none of that to happen. The only thing I expected to happen is a list to appear of top-level modules in `tensorflow`, like what happens for every other library. I hadn't even imported anything!\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n`import tensorflow.` and then press TAB in an IPython terminal.\r\n\r\n**Other info / logs**\r\nIf it helps, I'm using an Anaconda environment. I know this isn't the latest tensorflow, but I'm using the version that came with my Keras install. \r\n\r\nHere's the full dump it gave me. It's a doozy...\r\n```\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.AttrValue is deprecated. Please use tf.compat.v1.AttrValue instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.COMPILER_VERSION is deprecated. Please use tf.version.COMPILER_VERSION instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.CXX11_ABI_FLAG is deprecated. Please use tf.sysconfig.CXX11_ABI_FLAG instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.ConditionalAccumulator is deprecated. Please use tf.compat.v1.ConditionalAccumulator instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.ConditionalAccumulatorBase is deprecated. Please use tf.compat.v1.ConditionalAccumulatorBase instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.Dimension is deprecated. Please use tf.compat.v1.Dimension instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.Event is deprecated. Please use tf.compat.v1.Event instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.FIFOQueue is deprecated. Please use tf.queue.FIFOQueue instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.FixedLenSequenceFeature is deprecated. Please use tf.io.FixedLenSequenceFeature instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.GIT_VERSION is deprecated. Please use tf.version.GIT_VERSION instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.GPUOptions is deprecated. Please use tf.compat.v1.GPUOptions instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.GRAPH_DEF_VERSION is deprecated. Please use tf.version.GRAPH_DEF_VERSION instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.GRAPH_DEF_VERSION_MIN_CONSUMER is deprecated. Please use tf.version.GRAPH_DEF_VERSION_MIN_CONSUMER instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.GRAPH_DEF_VERSION_MIN_PRODUCER is deprecated. Please use tf.version.GRAPH_DEF_VERSION_MIN_PRODUCER instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.GraphDef is deprecated. Please use tf.compat.v1.GraphDef instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.GraphOptions is deprecated. Please use tf.compat.v1.GraphOptions instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.HistogramProto is deprecated. Please use tf.compat.v1.HistogramProto instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.InteractiveSession is deprecated. Please use tf.compat.v1.InteractiveSession instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.LogMessage is deprecated. Please use tf.compat.v1.LogMessage instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.MONOLITHIC_BUILD is deprecated. Please use tf.sysconfig.MONOLITHIC_BUILD instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.MetaGraphDef is deprecated. Please use tf.compat.v1.MetaGraphDef instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.NameAttrList is deprecated. Please use tf.compat.v1.NameAttrList instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.NoGradient is deprecated. Please use tf.no_gradient instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.NodeDef is deprecated. Please use tf.compat.v1.NodeDef instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.NotDifferentiable is deprecated. Please use tf.no_gradient instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.OpError is deprecated. Please use tf.errors.OpError instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.OptimizerOptions is deprecated. Please use tf.compat.v1.OptimizerOptions instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.PaddingFIFOQueue is deprecated. Please use tf.queue.PaddingFIFOQueue instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.PriorityQueue is deprecated. Please use tf.queue.PriorityQueue instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.QUANTIZED_DTYPES is deprecated. Please use tf.dtypes.QUANTIZED_DTYPES instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.QueueBase is deprecated. Please use tf.queue.QueueBase instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.RandomShuffleQueue is deprecated. Please use tf.queue.RandomShuffleQueue instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.ReaderBase is deprecated. Please use tf.compat.v1.ReaderBase instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.RunMetadata is deprecated. Please use tf.compat.v1.RunMetadata instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.RunOptions is deprecated. Please use tf.compat.v1.RunOptions instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.SessionLog is deprecated. Please use tf.compat.v1.SessionLog instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.SparseConditionalAccumulator is deprecated. Please use tf.compat.v1.SparseConditionalAccumulator instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.SparseFeature is deprecated. Please use tf.io.SparseFeature instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.SparseTensorValue is deprecated. Please use tf.compat.v1.SparseTensorValue instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.Summary is deprecated. Please use tf.compat.v1.Summary instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.SummaryMetadata is deprecated. Please use tf.compat.v1.SummaryMetadata instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.TensorInfo is deprecated. Please use tf.compat.v1.TensorInfo instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.VERSION is deprecated. Please use tf.version.VERSION instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.VariableScope is deprecated. Please use tf.compat.v1.VariableScope instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.accumulate_n is deprecated. Please use tf.math.accumulate_n instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.add_check_numerics_ops is deprecated. Please use tf.compat.v1.add_check_numerics_ops instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.add_to_collections is deprecated. Please use tf.compat.v1.add_to_collections instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.angle is deprecated. Please use tf.math.angle instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.arg_max is deprecated. Please use tf.argmax instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.arg_min is deprecated. Please use tf.argmin instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_greater is deprecated. Please use tf.compat.v1.assert_greater instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_greater_equal is deprecated. Please use tf.compat.v1.assert_greater_equal instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_integer is deprecated. Please use tf.compat.v1.assert_integer instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_less is deprecated. Please use tf.compat.v1.assert_less instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_less_equal is deprecated. Please use tf.compat.v1.assert_less_equal instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_near is deprecated. Please use tf.compat.v1.assert_near instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_negative is deprecated. Please use tf.compat.v1.assert_negative instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_non_negative is deprecated. Please use tf.compat.v1.assert_non_negative instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_non_positive is deprecated. Please use tf.compat.v1.assert_non_positive instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_none_equal is deprecated. Please use tf.compat.v1.assert_none_equal instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_positive is deprecated. Please use tf.compat.v1.assert_positive instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_proper_iterable is deprecated. Please use tf.debugging.assert_proper_iterable instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_rank is deprecated. Please use tf.compat.v1.assert_rank instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_rank_at_least is deprecated. Please use tf.compat.v1.assert_rank_at_least instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_rank_in is deprecated. Please use tf.compat.v1.assert_rank_in instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_same_float_dtype is deprecated. Please use tf.debugging.assert_same_float_dtype instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_scalar is deprecated. Please use tf.compat.v1.assert_scalar instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_type is deprecated. Please use tf.compat.v1.assert_type instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assert_variables_initialized is deprecated. Please use tf.compat.v1.assert_variables_initialized instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assign_add is deprecated. Please use tf.compat.v1.assign_add instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.assign_sub is deprecated. Please use tf.compat.v1.assign_sub instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.batch_to_space_nd is deprecated. Please use tf.batch_to_space instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.betainc is deprecated. Please use tf.math.betainc instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.bincount is deprecated. Please use tf.math.bincount instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.ceil is deprecated. Please use tf.math.ceil instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.check_numerics is deprecated. Please use tf.debugging.check_numerics instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.cholesky is deprecated. Please use tf.linalg.cholesky instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.cholesky_solve is deprecated. Please use tf.linalg.cholesky_solve instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.confusion_matrix is deprecated. Please use tf.math.confusion_matrix instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.conj is deprecated. Please use tf.math.conj instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.container is deprecated. Please use tf.compat.v1.container instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.control_flow_v2_enabled is deprecated. Please use tf.compat.v1.control_flow_v2_enabled instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.convert_to_tensor_or_indexed_slices is deprecated. Please use tf.compat.v1.convert_to_tensor_or_indexed_slices instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.convert_to_tensor_or_sparse_tensor is deprecated. Please use tf.compat.v1.convert_to_tensor_or_sparse_tensor instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.cross is deprecated. Please use tf.linalg.cross instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.cumprod is deprecated. Please use tf.math.cumprod instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.decode_base64 is deprecated. Please use tf.io.decode_base64 instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.decode_compressed is deprecated. Please use tf.io.decode_compressed instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.decode_csv is deprecated. Please use tf.io.decode_csv instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.decode_json_example is deprecated. Please use tf.io.decode_json_example instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.delete_session_tensor is deprecated. Please use tf.compat.v1.delete_session_tensor instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.depth_to_space is deprecated. Please use tf.compat.v1.depth_to_space instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.dequantize is deprecated. Please use tf.quantization.dequantize instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.deserialize_many_sparse is deprecated. Please use tf.io.deserialize_many_sparse instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.diag is deprecated. Please use tf.linalg.tensor_diag instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.diag_part is deprecated. Please use tf.linalg.tensor_diag_part instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.digamma is deprecated. Please use tf.math.digamma instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.dimension_at_index is deprecated. Please use tf.compat.dimension_at_index instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.dimension_value is deprecated. Please use tf.compat.dimension_value instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.disable_control_flow_v2 is deprecated. Please use tf.compat.v1.disable_control_flow_v2 instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.disable_eager_execution is deprecated. Please use tf.compat.v1.disable_eager_execution instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.disable_tensor_equality is deprecated. Please use tf.compat.v1.disable_tensor_equality instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.disable_v2_behavior is deprecated. Please use tf.compat.v1.disable_v2_behavior instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.disable_v2_tensorshape is deprecated. Please use tf.compat.v1.disable_v2_tensorshape instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.div_no_nan is deprecated. Please use tf.math.divide_no_nan instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.enable_control_flow_v2 is deprecated. Please use tf.compat.v1.enable_control_flow_v2 instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.enable_eager_execution is deprecated. Please use tf.compat.v1.enable_eager_execution instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.enable_resource_variables is deprecated. Please use tf.compat.v1.enable_resource_variables instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.enable_tensor_equality is deprecated. Please use tf.compat.v1.enable_tensor_equality instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.enable_v2_behavior is deprecated. Please use tf.compat.v1.enable_v2_behavior instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.enable_v2_tensorshape is deprecated. Please use tf.compat.v1.enable_v2_tensorshape instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.encode_base64 is deprecated. Please use tf.io.encode_base64 instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.erf is deprecated. Please use tf.math.erf instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.erfc is deprecated. Please use tf.math.erfc instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.expm1 is deprecated. Please use tf.math.expm1 instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.fake_quant_with_min_max_args is deprecated. Please use tf.quantization.fake_quant_with_min_max_args instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.fake_quant_with_min_max_args_gradient is deprecated. Please use tf.quantization.fake_quant_with_min_max_args_gradient instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.fake_quant_with_min_max_vars is deprecated. Please use tf.quantization.fake_quant_with_min_max_vars instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.fake_quant_with_min_max_vars_gradient is deprecated. Please use tf.quantization.fake_quant_with_min_max_vars_gradient instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.fake_quant_with_min_max_vars_per_channel is deprecated. Please use tf.quantization.fake_quant_with_min_max_vars_per_channel instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.fake_quant_with_min_max_vars_per_channel_gradient is deprecated. Please use tf.quantization.fake_quant_with_min_max_vars_per_channel_gradient instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.fft is deprecated. Please use tf.signal.fft instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.fft2d is deprecated. Please use tf.signal.fft2d instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.fft3d is deprecated. Please use tf.signal.fft3d instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.fixed_size_partitioner is deprecated. Please use tf.compat.v1.fixed_size_partitioner instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.floor_div is deprecated. Please use tf.math.floordiv instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.floordiv is deprecated. Please use tf.math.floordiv instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.floormod is deprecated. Please use tf.math.floormod instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.get_collection_ref is deprecated. Please use tf.compat.v1.get_collection_ref instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.get_default_graph is deprecated. Please use tf.compat.v1.get_default_graph instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.get_default_session is deprecated. Please use tf.compat.v1.get_default_session instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.get_local_variable is deprecated. Please use tf.compat.v1.get_local_variable instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.get_seed is deprecated. Please use tf.compat.v1.get_seed instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.get_session_handle is deprecated. Please use tf.compat.v1.get_session_handle instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.get_session_tensor is deprecated. Please use tf.compat.v1.get_session_tensor instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.get_variable_scope is deprecated. Please use tf.compat.v1.get_variable_scope instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.global_norm is deprecated. Please use tf.linalg.global_norm instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.global_variables is deprecated. Please use tf.compat.v1.global_variables instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.global_variables_initializer is deprecated. Please use tf.compat.v1.global_variables_initializer instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.ifft is deprecated. Please use tf.signal.ifft instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.ifft2d is deprecated. Please use tf.signal.ifft2d instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.ifft3d is deprecated. Please use tf.signal.ifft3d instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.igamma is deprecated. Please use tf.math.igamma instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.igammac is deprecated. Please use tf.math.igammac instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.imag is deprecated. Please use tf.math.imag instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.invert_permutation is deprecated. Please use tf.math.invert_permutation instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.is_finite is deprecated. Please use tf.math.is_finite instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.is_inf is deprecated. Please use tf.math.is_inf instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.is_non_decreasing is deprecated. Please use tf.math.is_non_decreasing instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.is_numeric_tensor is deprecated. Please use tf.debugging.is_numeric_tensor instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.is_strictly_increasing is deprecated. Please use tf.math.is_strictly_increasing instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.is_variable_initialized is deprecated. Please use tf.compat.v1.is_variable_initialized instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.lbeta is deprecated. Please use tf.math.lbeta instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.lgamma is deprecated. Please use tf.math.lgamma instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.lin_space is deprecated. Please use tf.linspace instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.local_variables is deprecated. Please use tf.compat.v1.local_variables instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.local_variables_initializer is deprecated. Please use tf.compat.v1.local_variables_initializer instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.log is deprecated. Please use tf.math.log instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.log1p is deprecated. Please use tf.math.log1p instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.log_sigmoid is deprecated. Please use tf.math.log_sigmoid instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.logical_xor is deprecated. Please use tf.math.logical_xor instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.make_template is deprecated. Please use tf.compat.v1.make_template instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.make_tensor_proto is deprecated. Please use tf.compat.v1.make_tensor_proto instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.matching_files is deprecated. Please use tf.io.matching_files instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.matrix_band_part is deprecated. Please use tf.linalg.band_part instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.matrix_determinant is deprecated. Please use tf.linalg.det instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.matrix_diag is deprecated. Please use tf.linalg.diag instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.matrix_diag_part is deprecated. Please use tf.linalg.diag_part instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.matrix_inverse is deprecated. Please use tf.linalg.inv instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.matrix_set_diag is deprecated. Please use tf.linalg.set_diag instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.matrix_solve is deprecated. Please use tf.linalg.solve instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.matrix_solve_ls is deprecated. Please use tf.linalg.lstsq instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.matrix_triangular_solve is deprecated. Please use tf.linalg.triangular_solve instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.min_max_variable_partitioner is deprecated. Please use tf.compat.v1.min_max_variable_partitioner instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.mod is deprecated. Please use tf.math.mod instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.model_variables is deprecated. Please use tf.compat.v1.model_variables instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.moving_average_variables is deprecated. Please use tf.compat.v1.moving_average_variables instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.no_regularizer is deprecated. Please use tf.compat.v1.no_regularizer instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.op_scope is deprecated. Please use tf.compat.v1.op_scope instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.parse_example is deprecated. Please use tf.io.parse_example instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.parse_single_example is deprecated. Please use tf.io.parse_single_example instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.parse_single_sequence_example is deprecated. Please use tf.io.parse_single_sequence_example instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.parse_tensor is deprecated. Please use tf.io.parse_tensor instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.placeholder_with_default is deprecated. Please use tf.compat.v1.placeholder_with_default instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.polygamma is deprecated. Please use tf.math.polygamma instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.qr is deprecated. Please use tf.linalg.qr instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.quantize is deprecated. Please use tf.quantization.quantize instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.quantized_concat is deprecated. Please use tf.quantization.quantized_concat instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.random_crop is deprecated. Please use tf.image.random_crop instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.random_gamma is deprecated. Please use tf.random.gamma instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.random_normal is deprecated. Please use tf.random.normal instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.random_poisson is deprecated. Please use tf.random.poisson instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.random_shuffle is deprecated. Please use tf.random.shuffle instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.read_file is deprecated. Please use tf.io.read_file instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.real is deprecated. Please use tf.math.real instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.reciprocal is deprecated. Please use tf.math.reciprocal instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.regex_replace is deprecated. Please use tf.strings.regex_replace instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.report_uninitialized_variables is deprecated. Please use tf.compat.v1.report_uninitialized_variables instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.reset_default_graph is deprecated. Please use tf.compat.v1.reset_default_graph instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.resource_variables_enabled is deprecated. Please use tf.compat.v1.resource_variables_enabled instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.reverse_v2 is deprecated. Please use tf.reverse instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.rint is deprecated. Please use tf.math.rint instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.rsqrt is deprecated. Please use tf.math.rsqrt instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.scatter_add is deprecated. Please use tf.compat.v1.scatter_add instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.scatter_div is deprecated. Please use tf.compat.v1.scatter_div instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.scatter_max is deprecated. Please use tf.compat.v1.scatter_max instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.scatter_min is deprecated. Please use tf.compat.v1.scatter_min instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.scatter_mul is deprecated. Please use tf.compat.v1.scatter_mul instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.scatter_nd_add is deprecated. Please use tf.compat.v1.scatter_nd_add instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.scatter_nd_sub is deprecated. Please use tf.compat.v1.scatter_nd_sub instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.scatter_nd_update is deprecated. Please use tf.compat.v1.scatter_nd_update instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.scatter_sub is deprecated. Please use tf.compat.v1.scatter_sub instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.scatter_update is deprecated. Please use tf.compat.v1.scatter_update instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.segment_max is deprecated. Please use tf.math.segment_max instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.segment_mean is deprecated. Please use tf.math.segment_mean instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.segment_min is deprecated. Please use tf.math.segment_min instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.segment_prod is deprecated. Please use tf.math.segment_prod instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.segment_sum is deprecated. Please use tf.math.segment_sum instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.self_adjoint_eig is deprecated. Please use tf.linalg.eigh instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.self_adjoint_eigvals is deprecated. Please use tf.linalg.eigvalsh instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.serialize_many_sparse is deprecated. Please use tf.compat.v1.serialize_many_sparse instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.serialize_sparse is deprecated. Please use tf.compat.v1.serialize_sparse instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.serialize_tensor is deprecated. Please use tf.io.serialize_tensor instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.set_random_seed is deprecated. Please use tf.compat.v1.set_random_seed instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.space_to_batch_nd is deprecated. Please use tf.space_to_batch instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.space_to_depth is deprecated. Please use tf.compat.v1.space_to_depth instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_fill_empty_rows is deprecated. Please use tf.sparse.fill_empty_rows instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_mask is deprecated. Please use tf.sparse.mask instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_matmul is deprecated. Please use tf.linalg.matmul instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_maximum is deprecated. Please use tf.sparse.maximum instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_minimum is deprecated. Please use tf.sparse.minimum instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_placeholder is deprecated. Please use tf.compat.v1.sparse_placeholder instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_reorder is deprecated. Please use tf.sparse.reorder instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_reset_shape is deprecated. Please use tf.sparse.reset_shape instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_reshape is deprecated. Please use tf.sparse.reshape instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_retain is deprecated. Please use tf.sparse.retain instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_segment_mean is deprecated. Please use tf.compat.v1.sparse_segment_mean instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_segment_sqrt_n is deprecated. Please use tf.compat.v1.sparse_segment_sqrt_n instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_segment_sum is deprecated. Please use tf.compat.v1.sparse_segment_sum instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_slice is deprecated. Please use tf.sparse.slice instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_softmax is deprecated. Please use tf.sparse.softmax instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_tensor_dense_matmul is deprecated. Please use tf.sparse.sparse_dense_matmul instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_tensor_to_dense is deprecated. Please use tf.sparse.to_dense instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_to_indicator is deprecated. Please use tf.sparse.to_indicator instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.sparse_transpose is deprecated. Please use tf.sparse.transpose instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.squared_difference is deprecated. Please use tf.math.squared_difference instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.string_join is deprecated. Please use tf.strings.join instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.string_strip is deprecated. Please use tf.strings.strip instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.string_to_hash_bucket is deprecated. Please use tf.strings.to_hash_bucket instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.string_to_hash_bucket_strong is deprecated. Please use tf.strings.to_hash_bucket_strong instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.string_to_number is deprecated. Please use tf.strings.to_number instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.svd is deprecated. Please use tf.linalg.svd instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.tables_initializer is deprecated. Please use tf.compat.v1.tables_initializer instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.tensor_scatter_add is deprecated. Please use tf.tensor_scatter_nd_add instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.tensor_scatter_sub is deprecated. Please use tf.tensor_scatter_nd_sub instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.tensor_scatter_update is deprecated. Please use tf.tensor_scatter_nd_update instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.trace is deprecated. Please use tf.linalg.trace instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.trainable_variables is deprecated. Please use tf.compat.v1.trainable_variables instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.truncated_normal is deprecated. Please use tf.random.truncated_normal instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.unsorted_segment_max is deprecated. Please use tf.math.unsorted_segment_max instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.unsorted_segment_mean is deprecated. Please use tf.math.unsorted_segment_mean instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.unsorted_segment_min is deprecated. Please use tf.math.unsorted_segment_min instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.unsorted_segment_prod is deprecated. Please use tf.math.unsorted_segment_prod instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.unsorted_segment_sqrt_n is deprecated. Please use tf.math.unsorted_segment_sqrt_n instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.unsorted_segment_sum is deprecated. Please use tf.math.unsorted_segment_sum instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.variable_axis_size_partitioner is deprecated. Please use tf.compat.v1.variable_axis_size_partitioner instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.variable_op_scope is deprecated. Please use tf.compat.v1.variable_op_scope instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.variables_initializer is deprecated. Please use tf.compat.v1.variables_initializer instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.verify_tensor_all_finite is deprecated. Please use tf.compat.v1.verify_tensor_all_finite instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.where_v2 is deprecated. Please use tf.compat.v2.where instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.wrap_function is deprecated. Please use tf.compat.v1.wrap_function instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.write_file is deprecated. Please use tf.io.write_file instead.\r\n\r\nWARNING:tensorflow:From [/path/to/]anaconda3/envs/thermo/lib/python3.7/site-packages/IPython/core/completerlib.py:153: The name tf.zeta is deprecated. Please use tf.math.zeta instead.\r\n\r\nPress ENTER to continue...                                                                               \r\nPress ENTER to continue...                                                                               \r\nPress ENTER to continue...                                                                               \r\nPress ENTER to continue...                                                                               \r\nPress ENTER to continue...                                                                               \r\nPress ENTER to continue...                                                                               \r\nPress ENTER to continue...                                                                               \r\nPress ENTER to continue... \r\n```\r\n", "comments": ["Similar issue [#33437](https://github.com/tensorflow/tensorflow/issues/33437)", "We are tracking this issue on another thread. Meanwhile as a workaround you may try,\r\n```python\r\nfrom tensorflow.python.util import deprecation\r\ndeprecation._PRINT_DEPRECATION_WARNINGS = False\r\n```\r\nto suppress deprecation messages. Thanks!", "Let's follow it in #33437. Closing this as a duplicate", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35550\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/35550\">No</a>\n"]}, {"number": 35549, "title": "Added code examples to tf.keras.backend.gather", "body": "added code examples to tf.keras.backend.gather", "comments": ["\nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed (or fixed any issues), please reply here with `@googlebot I signed it!` and we'll verify it.\n\n----\n\n#### What to do if you already signed the CLA\n\n##### Individual signers\n\n*   It's possible we don't have your GitHub username or you're using a different email address on your commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n\n##### Corporate signers\n\n*   Your company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to [go/cla#troubleshoot](http://go/cla#troubleshoot) ([Public version](https://opensource.google/docs/cla/#troubleshoot)).\n*   The email used to register you as an authorized contributor must be the email used for the Git commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n*   The email used to register you as an authorized contributor must also be [attached to your GitHub account](https://github.com/settings/emails).\n\t\t\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F35549) for more info**.\n\n<!-- need_sender_cla -->", "@googlebot I signed it!", "CLAs look good, thanks!\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F35549) for more info**.\n\n<!-- ok -->"]}, {"number": 35548, "title": "r2.1 cherry-pick request: windows build support", "body": "This cherry-picks a few changes that have been committed to master to enable building on Windows.  This has been tested against VS2019 (16.4).  Without this set of patches, the build fails if you build with Visual Studio's compiler due to the use of designated initializers, template specialization errors and lastly the missing math functions.", "comments": ["Let's wait for CI and if everything is green we can attempt merging."]}]