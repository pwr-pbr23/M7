[{"number": 37621, "title": "conv2d calculation results are inconsistent with pytorch", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): \r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): \r\n- TensorFlow installed from (source or\r\nbinary): - TensorFlow version (use command below): \r\n- Python version: 3.6.5\r\n- CUDA/cuDNN version: - GPU model and memory:10.1\r\n\r\n**Describe the current behavior**\r\nFor some specific data, the calculation results of tensorflow and pytorch are inconsistent\r\n**Describe the expected behavior**\r\nThe calculation results of tensorflow and pytorch are consistent or the difference is small\r\n**Standalone code to reproduce the issue** \r\n\r\n        if target_interface == 'conv1':\r\n            weights_torch = torch.from_numpy(np.full((11, 11, 3, 1), 1, np.float64).transpose((3, 2, 0, 1)))\r\n            output_pytorch_cpu = torch.from_numpy(\r\n                F.conv2d(torch.from_numpy(input_pytorch.numpy().transpose((0, 3, 1, 2))), weights_torch, padding=0,\r\n                         stride=4).numpy().transpose((0, 2, 3, 1)))\r\n**Other info / logs** \r\ntensorflow_output:\r\n31.42857361,31.4285183,31.42857361\r\n69.24489594,69.24489594,59.3673439\r\n100.89792633,100.89792633,100.89792633\r\n133.26530457,133.26530457,133.26530457\r\n60.22449875,60.22449875,60.22449875\r\n187.46939087,187.46939087,187.46939087\r\n205.918396,205.918396,205.918396\r\n96.42860413,96.42860413,96.42860413\r\n61.42854309,61.42854309,61.42854309\r\n148.89811707,148.89811707,148.89811707\r\n96.28572083,96.28572083,96.28572083\r\n83.02045441,83.02045441,83.02045441\r\n87.89794922,87.89794922,87.89794922\r\n135.12240601,135.12240601,135.12240601\r\n\r\n\r\npytorch_output\r\n31.428574,31.428518,31.428574\r\n59.367344,69.244896,69.244896\r\n100.89793,100.89793,100.89793\r\n133.2653,133.2653,133.2653\r\n60.2245,60.2245,60.2245\r\n187.46939,187.46939,187.46939\r\n205.9184,205.9184,205.9184\r\n96.428604,96.428604,96.428604\r\n61.428543,61.428543,61.428543\r\n148.89812,148.89812,148.89812\r\n96.28572,96.28572,96.28572\r\n83.020454,83.020454,83.020454\r\n87.89795,87.89795,87.89795\r\n135.1224,135.1224,135.1224\r\n\r\n", "comments": ["@lvjunsetup \r\ncould you please share the tensorflow version on which the issue was faced for us to replicate this on our local.", "Hi @lvjunsetup . Could you please share relevant tensorflow code to reproduce the issue.\r\nThanks.", "@lvjunsetup\r\nplease update on the above comment", "> @lvjunsetup\r\n> could you please share the tensorflow version on which the issue was faced for us to replicate this on our local.\r\n\r\nSorry to reply to you so late. The version of tensorflow is 1.90. The error operators are conv2d () and avg_pooling (). Thank you.", "> Hi @lvjunsetup . Could you please share relevant tensorflow code to reproduce the issue.\r\n> Thanks.\r\n\r\nThis error is a fact, and it can be reproduced by using a large number of random tensors as input to conv2d () or avg_pooling (). Thank you.", "@lvjunsetup\r\n could you please provide with simple stand standalone indented code with all dependencies for us to replicate the issue in our local, this would help us resolve the issue faster", "@lvjunsetup\r\ncould you please update as per above comment", "Automatically closing due to lack of recent activity. Please update the issue when new information becomes available, and we will reopen the issue. Thanks!\r\n", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37621\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37621\">No</a>\n"]}, {"number": 37620, "title": "ModelCheckpoint does not save the model when `_is_graph_network` is False", "body": "**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): **Yes**\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): `tensorflow/tensorflow:2.1.0-gpu-py3`\r\n\r\n**Describe the current behavior**\r\nWhen using tf.keras.callbacks.ModelCheckpoint it implies that when save_weights_only is False it will save the model using model.save, however it does not.\r\nDue to the code in set_model that checks `model._is_graph_network` save_weights_only becomes True for my usecase.\r\nhttps://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/keras/callbacks.py#L920-L923\r\n\r\n**Describe the expected behavior**\r\nWhen `save_weights_only=False` the network should be saved using `model.save` instead of `model.save_weights`.\r\nIt is not clear to me what the `_is_graph_network` variable is influenced by and how one would make it True. At the very least this is a documentation issue where the documentation implies that settings `save_weights_only` will save the model using `model.save` when this is not true.\r\n\r\nAdditionally, if I run `model.save` outside of the callback it succeeds, therefore there is no reason why the callback should not be able to do the same.", "comments": ["@TrentHouliston \r\n\r\nRequest you to help us with colab link or simple standalone code to reproduce the issue in our environment.It helps us in localizing the issue faster. Thanks!", "@TrentHouliston \r\n\r\nAny update on this issue please. Thanks!", "Hi @ravikyram, Sorry the covid19 has slowed me down a bit. I'll try to provide a mwe today or tomorrow.", "Hi @ravikyram \r\nHere is a mwe that is close to my current usage that shows the issue.\r\nI have two \"identical\" setups one with a sequential model and one with a custom one.\r\nWhen the checkpoint is run in the custom one, instead of saving the model (despite the `save_weights_only=False`) it saves weights only. Which is very misleading and also incorrect behaviour.\r\nWhen I save the model manually it works fine.\r\n\r\nThe sequential model works as expected.\r\n\r\n```python\r\n#!/usr/bin/env python3\r\n\r\nimport tensorflow as tf\r\nimport numpy as np\r\n\r\n\r\nclass TestModel(tf.keras.Model):\r\n    def __init__(self, n_layers, **kwargs):\r\n        super(TestModel, self).__init__(**kwargs)\r\n\r\n        self.n_layers = n_layers\r\n        self.map = {}\r\n        for i in range(self.n_layers):\r\n            self.map[str(i)] = tf.keras.layers.Dense(units=1)\r\n\r\n    def call(self, X, training=False):\r\n\r\n        for i in range(self.n_layers):\r\n            X = self.map[str(i)](X)\r\n\r\n        return X\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    n_layers = 5\r\n\r\n    # Custom model\r\n    custom = TestModel(n_layers)\r\n    custom.compile(optimizer=\"adam\", loss=\"mse\")\r\n    custom.fit(\r\n        x=np.ones((10000), np.float32),\r\n        y=np.ones((10000), np.float32),\r\n        epochs=10,\r\n        callbacks=[\r\n            tf.keras.callbacks.ModelCheckpoint(\r\n                filepath=\"output/custom/callback/model{epoch}\", save_weights_only=False,\r\n            )\r\n        ],\r\n    )\r\n    custom.save(\"output/custom/manual/model\")\r\n\r\n    # Sequential model\r\n    sequential = tf.keras.Sequential([tf.keras.layers.Dense(units=1) for i in range(n_layers)])\r\n    sequential.compile(optimizer=\"adam\", loss=\"mse\")\r\n    sequential.fit(\r\n        x=np.ones((10000), np.float32),\r\n        y=np.ones((10000), np.float32),\r\n        epochs=10,\r\n        callbacks=[\r\n            tf.keras.callbacks.ModelCheckpoint(\r\n                filepath=\"output/sequential/callback/model{epoch}\",\r\n                save_weights_only=False,\r\n            )\r\n        ],\r\n    )\r\n    sequential.save(\"output/sequential/manual/model\")\r\n```\r\n", "I have tried on colab with TF version 2.1.0, 2.2.0-rc3 and was able to reproduce the issue.Please, find the gist [here](https://colab.sandbox.google.com/gist/ravikyram/ae978fd07b63367d1af63d53a4a5a03a/untitled779.ipynb). Thanks!", "Any updates on this issue?", "While we wait for a fix for this issue, here is a workaround posted by @marwan116 in a #42741:\r\n\r\n> my current workaround is to implement my own ModelCheckpoint - that overrides set_model ...\r\n> ```\r\n> class CustomCheckpoint(tf.keras.callbacks.ModelCheckpoint):\r\n>     def set_model(self, model):\r\n>         self.model = model\r\n> ```", "@geetachavan1 As we are on RC1 I don't it could be still in https://github.com/orgs/tensorflow/projects/11", "Do you think that we could add a postponed (or some other naming) column?", "@TrentHouliston Looks like this was resolved. I checked with `tf-nightly`. Please check the [gist here](https://colab.research.google.com/gist/jvishnuvardhan/66c2b11e00b205a421fd49057cdd447d/untitled991.ipynb).\r\n\r\nPlease verify once and close the issue if this was resolved for you. Thanks!", "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you.\n", "Closing this issue as this was resolved in recent `tf-nightly`. Please feel free to reopen if the issue persists again. Thanks!", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37620\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37620\">No</a>\n"]}, {"number": 37619, "title": "Index dataset", "body": "**Major changes:**\r\n- Elastic input pipeline based on indexed version of tensorflow Dataset API.\r\n\r\n**Tests for the changes:**\r\n```sh\r\n$ cd tensorflow/test\r\n$ CUDA_VISIBLE_DEVICES= pytest -q indexed_dataset_test.py\r\n```", "comments": ["\nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed (or fixed any issues), please reply here with `@googlebot I signed it!` and we'll verify it.\n\n----\n\n#### What to do if you already signed the CLA\n\n##### Individual signers\n\n*   It's possible we don't have your GitHub username or you're using a different email address on your commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n\n##### Corporate signers\n\n*   Your company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to [go/cla#troubleshoot](http://go/cla#troubleshoot) ([Public version](https://opensource.google/docs/cla/#troubleshoot)).\n*   The email used to register you as an authorized contributor must be the email used for the Git commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n*   The email used to register you as an authorized contributor must also be [attached to your GitHub account](https://github.com/settings/emails).\n\t\t\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F37619) for more info**.\n\n<!-- need_sender_cla -->"]}, {"number": 37618, "title": "num_replicas_in_sync not equel to my gpus.", "body": "strategy = tf.distribute.MirroredStrategy()\r\nprint('Number of devices: {}'.format(strategy.num_replicas_in_sync))\r\n\r\ni have 4x2080Ti\r\nbut when i run this code, i got :\r\nNumber of devices: 1\r\n\r\nand training a model have warning:\r\nWARNING:tensorflow:There are non-GPU devices in `tf.distribute.Strategy`, not using nccl allreduce.\r\n\r\nand no gpu in used\r\n\r\ntensorflow 2.1.0\r\nkeras 2.3.1", "comments": ["@jkkj1630,\r\nIn order to expedite the trouble-shooting process, could you please provide the complete code to reproduce the issue reported here. Thanks!", "I am having the same issue. Using a Gcloud compute instance. The complete code to reproduce the issue is below. I have 4 x T4 GPUs on the machine.\r\n\r\nimport tensorflow as tf\r\nstrategy = tf.distribute.MirroredStrategy()\r\n\r\nresults in the following message\r\nWARNING:tensorflow:There are non-GPU devices in `tf.distribute.Strategy`, not using nccl allreduce.\r\nINFO:tensorflow:Using MirroredStrategy with devices ('/job:localhost/replica:0/task:0/device:CPU:0',)", "> @jkkj1630,\r\n> In order to expedite the trouble-shooting process, could you please provide the complete code to reproduce the issue reported here. Thanks!\r\n\r\nAny updates regarding the reproducible code?\r\n\r\n@mrh335,\r\nCould you please submit a new issue using [this](https://github.com/tensorflow/tensorflow/issues/new/choose) link so that we can track it there.\r\n\r\n Thanks!", "Automatically closing due to lack of recent activity. Please update the issue when new information becomes available, and we will reopen the issue. Thanks!"]}, {"number": 37617, "title": "No documentation on how to convert Session.run calls to tf.function calls", "body": "## URL(s) with the issue:\r\n\r\n* https://www.tensorflow.org/guide/migrate#1_replace_v1sessionrun_calls\r\n\r\n## Description of issue (what needs changing):\r\n\r\nThere is no information provided to the end-user on how to convert simple `Session.run` calls into `tf.function` calls for TensorFlow 2. For people who are only interested in running saved models and not building their own architectures, the lack of information makes it difficult to fully migrate away from TensorFlow 1.x.\r\n\r\n### Clear description\r\n\r\nIf I am doing a SavedModel-based system with TensorFlow 1.x (I was provided the model, I did not make the model), there should be a direct explanation of how to convert `Session.run` calls into more modern `tf.function` calls. Here is an example of the code I'm trying to convert to TensorFlow 2, but I can't complete the conversion because of a lack of documentation for this use case:\r\n\r\n```python\r\nwith tf.Session(graph=tf.Graph()) as sess:\r\n    tf.saved_model.loader.load(sess, [\"serve\"], path_to_model)\r\n    cap = cv2.VideoCapture(camera_id)\r\n    ret, frame = cap.read()\r\n    ret, encoded = cv2.imencode(\".jpg\", frame)\r\n    inferred = sess.run([\"detection_scores:0\", \"detection_boxes:0\"], feed_dict={\r\n        \"encoded_image_string_tensor:0\": [encoded.tobytes(),]\r\n    })\r\n```\r\n\r\nEssentially, I'm looking for a piece of documentation with code equivalency for these sort of examples.\r\n\r\n### Correct links\r\n\r\n***Not applicable***\r\n\r\n### Parameters defined\r\n\r\n***Not applicable***\r\n\r\n### Returns defined\r\n\r\n***Not applicable***\r\n\r\n### Raises listed and defined\r\n\r\n***Not applicable***\r\n\r\n### Usage example\r\n\r\n***Not applicable***\r\n\r\n### Request visuals, if applicable\r\n\r\n***Not applicable***\r\n\r\n### Submit a pull request?\r\n\r\nI can't submit a pull request because of the lack of documentation on the issue at hand. I could, however, submit a pull request to resolve the problem once I know how to resolve the problem.\r\n", "comments": ["Closing this issue as the examples were updated in https://github.com/tensorflow/docs/commit/705f63013e7f26ba6052e90ea3836153a47406c6 "]}, {"number": 37616, "title": "Added several 'see also' references in Python API documentation", "body": "In relation to issue #36786 and PR #37121 I have added some additional 'see also' references between functions in the Python API docs. \r\n\r\nThese references make it easier for newcomers to learn about existing alternatives to functions that might better fit their use case and also reminds intermediate users about different options. This style of referencing is similar to what is seen in PyTorch and Arduino documentation. Any feedback is welcome. \r\n\r\nFor your convenience, these are roughly the functions which I have referred to each other \r\n\r\n- `tf.slice` and `tf.strided_slice`\r\n- `tf.rank` and `tf.shape`\r\n- `tf.scan` and `tf.map_fn`\r\n- `tf.unqiue` and `tf.unique_with_counts`\r\n- `tf.fill`, `tf.ones`, `tf.zeros`, `tf.eye`, `tf.one_hot` \r\n\r\nFor the last group, I left out certain references if they seemed unnecessary (e.g. `tf.one_hot` and `tf.zeros`).\r\n\r\n", "comments": ["\nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed (or fixed any issues), please reply here with `@googlebot I signed it!` and we'll verify it.\n\n----\n\n#### What to do if you already signed the CLA\n\n##### Individual signers\n\n*   It's possible we don't have your GitHub username or you're using a different email address on your commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n\n##### Corporate signers\n\n*   Your company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to [go/cla#troubleshoot](http://go/cla#troubleshoot) ([Public version](https://opensource.google/docs/cla/#troubleshoot)).\n*   The email used to register you as an authorized contributor must be the email used for the Git commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n*   The email used to register you as an authorized contributor must also be [attached to your GitHub account](https://github.com/settings/emails).\n\t\t\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F37616) for more info**.\n\n<!-- need_sender_cla -->", "@googlebot I signed it!", "CLAs look good, thanks!\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F37616) for more info**.\n\n<!-- ok -->", "I see that the **import/copybara** check has failed. I couldn't find any information regarding this check, could @alextp  or someone please explain what this means and how I can fix it? Thanks in advance.", "@gbaned can you see the status of this test? I can't click the link..", "> @gbaned can you see the status of this test? I can't click the link..\r\n\r\n@alextp Yes. I can see the status of this test now. Thank you. "]}, {"number": 37614, "title": "Bazel build tensorflow1.15.2 error", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): ubuntu1~18.04.1\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: 1.15.2\r\n- Python version: 3.6.8\r\n- Bazel version (if compiling from source): 0.24.1 \r\n- GCC/Compiler version (if compiling from source): gcc (Ubuntu 7.4.0-1ubuntu1~18.04.1) 7.4.0\r\n- CUDA/cuDNN version: cuda10.0\r\n\r\n### Tensorflow build by bazel:\r\n> bazel  build  //tensorflow/tools/pip_package:build_pip_package\r\n\r\n**Describe the problem**\r\n```\r\nINFO: Options provided by the client:\r\n  Inherited 'common' options: --isatty=1 --terminal_columns=109\r\nINFO: Reading rc options for 'build' from /data1/home/other/ttensorflow/previos/ttensorflow/.bazelrc:\r\n  'build' options: --apple_platform_type=macos --define framework_shared_object=true --define open_source_build=true --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone -c opt --announce_rc --define=grpc_no_ares=true --define=PREFIX=/usr --define=LIBDIR=$(PREFIX)/lib --define=INCLUDEDIR=$(PREFIX)/include --copt=-w --config=v1\r\nINFO: Reading rc options for 'build' from /data1/home/other/ttensorflow/previos/ttensorflow/.tf_configure.bazelrc:\r\n  'build' options: --action_env PYTHON_BIN_PATH=/usr/local/bin/python --action_env PYTHON_LIB_PATH=/usr/local/lib/python3.6/dist-packages --python_path=/usr/local/bin/python --config=xla --action_env TF_CONFIGURE_IOS=0\r\nINFO: Found applicable config definition build:v1 in file /data1/home/other/ttensorflow/previos/ttensorflow/.bazelrc: --define=tf_api_version=1 --action_env=TF2_BEHAVIOR=0\r\nINFO: Found applicable config definition build:xla in file /data1/home/other/ttensorflow/previos/ttensorflow/.bazelrc: --action_env=TF_ENABLE_XLA=1 --define=with_xla_support=true\r\nINFO: Found applicable config definition build:xla in file /data1/home/other/ttensorflow/previos/ttensorflow/.tf_configure.bazelrc: --define with_xla_support=true\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/__init__.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:__init__.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/densenet.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:densenet.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/imagenet_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:imagenet_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/inception_resnet_v2.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:inception_resnet_v2.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/inception_v3.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:inception_v3.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/mobilenet.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:mobilenet.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/mobilenet_v2.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:mobilenet_v2.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/nasnet.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:nasnet.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/resnet.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:resnet.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/resnet_v2.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:resnet_v2.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/vgg16.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:vgg16.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/vgg19.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:vgg19.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/xception.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:xception.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/__init__.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:__init__.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/boston_housing.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:boston_housing.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/cifar.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:cifar.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/cifar10.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:cifar10.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/cifar100.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:cifar100.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/fashion_mnist.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:fashion_mnist.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/imdb.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:imdb.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/mnist.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:mnist.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/reuters.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:reuters.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:preprocessing/__init__.py' crosses boundary of subpackage 'tensorflow/python/keras/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/preprocessing:__init__.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:preprocessing/image.py' crosses boundary of subpackage 'tensorflow/python/keras/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/preprocessing:image.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:preprocessing/sequence.py' crosses boundary of subpackage 'tensorflow/python/keras/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/preprocessing:sequence.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:preprocessing/text.py' crosses boundary of subpackage 'tensorflow/python/keras/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/preprocessing:text.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:utils/__init__.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:__init__.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:utils/multi_gpu_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:multi_gpu_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:utils/np_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:np_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:utils/vis_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:vis_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:wrappers/__init__.py' crosses boundary of subpackage 'tensorflow/python/keras/wrappers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/wrappers:__init__.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:wrappers/scikit_learn.py' crosses boundary of subpackage 'tensorflow/python/keras/wrappers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/wrappers:scikit_learn.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:140:12: Label '//tensorflow/python/keras:engine/base_layer_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:base_layer_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/__init__.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:__init__.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/input_layer.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:input_layer.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/network.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:network.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/node.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:node.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/partial_batch_padding_handler.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:partial_batch_padding_handler.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/saving.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:saving.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/sequential.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:sequential.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/training.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/training_arrays.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_arrays.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/training_distributed.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_distributed.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/training_eager.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_eager.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/training_generator.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_generator.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/training_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/training_v2.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_v2.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/training_v2_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_v2_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:utils/metrics_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:metrics_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:222:12: Label '//tensorflow/python/keras:engine/data_adapter.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:data_adapter.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:234:12: Label '//tensorflow/python/keras:engine/input_spec.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:input_spec.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:248:12: Label '//tensorflow/python/keras:engine/base_layer.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:base_layer.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:277:12: Label '//tensorflow/python/keras:engine/base_preprocessing_layer.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:base_preprocessing_layer.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:277:12: Label '//tensorflow/python/keras:engine/base_preprocessing_layer_v1.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:base_preprocessing_layer_v1.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/__init__.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:__init__.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/hdf5_format.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:hdf5_format.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/model_config.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:model_config.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/save.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:save.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/saved_model/constants.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saved_model/constants.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/saved_model/load.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saved_model/load.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/saved_model/save.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saved_model/save.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/saved_model/serialized_attributes.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saved_model/serialized_attributes.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/saved_model/utils.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saved_model/utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/saved_model_experimental.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saved_model_experimental.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/saving_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saving_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:429:12: Label '//tensorflow/python/keras:utils/conv_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:conv_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:429:12: Label '//tensorflow/python/keras:utils/data_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:data_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:429:12: Label '//tensorflow/python/keras:utils/io_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:io_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:429:12: Label '//tensorflow/python/keras:utils/losses_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:losses_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:444:12: Label '//tensorflow/python/keras:utils/tf_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:tf_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/__init__.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:__init__.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/advanced_activations.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:advanced_activations.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/convolutional.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:convolutional.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/convolutional_recurrent.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:convolutional_recurrent.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/core.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:core.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/cudnn_recurrent.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:cudnn_recurrent.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/dense_attention.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:dense_attention.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/embeddings.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:embeddings.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/kernelized.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:kernelized.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/local.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:local.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/merge.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:merge.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/noise.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:noise.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/normalization.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:normalization.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/normalization_v2.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:normalization_v2.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/pooling.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:pooling.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/preprocessing/normalization.py' crosses boundary of subpackage 'tensorflow/python/keras/layers/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers/preprocessing:normalization.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/preprocessing/normalization_v1.py' crosses boundary of subpackage 'tensorflow/python/keras/layers/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers/preprocessing:normalization_v1.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/recurrent.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:recurrent.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/recurrent_v2.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:recurrent_v2.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/rnn_cell_wrapper_v2.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:rnn_cell_wrapper_v2.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/wrappers.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:wrappers.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:utils/kernelized_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:kernelized_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:utils/layer_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:layer_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:518:12: Label '//tensorflow/python/keras:layers/preprocessing/preprocessing_test_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/layers/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers/preprocessing:preprocessing_test_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:529:12: Label '//tensorflow/python/keras:layers/serialization.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:serialization.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:542:12: Label '//tensorflow/python/keras:utils/generic_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:generic_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:554:12: Label '//tensorflow/python/keras:utils/mode_keys.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:mode_keys.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:603:1: Label '//tensorflow/python/keras:engine/data_adapter_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:data_adapter_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:730:1: Label '//tensorflow/python/keras:applications/applications_test.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:applications_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:742:1: Label '//tensorflow/python/keras:layers/advanced_activations_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:advanced_activations_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:753:1: Label '//tensorflow/python/keras:layers/tensorflow_op_layer_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:tensorflow_op_layer_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:769:1: Label '//tensorflow/python/keras:layers/convolutional_recurrent_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:convolutional_recurrent_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:783:1: Label '//tensorflow/python/keras:layers/convolutional_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:convolutional_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:797:1: Label '//tensorflow/python/keras:layers/convolutional_transpose_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:convolutional_transpose_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:810:1: Label '//tensorflow/python/keras:layers/cudnn_recurrent_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:cudnn_recurrent_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:827:1: Label '//tensorflow/python/keras:engine/base_preprocessing_layer_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:base_preprocessing_layer_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:841:1: Label '//tensorflow/python/keras:layers/pooling_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:pooling_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:857:1: Label '//tensorflow/python/keras:layers/core_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:core_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:870:1: Label '//tensorflow/python/keras:layers/subclassed_layers_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:subclassed_layers_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:883:1: Label '//tensorflow/python/keras:layers/dense_attention_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:dense_attention_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:895:1: Label '//tensorflow/python/keras:layers/embeddings_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:embeddings_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:907:1: Label '//tensorflow/python/keras:layers/local_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:local_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:921:1: Label '//tensorflow/python/keras:layers/merge_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:merge_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:933:1: Label '//tensorflow/python/keras:layers/noise_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:noise_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:944:1: Label '//tensorflow/python/keras:layers/normalization_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:normalization_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:961:1: Label '//tensorflow/python/keras:layers/preprocessing/normalization_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers/preprocessing:normalization_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:974:1: Label '//tensorflow/python/keras:layers/simplernn_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:simplernn_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:988:1: Label '//tensorflow/python/keras:layers/gru_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:gru_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1002:1: Label '//tensorflow/python/keras:layers/lstm_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:lstm_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1019:1: Label '//tensorflow/python/keras:layers/recurrent_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:recurrent_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1032:1: Label '//tensorflow/python/keras:layers/recurrent_v2_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:recurrent_v2_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1046:1: Label '//tensorflow/python/keras:layers/separable_convolutional_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:separable_convolutional_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1059:1: Label '//tensorflow/python/keras:layers/lstm_v2_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:lstm_v2_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1074:1: Label '//tensorflow/python/keras:layers/gru_v2_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:gru_v2_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1089:1: Label '//tensorflow/python/keras:layers/serialization_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:serialization_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1100:1: Label '//tensorflow/python/keras:layers/kernelized_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:kernelized_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1126:1: Label '//tensorflow/python/keras:layers/wrappers_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:wrappers_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1143:1: Label '//tensorflow/python/keras:layers/rnn_cell_wrapper_v2_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:rnn_cell_wrapper_v2_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1159:1: Label '//tensorflow/python/keras:layers/time_distributed_learning_phase_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:time_distributed_learning_phase_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1174:1: Label '//tensorflow/python/keras:wrappers/scikit_learn_test.py' crosses boundary of subpackage 'tensorflow/python/keras/wrappers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/wrappers:scikit_learn_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1187:1: Label '//tensorflow/python/keras:utils/data_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:data_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1207:1: Label '//tensorflow/python/keras:utils/generic_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:generic_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1218:1: Label '//tensorflow/python/keras:utils/tf_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:tf_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1228:1: Label '//tensorflow/python/keras:utils/composite_tensor_support_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:composite_tensor_support_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1251:1: Label '//tensorflow/python/keras:utils/io_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:io_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1267:1: Label '//tensorflow/python/keras:utils/np_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:np_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1279:1: Label '//tensorflow/python/keras:utils/kernelized_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:kernelized_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1291:1: Label '//tensorflow/python/keras:utils/multi_gpu_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:multi_gpu_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1307:1: Label '//tensorflow/python/keras:engine/training_gpu_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_gpu_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1323:1: Label '//tensorflow/python/keras:utils/vis_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:vis_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1335:1: Label '//tensorflow/python/keras:utils/conv_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:conv_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1347:1: Label '//tensorflow/python/keras:preprocessing/image_test.py' crosses boundary of subpackage 'tensorflow/python/keras/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/preprocessing:image_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1359:1: Label '//tensorflow/python/keras:preprocessing/sequence_test.py' crosses boundary of subpackage 'tensorflow/python/keras/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/preprocessing:sequence_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1371:1: Label '//tensorflow/python/keras:preprocessing/text_test.py' crosses boundary of subpackage 'tensorflow/python/keras/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/preprocessing:text_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1413:1: Label '//tensorflow/python/keras:engine/correctness_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:correctness_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1430:1: Label '//tensorflow/python/keras:engine/input_spec_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:input_spec_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1444:1: Label '//tensorflow/python/keras:engine/training_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1462:1: Label '//tensorflow/python/keras:engine/training_dataset_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_dataset_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1478:1: Label '//tensorflow/python/keras:engine/training_arrays_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_arrays_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1497:1: Label '//tensorflow/python/keras:engine/training_generator_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_generator_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1515:1: Label '//tensorflow/python/keras:engine/training_integration_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_integration_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1532:1: Label '//tensorflow/python/keras:engine/feature_columns_integration_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:feature_columns_integration_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1549:1: Label '//tensorflow/python/keras:engine/training_eager_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_eager_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1566:1: Label '//tensorflow/python/keras:engine/training_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1641:1: Label '//tensorflow/python/keras:engine/network_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:network_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1658:1: Label '//tensorflow/python/keras:engine/base_layer_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:base_layer_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1675:1: Label '//tensorflow/python/keras:engine/control_flow_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:control_flow_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1691:1: Label '//tensorflow/python/keras:saving/hdf5_format_test.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:hdf5_format_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1707:1: Label '//tensorflow/python/keras:engine/sequential_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:sequential_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1776:1: Label '//tensorflow/python/keras:saving/save_test.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:save_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1789:1: Label '//tensorflow/python/keras:saving/saved_model_experimental_test.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saved_model_experimental_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1806:1: Label '//tensorflow/python/keras:saving/saved_model/saved_model_test.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saved_model/saved_model_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1822:1: Label '//tensorflow/python/keras:saving/saving_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saving_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1835:1: Label '//tensorflow/python/keras:utils/metrics_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:metrics_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1582:1: Target '//tensorflow/python/keras:keras' contains an error and its package is in error and referenced by '//tensorflow/python/keras:model_subclassing_test_util'\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1582:1: Target '//tensorflow/python/keras:model_subclassing_test_util.py' contains an error and its package is in error and referenced by '//tensorflow/python/keras:model_subclassing_test_util'\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/tools/pip_package/BUILD:233:1: Target '//tensorflow/python/keras:model_subclassing_test_util' contains an error and its package is in error and referenced by '//tensorflow/tools/pip_package:build_pip_package'\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/tools/pip_package/BUILD:233:1: Target '//tensorflow/python/keras:preprocessing_test_utils' contains an error and its package is in error and referenced by '//tensorflow/tools/pip_package:build_pip_package'\r\nERROR: Analysis of target '//tensorflow/tools/pip_package:build_pip_package' failed; build aborted: Analysis failed\r\nINFO: Elapsed time: 0.145s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully (10 packages loaded, 129 targets configured)\r\n    currently loading: tensorflow/core/kernels ... (9 packages)\r\n    Fetching @local_config_cc; Restarting.\r\n    Fetching @local_config_sycl; fetching\r\n    Fetching @swig; Restarting.\r\n```\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n```\r\nbazel  build  //tensorflow/tools/pip_package:build_pip_package\r\n```\r\n\r\n### Could you give me some advice? Thank you!", "comments": ["This is strange. Can you confirm that this was on `r1.15` branch? What is the output of `git log -n5`?", "> This is strange. Can you confirm that this was on `r1.15` branch? What is the output of `git log -n5`?\r\n\r\n\r\nHello @mihaimaruseac , the output of git log -n5 is:\r\n```\r\ncommit bab74a15d9ad6bb9066b3e31d601d6a45b1cb221\r\nMerge: 5d80e1e c2f2827\r\nAuthor: Mihai Maruseac <mihaimaruseac@google.com>\r\nDate:   Mon Jan 27 20:36:20 2020 +0000\r\n\r\n    Merge pull request #36257 from angerson/r1.15\r\n    \r\n    Remove 1.15.x Python 2 docker images\r\n\r\ncommit c2f28276c52a11831164601dc5c05795e9e9500e\r\nAuthor: Austin Anderson <angerson@google.com>\r\nDate:   Mon Jan 27 11:19:32 2020 -0800\r\n\r\n    Remove 1.15.x Python 2 docker images\r\n\r\ncommit 5d80e1e8e6ee999be7db39461e0e79c90403a2e4\r\nMerge: e50120e 71e9d8f\r\nAuthor: Mihai Maruseac <mihaimaruseac@google.com>\r\nDate:   Sun Jan 26 03:57:51 2020 +0000\r\n\r\n    Merge pull request #36215 from tensorflow-jenkins/version-numbers-1.15.2-8214\r\n    \r\n    Update version numbers for TensorFlow 1.15.2\r\n\r\ncommit 71e9d8f8eddfe283943d62554d4c676bdaf79372\r\nAuthor: TensorFlow Release Automation <jenkins@tensorflow.org>\r\nDate:   Sat Jan 25 19:57:13 2020 -0800\r\n\r\n    Update version numbers to 1.15.2\r\n\r\ncommit e50120ee34e1e29252f4cbc8ac4cd328e9a9840c\r\nMerge: e75a6d6 1a7e9fb\r\nAuthor: Mihai Maruseac <mihaimaruseac@google.com>\r\nDate:   Sun Jan 26 03:54:24 2020 +0000\r\n```\r\n\r\nI rebuild my project, using \r\n> bazel build --config=v1 //tensorflow/tools/pip_package:build_pip_package\r\n### now, the error is:\r\n```\r\nINFO: From ProtoCompile external/com_github_googleapis_googleapis/google/api/annotations.pb.h:\r\nbazel-out/k8-opt/genfiles/external/com_google_protobuf/src: warning: directory does not exist.\r\nINFO: From ProtoCompile tensorflow/contrib/tensor_forest/proto/tensor_forest_params.pb.h:\r\nbazel-out/k8-opt/genfiles/external/com_google_protobuf/src: warning: directory does not exist.\r\nbazel-out/k8-opt/genfiles/external/com_google_protobuf/src: warning: directory does not exist.\r\nINFO: From ProtoCompile external/com_github_googleapis_googleapis/google/bigtable/admin/v2/bigtable_instance_admin.pb.h:\r\nbazel-out/k8-opt/genfiles/external/com_google_protobuf/src: warning: directory does not exist.\r\nINFO: From ProtoCompile tensorflow/contrib/tensor_forest/proto/fertile_stats.pb.h:\r\nbazel-out/k8-opt/genfiles/external/com_google_protobuf/src: warning: directory does not exist.\r\nbazel-out/k8-opt/genfiles/external/com_google_protobuf/src: warning: directory does not exist.\r\nERROR: /data1/home/other/ttensorflow/tf115/tensorflow/tensorflow/compiler/tf2tensorrt/BUILD:34:1: C++ compilation of rule '//tensorflow/compiler/tf2tensorrt:tensorrt_stub' failed (Exit 1)\r\ntensorflow/compiler/tf2tensorrt/stub/nvinfer_stub.cc:54:2: error: #error TensorRT version earlier than 5 is not supported.\r\n #error TensorRT version earlier than 5 is not supported.\r\n  ^\r\ntensorflow/compiler/tf2tensorrt/stub/nvinfer_stub.cc:48:6: warning: 'void {anonymous}::LogFatalSymbolNotFound(const char*)' defined but not used [-Wunused-function]\r\n void LogFatalSymbolNotFound(const char* symbol_name) {\r\n      ^\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 188.322s, Critical Path: 114.28s\r\nINFO: 4064 processes: 4064 local.\r\nFAILED: Build did NOT complete successfully\r\n```\r\n\r\nCould you give me some advice? Thank you! @mihaimaruseac \r\n", "What version of tensorRT you have installed?", "> What version of tensorRT you have installed?\r\n\r\nHello @mihaimaruseac, We don't need to use tensorRT, so the tensorRT is not installed: \r\n```\r\n# python\r\nPython 3.5.2 (default, Nov 12 2018, 13:43:14) \r\n[GCC 5.4.0 20160609] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import tensorrt\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nImportError: No module named 'tensorrt'\r\n```", "That is the python module. But it seems you still have the header files, based on the error message?", "@ivankxt \r\n\r\nAny update on this issue please. Thanks!", "Automatically closing due to lack of recent activity. Please update the issue when new information becomes available, and we will reopen the issue. Thanks!", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37614\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37614\">No</a>\n"]}, {"number": 37613, "title": "How to use our own tflite model ?", "body": "This template is for miscellaneous issues not covered by the other issue categories.\r\n\r\nFor questions on how to work with TensorFlow, or support for problems that are not verified bugs in TensorFlow, please go to [StackOverflow](https://stackoverflow.com/questions/tagged/tensorflow).\r\n\r\nIf you are reporting a vulnerability, please use the [dedicated reporting process](https://github.com/tensorflow/tensorflow/blob/master/SECURITY.md).\r\n\r\nFor high-level discussions about TensorFlow, please post to discuss@tensorflow.org, for questions about the development or internal workings of TensorFlow, or if you would like to know how to contribute to TensorFlow, please post to developers@tensorflow.org.\r\n", "comments": ["@RomitGandhi07,\r\nCould you please elaborate your query? Do you need help building the tflite model or implementing it on your mobile device?\r\n\r\nAlso, while submitting your query, please fill in the issue template along with the TensorFlow version you are using. Thanks!", "Hello sir, \r\nI have retrained my model and generated .lite file. Now, I want to use it in the android application, So I put the .lite file and labels.txt file in asset folder and change the file name in the java file as well but whenever I run my app the model associated with the app is detecting the objects. So, please tell me how to use the .lite model in the android app. Thanks for helping.", "Could you please check out [this](https://www.tensorflow.org/lite/guide/android) quick start guide for Android and let us know if it helps? Thanks!", "I have used the same example but for the defined model, it is working perfectly, I want to use my own model and for that, I uploaded my zip file contains .lite & label file on Google Drive and share it publicly and specify that link in download.gradle file but when I run the app the error showing that .lite file not found.\r\n\r\nIn download.gradle file:   src 'https://drive.google.com/file/d/1h0ugvgkmLRdeSvV-cugYHIGAVi5zs6tt/view?usp=sharing', this is the link provided\r\n\r\n![Error](https://user-images.githubusercontent.com/46276226/76766005-56258200-67bd-11ea-9a6d-2299f20d14f0.jpg)\r\n", "@RomitGandhi07 Are you trying classification or object detection. If you want to classify those three classes, you can use classification model described [here](https://codelabs.developers.google.com/codelabs/recognize-flowers-with-tensorflow-on-android/#1).  If you are trying to develop object detection model, then please check this [resource](https://codelabs.developers.google.com/codelabs/mlkit-android-custom-model/#0). These two tutorials will give you more detailed instructions on building your own tflite model and deploy on Android. \r\n\r\nPlease close the issue if this was resolved for you. Thanks!", "@RomitGandhi07 I tried your files in object_detection tflite_model. I am getting different error when I used `quantization = True` by using this command `TF_OD_API_IS_QUANTIZED = true;`. The following is the error trace.\r\n\r\n```\r\n2020-03-25 18:57:08.025 10944-10944/? W/main: type=1400 audit(0.0:17): avc: granted { read } for name=\"u:object_r:net_dns_prop:s0\" dev=\"tmpfs\" ino=14616 scontext=u:r:untrusted_app_25:s0:c512,c768 tcontext=u:object_r:net_dns_prop:s0 tclass=file\r\n2020-03-25 18:57:08.031 10944-10944/? I/mples.detectio: Late-enabling -Xcheck:jni\r\n2020-03-25 18:57:08.077 10944-10944/? E/mples.detectio: Unknown bits set in runtime_flags: 0x8000\r\n2020-03-25 18:57:08.133 10944-10944/? I/mples.detectio: The ClassLoaderContext is a special shared library.\r\n2020-03-25 18:57:08.286 10944-10944/? D/tensorflow: CameraActivity: onCreate org.tensorflow.lite.examples.detection.DetectorActivity@8b487a\r\n2020-03-25 18:57:08.340 10944-10944/? W/mples.detectio: Accessing hidden method Landroid/view/View;->computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (greylist, reflection, allowed)\r\n2020-03-25 18:57:08.341 10944-10944/? W/mples.detectio: Accessing hidden method Landroid/view/ViewGroup;->makeOptionalFitsSystemWindows()V (greylist, reflection, allowed)\r\n2020-03-25 18:57:08.445 10944-10944/? I/CameraManagerGlobal: Connecting to camera service\r\n2020-03-25 18:57:08.458 10944-10944/? I/tensorflow: CameraActivity: Camera API lv2?: true\r\n2020-03-25 18:57:08.479 10944-10944/? D/tensorflow: CameraActivity: onStart org.tensorflow.lite.examples.detection.DetectorActivity@8b487a\r\n2020-03-25 18:57:08.481 10944-10944/? D/tensorflow: CameraActivity: onResume org.tensorflow.lite.examples.detection.DetectorActivity@8b487a\r\n2020-03-25 18:57:08.527 10944-10980/? I/Adreno: QUALCOMM build                   : 4a00b69, I4e7e888065\r\n    Build Date                       : 04/09/19\r\n    OpenGL ES Shader Compiler Version: EV031.26.06.00\r\n    Local Branch                     : mybranche95ae4c8-d77f-f18d-a9ef-1458d0b52ae8\r\n    Remote Branch                    : quic/gfx-adreno.lnx.1.0\r\n    Remote Branch                    : NONE\r\n    Reconstruct Branch               : NOTHING\r\n2020-03-25 18:57:08.527 10944-10980/? I/Adreno: Build Config                     : S L 8.0.5 AArch64\r\n2020-03-25 18:57:08.530 10944-10980/? I/Adreno: PFP: 0x005ff110, ME: 0x005ff066\r\n2020-03-25 18:57:08.556 10944-10944/? I/tensorflow: CameraConnectionFragment: Desired size: 640x480, min size: 480x480\r\n2020-03-25 18:57:08.556 10944-10944/? I/tensorflow: CameraConnectionFragment: Valid preview sizes: [4048x3036, 4000x3000, 3840x2160, 3264x2448, 3200x2400, 2976x2976, 2592x1944, 2688x1512, 2048x1536, 1920x1080, 1600x1200, 1440x1080, 1280x960, 1280x720, 1024x768, 800x600, 720x480, 640x480]\r\n2020-03-25 18:57:08.556 10944-10944/? I/tensorflow: CameraConnectionFragment: Rejected preview sizes: [640x360, 480x360, 480x320, 352x288, 320x240, 176x144, 160x120]\r\n2020-03-25 18:57:08.556 10944-10944/? I/tensorflow: CameraConnectionFragment: Exact size match found.\r\n2020-03-25 18:57:08.561 10944-10944/? W/tensorflow: TFLiteObjectDetectionAPIModel: lunchbox\r\n2020-03-25 18:57:08.561 10944-10944/? W/tensorflow: TFLiteObjectDetectionAPIModel: mouse\r\n2020-03-25 18:57:08.562 10944-10944/? W/tensorflow: TFLiteObjectDetectionAPIModel: breadboard\r\n2020-03-25 18:57:08.566 10944-10944/? I/tflite: Initialized TensorFlow Lite runtime.\r\n2020-03-25 18:57:08.568 10944-10944/? I/tensorflow: DetectorActivity: Camera orientation relative to screen canvas: 90\r\n2020-03-25 18:57:08.568 10944-10944/? I/tensorflow: DetectorActivity: Initializing at size 640x480\r\n2020-03-25 18:57:08.608 10944-10984/? I/tensorflow: CameraConnectionFragment: Opening camera preview: 640x480\r\n2020-03-25 18:57:08.618 10944-10980/? W/Gralloc3: mapper 3.x is not supported\r\n2020-03-25 18:57:08.728 10944-10968/? W/Gralloc3: allocator 3.x is not supported\r\n2020-03-25 18:57:08.927 10944-10984/? D/tensorflow: CameraActivity: Initializing buffer 0 at size 307200\r\n2020-03-25 18:57:08.927 10944-10984/? D/tensorflow: CameraActivity: Initializing buffer 1 at size 153599\r\n2020-03-25 18:57:08.928 10944-10984/? D/tensorflow: CameraActivity: Initializing buffer 2 at size 153599\r\n2020-03-25 18:57:08.928 10944-10984/? I/tensorflow: DetectorActivity: Preparing image 1 for detection in bg thread.\r\n2020-03-25 18:57:08.955 10944-10983/? I/tensorflow: DetectorActivity: Running detection on image 1\r\n2020-03-25 18:57:08.990 10944-10983/? E/AndroidRuntime: FATAL EXCEPTION: inference\r\n    Process: org.tensorflow.lite.examples.detection, PID: 10944\r\n    java.lang.IllegalArgumentException: Cannot convert between a TensorFlowLite buffer with 602112 bytes and a Java Buffer with 1080000 bytes.\r\n        at org.tensorflow.lite.Tensor.throwIfShapeIsIncompatible(Tensor.java:402)\r\n        at org.tensorflow.lite.Tensor.throwIfDataIsIncompatible(Tensor.java:369)\r\n        at org.tensorflow.lite.Tensor.setTo(Tensor.java:187)\r\n        at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:150)\r\n        at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:314)\r\n        at org.tensorflow.lite.examples.detection.tflite.TFLiteObjectDetectionAPIModel.recognizeImage(TFLiteObjectDetectionAPIModel.java:193)\r\n        at org.tensorflow.lite.examples.detection.DetectorActivity$2.run(DetectorActivity.java:181)\r\n        at android.os.Handler.handleCallback(Handler.java:883)\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.os.HandlerThread.run(HandlerThread.java:67)\r\n```\r\n\r\nAs I am not sure about your model whether it is quantized or not, so I changed the option to `quantization = false`. Then I got much smaller error trace as follows.\r\n\r\n```\r\n2020-03-25 18:57:09.181 10944-10944/org.tensorflow.lite.examples.detection D/tensorflow: CameraActivity: onPause org.tensorflow.lite.examples.detection.DetectorActivity@8b487a\r\n2020-03-25 18:57:10.096 10944-10959/org.tensorflow.lite.examples.detection W/System: A resource failed to call close. \r\n2020-03-25 18:57:10.096 10944-10959/org.tensorflow.lite.examples.detection W/System: A resource failed to call close. \r\n```\r\n\r\nQuestions to you.\r\n1) Did you copy the tflite model and label.txt to the asset folder?\r\n2) did you quantize the model? Pre or post training quantization? Thanks!", "Yes, I copied tflite model and label.txt in the asset folder and I quantized the model by converting to model to tflite model.\r\n\r\nI'm sending you the zip file which contains .lite file and .txt file, it also has .pb file. So can you try this? \r\n\r\n\r\n\r\n[Tensorflow Lite Retrained Model.zip](https://github.com/tensorflow/tensorflow/files/4384949/Tensorflow.Lite.Retrained.Model.zip)\r\n", "@RomitGandhi07 Did you disabling the model downloading part from build.gradle by commenting `apply from:'download_model.gradle` as `// apply from:'download_model.gradle`. I will also point you to good instructions [here](https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/running_on_mobile_tensorflowlite.md). Try to follow and update your codes so that there is no `FileNotFoundError`.  Lets try it and see whether you can resolve. We will spend some time to resolve if there are any more updates we need to do. Thanks!", "Ok, I am trying it.\r\n", "Can you please tell me which example are you working on because in my example in build.gradle I haven't found to apply from:'download_model.gradle.\r\nCan you please share the link from where you download the example?\r\nThanks in advance.", "Ok Found it, I'm trying now whether its working or not", "@RomitGandhi07 You need to clone this [repo](git clone https://github.com/tensorflow/examples). Complete instructions are [here](https://github.com/tensorflow/examples/tree/master/lite/examples/image_classification/android). Thanks!", "So, simply I have to disable apply line from build.gradle and put my own .lite model and label file in the asset folder.\r\nand please can you tell me in which java file in this example I have to change the file name of model and label ? ", "@RomitGandhi07 `DetectorActivity.java` is the file name where you need to change. Instructions are there in the doc I shared. Thanks!", "I had done the same steps, now I neither getting any error nor object is detected. Can you help me to find out why it's happened?\r\n\r\nI'm attaching zip file which contains .lite model file, label file and .pb file.\r\n\r\n[assets.zip](https://github.com/tensorflow/tensorflow/files/4389199/assets.zip)\r\n", "@RomitGandhi07 Can you please post the complete log you are noticing in the android studio? Is this model crashing in mobile? Thanks!", "Sorry for the delayed response, no model is not crashing in the device, I have tested the .pb file in google colab it is perfectly detecting the object (Means gives perfect probability value), so after that, I convert that into .lite file but when I use it in the android app it isn't detecting the object.", "@RomitGandhi07 Is this still an issue? Can you share the colab where it is perfectly detecting? how many images per category you have used? what is the accuracy you are getting with the colab. Thanks!\r\n\r\nIf this was resolved for you, please feel free to close the issue. Thanks!", "@RomitGandhi07 I found that you saved your model to `graph.lite`. Can you please change that to  `graph.tflite` and check the classification? Your tflite model extension was not correct. After changing that extension, I tested on my phone. It was detecting `lunchbox` with 99.96% accuracy. Here is an image for you.\r\n\r\nI am closing this issue as this was resolved for you. Thanks!\r\n![tflite_lunchbox_detection](https://user-images.githubusercontent.com/46058173/81326592-ea3df800-904e-11ea-837a-0043d4f247df.jpg)\r\n"]}, {"number": 37612, "title": "Not able to import tensorflow ", "body": "**System information**\r\n(tensorflow_cpu) C:\\Users\\Rakes>conda list\r\n# packages in environment at C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu:\r\n#\r\n# Name                    Version                   Build  Channel\r\nabsl-py                   0.9.0                    pypi_0    pypi\r\nastor                     0.8.1                    pypi_0    pypi\r\nblas                      1.0                         mkl\r\nca-certificates           2020.1.1                      0\r\ncachetools                4.0.0                    pypi_0    pypi\r\ncertifi                   2019.11.28               pypi_0    pypi\r\nchardet                   3.0.4                    pypi_0    pypi\r\ngast                      0.2.2                    pypi_0    pypi\r\ngoogle-auth               1.11.3                   pypi_0    pypi\r\ngoogle-auth-oauthlib      0.4.1                    pypi_0    pypi\r\ngoogle-pasta              0.2.0                    pypi_0    pypi\r\ngrpcio                    1.27.2                   pypi_0    pypi\r\nh5py                      2.10.0                   pypi_0    pypi\r\nicc_rt                    2019.0.0             h0cc432a_1\r\nidna                      2.9                      pypi_0    pypi\r\nintel-openmp              2020.0                      166\r\nkeras-applications        1.0.8                    pypi_0    pypi\r\nkeras-preprocessing       1.1.0                    pypi_0    pypi\r\nmarkdown                  3.2.1                    pypi_0    pypi\r\nmkl                       2020.0                      166\r\nmkl-service               2.3.0            py37hb782905_0\r\nmkl_fft                   1.0.15           py37h14836fe_0\r\nmkl_random                1.1.0            py37h675688f_0\r\nnumpy                     1.18.1                   pypi_0    pypi\r\nnumpy-base                1.18.1           py37hc3f5095_1\r\noauthlib                  3.1.0                    pypi_0    pypi\r\nopenssl                   1.1.1d               he774522_4\r\nopt-einsum                3.2.0                    pypi_0    pypi\r\npip                       20.0.2                   py37_1\r\nprotobuf                  3.11.3                   pypi_0    pypi\r\npyasn1                    0.4.8                    pypi_0    pypi\r\npyasn1-modules            0.2.8                    pypi_0    pypi\r\npython                    3.7.6                h60c2a47_2\r\nrequests                  2.23.0                   pypi_0    pypi\r\nrequests-oauthlib         1.3.0                    pypi_0    pypi\r\nrsa                       4.0                      pypi_0    pypi\r\nscipy                     1.4.1                    pypi_0    pypi\r\nsetuptools                46.0.0                   pypi_0    pypi\r\nsix                       1.14.0                   py37_0\r\nsqlite                    3.31.1               he774522_0\r\ntensorboard               2.1.1                    pypi_0    pypi\r\ntensorflow                2.1.0                    pypi_0    pypi\r\ntensorflow-cpu            2.1.0                    pypi_0    pypi\r\ntensorflow-estimator      2.1.0                    pypi_0    pypi\r\ntermcolor                 1.1.0                    pypi_0    pypi\r\nurllib3                   1.25.8                   pypi_0    pypi\r\nvc                        14.1                 h0510ff6_4\r\nvs2015_runtime            14.16.27012          hf0eaf9b_1\r\nwerkzeug                  1.0.0                    pypi_0    pypi\r\nwheel                     0.34.2                   pypi_0    pypi\r\nwincertstore              0.2                      py37_0\r\nwrapt                     1.12.1                   pypi_0    pypi\r\n\r\n(tensorflow_cpu) C:\\Users\\Rakes>conda info\r\n\r\n     active environment : tensorflow_cpu\r\n    active env location : C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\r\n            shell level : 2\r\n       user config file : C:\\Users\\Rakes\\.condarc\r\n populated config files : C:\\Users\\Rakes\\.condarc\r\n          conda version : 4.8.2\r\n    conda-build version : 3.17.6\r\n         python version : 3.7.1.final.0\r\n       virtual packages :\r\n       base environment : C:\\ProgramData\\Anaconda3  (read only)\r\n           channel URLs : https://repo.anaconda.com/pkgs/main/win-64\r\n                          https://repo.anaconda.com/pkgs/main/noarch\r\n                          https://repo.anaconda.com/pkgs/r/win-64\r\n                          https://repo.anaconda.com/pkgs/r/noarch\r\n                          https://repo.anaconda.com/pkgs/msys2/win-64\r\n                          https://repo.anaconda.com/pkgs/msys2/noarch\r\n          package cache : C:\\ProgramData\\Anaconda3\\pkgs\r\n                          C:\\Users\\Rakes\\.conda\\pkgs\r\n                          C:\\Users\\Rakes\\AppData\\Local\\conda\\conda\\pkgs\r\n       envs directories : C:\\Users\\Rakes\\.conda\\envs\r\n                          C:\\ProgramData\\Anaconda3\\envs\r\n                          C:\\Users\\Rakes\\AppData\\Local\\conda\\conda\\envs\r\n               platform : win-64\r\n             user-agent : conda/4.8.2 requests/2.21.0 CPython/3.7.1 Windows/10 Windows/10.0.18362\r\n          administrator : False\r\n             netrc file : None\r\n           offline mode : False\r\n\r\n\r\nCommands used to install tensorflow pip install --upgrade tensorflow\r\n\r\n### **Import TensorFlow not working **\r\n\r\n`(tensorflow_cpu) C:\\Users\\Rakes>python -c \"import tensorflow as tf;print(tf.reduce_sum(tf.random.normal([1000, 1000])))\"\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\\lib\\site-packages\\tensorflow_core\\python\\pywrap_tensorflow.py\", line 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\\lib\\site-packages\\tensorflow_core\\python\\pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\\lib\\site-packages\\tensorflow_core\\python\\pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\r\n  File \"C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\\lib\\imp.py\", line 242, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\\lib\\imp.py\", line 342, in load_dynamic\r\n    return _load(spec)\r\nImportError: DLL load failed: The specified module could not be found.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\\lib\\site-packages\\tensorflow\\__init__.py\", line 101, in <module>\r\n    from tensorflow_core import *\r\n  File \"C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\\lib\\site-packages\\tensorflow_core\\__init__.py\", line 40, in <module>\r\n    from tensorflow.python.tools import module_util as _module_util\r\n  File \"C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\\lib\\site-packages\\tensorflow\\__init__.py\", line 50, in __getattr__\r\n    module = self._load()\r\n  File \"C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\\lib\\site-packages\\tensorflow\\__init__.py\", line 44, in _load\r\n    module = _importlib.import_module(self.__name__)\r\n  File \"C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\\lib\\importlib\\__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\\lib\\site-packages\\tensorflow_core\\python\\__init__.py\", line 49, in <module>\r\n    from tensorflow.python import pywrap_tensorflow\r\n  File \"C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\\lib\\site-packages\\tensorflow_core\\python\\pywrap_tensorflow.py\", line 74, in <module>\r\n    raise ImportError(msg)\r\nImportError: Traceback (most recent call last):\r\n  File \"C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\\lib\\site-packages\\tensorflow_core\\python\\pywrap_tensorflow.py\", line 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\\lib\\site-packages\\tensorflow_core\\python\\pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\\lib\\site-packages\\tensorflow_core\\python\\pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\r\n  File \"C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\\lib\\imp.py\", line 242, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"C:\\Users\\Rakes\\.conda\\envs\\tensorflow_cpu\\lib\\imp.py\", line 342, in load_dynamic\r\n    return _load(spec)\r\nImportError: DLL load failed: The specified module could not be found.\r\n\r\n\r\nFailed to load the native TensorFlow runtime.\r\n\r\nSee https://www.tensorflow.org/install/errors\r\n\r\nfor some common reasons and solutions.  Include the entire stack trace\r\nabove this error message when asking for help.`", "comments": ["From the template it looks like you are installing **TensorFlow** (TF) prebuilt binaries:\n\n* For TF-GPU - See point 1\n* For TF-CPU - See point 2\n\n-----------------------------------------------------------------------------------------------\n\n**1. Installing **TensorFlow-GPU** (TF) prebuilt binaries**\n\n*TF Version >= 1.13 requires CUDA 10.0 and TF Version < 1.13 (till TF 1.5) requires CUDA 9.0.*\n\n* If you have above configuration and using _**Windows**_ platform -\n  * Try adding the CUDA, CUPTI, and cuDNN installation directories to the %PATH% environment variable.\n  * Refer [windows setup guide](https://www.tensorflow.org/install/gpu#windows_setup).\n* If you have above configuration and using _**Ubuntu/Linux**_ platform -\n  * Try adding the CUDA, CUPTI, and cuDNN installation directories to the $LD_LIBRARY_PATH environment variable.\n  * Refer [linux setup guide](https://www.tensorflow.org/install/gpu#linux_setup).\n* If error still persists then, apparently your CPU model does not support AVX instruction sets.\n  * Refer [hardware requirements](https://www.tensorflow.org/install/pip#hardware-requirements).\n\n-----------------------------------------------------------------------------------------------\n\n**2. Installing **TensorFlow** (TF) CPU prebuilt binaries**\n\n*TensorFlow release binaries version 1.6 and higher are prebuilt with AVX instruction sets.*\n\n Therefore on any CPU that does not have these instruction sets, either CPU or GPU version of TF will fail to load.\nApparently, your CPU model does not support AVX instruction sets. You can still use TensorFlow with the alternatives given below:\n\n* Try Google Colab to use TensorFlow.\n  * The easiest way to use TF will be to switch to [google colab](https://colab.sandbox.google.com/notebooks/welcome.ipynb#recent=true).You get pre-installed latest stable TF version. Also you can use```pip install``` to install any other preferred TF version.\n  * It has an added advantage since you can you easily switch to different hardware accelerators (cpu, gpu, tpu) as per the task.\n  * All you need is a good internet connection and you are all set.\n* Try to build TF from sources by changing CPU optimization flags.\n\n*Please let us know if this helps.*", "Closing as duplicate. Please do some work in the future on these issues (formatting of error/code blocks, search for similar issues)\r\n\r\nhttps://github.com/tensorflow/tensorflow/issues/36167#issuecomment-577886156\r\n\r\n#36167 #36151 #36138 #36054 #36045 #36020 #36003 #35988 #35903 #35880 #35865 #35805 #35789 #35773 #35772 #35767 #35766 #35749 #35721 #35618 #35204", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37612\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37612\">No</a>\n"]}, {"number": 37611, "title": "Failed to get convolution algorithm. This is probably because cuDNN failed to initialize, so try looking to see if a warning log message was printed above. [Op:Conv2D]", "body": "Tensorflow version: 2.0\r\nCUDA version: 10.2\r\n\r\nI'm trying to run a CNN network on a set of images in PyCharm IDE.\r\nHowever, when I run the following code:\r\n\r\nhistory = model.fit_generator(\r\n   ...:     train_data_gen,\r\n   ...:     epochs=epochs,\r\n   ...:     validation_data=val_data_gen,)\r\n\r\n I get this error:\r\n\r\n   ...: \r\nEpoch 1/80\r\n2020-03-15 17:14:52.332052: E tensorflow/stream_executor/cuda/cuda_dnn.cc:329] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2020-03-15 17:14:52.346548: E tensorflow/stream_executor/cuda/cuda_dnn.cc:329] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\nTraceback (most recent call last):\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/IPython/core/interactiveshell.py\", line 3326, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-18-5e082c56bdc2>\", line 4, in <module>\r\n    validation_data=val_data_gen,)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training.py\", line 1297, in fit_generator\r\n    steps_name='steps_per_epoch')\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training_generator.py\", line 265, in model_iteration\r\n    batch_outs = batch_function(*batch_data)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training.py\", line 973, in train_on_batch\r\n    class_weight=class_weight, reset_metrics=reset_metrics)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training_v2_utils.py\", line 264, in train_on_batch\r\n    output_loss_metrics=model._output_loss_metrics)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training_eager.py\", line 311, in train_on_batch\r\n    output_loss_metrics=output_loss_metrics))\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training_eager.py\", line 252, in _process_single_batch\r\n    training=training))\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training_eager.py\", line 127, in _model_loss\r\n    outs = model(inputs, **kwargs)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 891, in __call__\r\n    outputs = self.call(cast_inputs, *args, **kwargs)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/sequential.py\", line 256, in call\r\n    return super(Sequential, self).call(inputs, training=training, mask=mask)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/network.py\", line 708, in call\r\n    convert_kwargs_to_constants=base_layer_utils.call_context().saving)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/network.py\", line 860, in _run_internal_graph\r\n    output_tensors = layer(computed_tensors, **kwargs)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 891, in __call__\r\n    outputs = self.call(cast_inputs, *args, **kwargs)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/layers/convolutional.py\", line 197, in call\r\n    outputs = self._convolution_op(inputs, self.kernel)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/ops/nn_ops.py\", line 1134, in __call__\r\n    return self.conv_op(inp, filter)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/ops/nn_ops.py\", line 639, in __call__\r\n    return self.call(inp, filter)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/ops/nn_ops.py\", line 238, in __call__\r\n    name=self.name)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/ops/nn_ops.py\", line 2010, in conv2d\r\n    name=name)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/ops/gen_nn_ops.py\", line 1031, in conv2d\r\n    data_format=data_format, dilations=dilations, name=name, ctx=_ctx)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/ops/gen_nn_ops.py\", line 1130, in conv2d_eager_fallback\r\n    ctx=_ctx, name=name)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/eager/execute.py\", line 67, in quick_execute\r\n    six.raise_from(core._status_to_exception(e.code, message), None)\r\n  File \"<string>\", line 3, in raise_from\r\ntensorflow.python.framework.errors_impl.UnknownError: Failed to get convolution algorithm. This is probably because cuDNN failed to initialize, so try looking to see if a warning log message was printed above. [Op:Conv2D]\r\n\r\n\r\nHere's my complete code:\r\n\r\n```bash\r\nfrom __future__ import absolute_import, division, print_function, unicode_literals\r\nimport os\r\nimport numpy as np\r\nimport glob\r\nimport shutil\r\nfrom IPython.display import display\r\nfrom PIL import Image\r\nimport tensorflow as tf\r\nimport matplotlib.pyplot as plt\r\nfrom tensorflow.keras.preprocessing.image import ImageDataGenerator\r\n_URL = \"https://storage.googleapis.com/download.tensorflow.org/example_images/flower_photos.tgz\"\r\n\r\nzip_file = tf.keras.utils.get_file(origin=_URL,\r\n                                   fname=\"flower_photos.tgz\",\r\n                                   extract=True)\r\n\r\nbase_dir = os.path.join(os.path.dirname(zip_file), 'flower_photos')\r\n\r\nclasses = ['roses', 'daisy', 'dandelion', 'sunflowers', 'tulips']\r\nprint(base_dir)\r\n\r\nfor cl in classes:\r\n  img_path = os.path.join(base_dir, cl)\r\n  images = glob.glob(img_path + '/*.jpg')\r\n  print(\"{}: {} Images\".format(cl, len(images)))\r\n  train, val = images[:round(len(images)*0.8)], images[round(len(images)*0.8):]\r\n  for t in train:\r\n    if not os.path.exists(os.path.join(base_dir, 'train', cl)):\r\n      os.makedirs(os.path.join(base_dir, 'train', cl))\r\n    shutil.move(t, os.path.join(base_dir, 'train', cl))\r\n\r\n  for v in val:\r\n    if not os.path.exists(os.path.join(base_dir, 'val', cl)):\r\n      os.makedirs(os.path.join(base_dir, 'val', cl))\r\n    shutil.move(v, os.path.join(base_dir, 'val', cl))\r\n\r\n\r\ntrain_dir = os.path.join(base_dir, 'train')\r\nval_dir = os.path.join(base_dir, 'val')\r\n\r\nbatch_size = 16\r\nIMG_SHAPE = 150\r\n\r\nimage_gen_train = ImageDataGenerator(\r\n      rescale=1./255,\r\n      rotation_range=40,\r\n      width_shift_range=0.2,\r\n      height_shift_range=0.2,\r\n      shear_range=0.2,\r\n      zoom_range=0.2,\r\n      horizontal_flip=True,\r\n      fill_mode='nearest')\r\n\r\n\r\ntrain_data_gen = image_gen_train.flow_from_directory(batch_size= batch_size,\r\n                                                     directory=train_dir,\r\n                                                     shuffle=True,\r\n                                                     target_size=(IMG_SHAPE,IMG_SHAPE),\r\n                                                     class_mode='categorical')\r\n\r\nimage_gen_val = ImageDataGenerator(rescale=1/255)\r\nval_data_gen = image_gen_val.flow_from_directory(batch_size = batch_size,\r\n                                                 directory=val_dir,\r\n                                                 target_size=(IMG_SHAPE, IMG_SHAPE),\r\n                                                 class_mode='categorical')\r\n\r\nmodel = tf.keras.models.Sequential([\r\n    tf.keras.layers.Conv2D(16, (3, 3), activation='relu', input_shape=(150, 150, 3)),\r\n    tf.keras.layers.MaxPooling2D(2, 2),\r\n\r\n    tf.keras.layers.Conv2D(32, (3, 3), activation='relu'),\r\n    tf.keras.layers.MaxPooling2D(2, 2),\r\n\r\n    tf.keras.layers.Conv2D(64, (3, 3), activation='relu'),\r\n    tf.keras.layers.MaxPooling2D(2, 2),\r\n\r\n    tf.keras.layers.Conv2D(128, (3, 3), activation='relu'),\r\n    tf.keras.layers.MaxPooling2D(2, 2),\r\n    tf.keras.layers.Flatten(),\r\n    tf.keras.layers.Dropout(0.2),\r\n    tf.keras.layers.Dense(1024, activation='relu'),\r\n    tf.keras.layers.Dropout(0.2),\r\n    tf.keras.layers.Dense(512, activation='relu'),\r\n    tf.keras.layers.Dense(5, activation='softmax')\r\n\r\n])\r\n\r\nmodel.compile(loss = 'categorical_crossentropy', optimizer='rmsprop', metrics=['accuracy'])\r\n\r\nmodel.summary()\r\n\r\nepochs = 80\r\n\r\nimport tensorflow as tf\r\nconfig = tf.compat.v1.ConfigProto()\r\nconfig.gpu_options.allow_growth = True\r\n\r\ntf.compat.v1.Session(config=config)\r\n\r\nhistory = model.fit_generator(\r\n    train_data_gen,\r\n    epochs=epochs,\r\n    validation_data=val_data_gen,)\r\n```\r\n\r\n\r\n### Can anyone please suggest me what to do here\r\n", "comments": ["See #24828 ", "@Aditya-shahh \r\ncould you please downgrade the cuda version and try, with [reference to similar error](https://github.com/tensorflow/tensorflow/issues/28326) issues", "@Aditya-shahh\r\nplease update as per above comment", "@Aditya-shahh\r\nAutomatically closing due to lack of recent activity. Please update the issue when new information becomes available, and we will reopen the issue. Thanks!\r\n"]}, {"number": 37610, "title": "Generated docs for TF 2.1 and TF 2.2 are missing information present in the source docs", "body": "## URL(s) with the issue:\r\n\r\nThe issue affects many pages, here is one example:\r\n- TF 2.2: https://www.tensorflow.org/versions/r2.2/api_docs/python/tf/keras/optimizers/schedules/ExponentialDecay\r\n- TF 2.1: https://www.tensorflow.org/versions/r2.1/api_docs/python/tf/keras/optimizers/schedules/ExponentialDecay\r\n- TF 2.0: https://www.tensorflow.org/versions/r2.0/api_docs/python/tf/keras/optimizers/schedules/ExponentialDecay\r\n\r\n## Description of issue (what needs changing):\r\nThe generated docs for TF 2.1 and TF 2.2 is missing important information. Notably, the whole documentation of `__init__` method containing information like detailed learning rate computation\r\n```python\r\ndef decayed_learning_rate(step):\r\n  return initial_learning_rate * decay_rate ^ (step / decay_steps)\r\n```\r\nis missing in TF 2.1 and TF 2.2. However, the information is still present in the source, see \r\nhttps://github.com/tensorflow/tensorflow/blob/3c1e8c03419266bb6ba379d303d3e03a380617a8/tensorflow/python/keras/optimizer_v2/learning_rate_schedule.py#L64-L134\r\n\r\n## Further examples\r\nFor example Adam optimizer is also affected, see\r\n- TF 2.2: https://www.tensorflow.org/versions/r2.2/api_docs/python/tf/keras/optimizers/Adam\r\n- TF 2.0: https://www.tensorflow.org/versions/r2.0/api_docs/python/tf/keras/optimizers/Adam\r\nThe TF 2.0 version contains a lot of math describing how Adam works, which is not present in TF 2.2 docs.", "comments": ["Thanks for reporting. It will be fixed in the nightly version of the API docs tomorrow.", "It is indeed fixed in the nightly, thanks!"]}, {"number": 37609, "title": "typo of TF_STRING in TF_Tensor comments.", "body": "typo `data[start_offset[i]]]`, should be `data[start_offset[i]]`", "comments": []}, {"number": 37608, "title": "need custom implementations: NonMaxSuppressionV5", "body": "**System information**\r\n- Linux Ubuntu 18.04\r\n- TensorFlow installed from binary\r\n- TensorFlow 2.1\r\n\r\n\r\n**Provide the text output from tflite_convert**\r\n\r\n```\r\nHere is a list of operators for which you will need custom implementations: NonMaxSuppressionV5.\r\n```\r\n", "comments": ["@HLearning,\r\nCould you please check [this](https://github.com/tensorflow/tensorflow/issues/35449#issuecomment-570318723) comment from a similar issue and let us know if it works? Thanks!", "Any updates regarding this issue? Thanks!", "thanks, solved"]}, {"number": 37607, "title": "Lots of links are Broken.", "body": "## URL(s) with the issue:  \r\nhttps://github.com/tensorflow/docs/blob/r2.0/site/en/api_docs/python/index.md\r\n## Description of the issue (what needs changing):\r\nThere are lots of links are broken, some of them are:\r\nhttps://github.com/tensorflow/docs/blob/r2.0/site/en/api_docs/python/tf/dtypes/DType\r\nhttps://github.com/tensorflow/docs/blob/r2.0/site/en/api_docs/python/tf/data/experimental/get_structure\r\nhttps://github.com/tensorflow/docs/blob/r2.0/site/en/api_docs/python/tf/debugging/assert_same_float_dtype\r\nhttps://github.com/tensorflow/docs/blob/r2.0/site/en/api_docs/python/tf/estimator/ModeKeys\r\nhttps://github.com/tensorflow/docs/blob/r2.0/site/en/api_docs/python/tf/fill\r\n\r\n### Clear description\r\nThere are lots of the link is broken in r2.0/site/en/api_docs/python/index.md. when someone clicks on these links it's showing 404 ERROR.\r\n\r\n## Solution \r\nWhen I checked  https://www.tensorflow.org/versions/r2.0/api_docs/python . I found out every links\r\nare correct. For example\r\n* tf.DType link is broken in Github but working fine in TensorFlow website\r\nAs the numbers of broken links are big. I'll suggest adding a message like\r\n\" Our TensorFlow 2.0 RC docs is moved to https://www.tensorflow.org/versions/r2.0/api_docs/python. Kindly checkout there\"\r\nI have seen this type of message in some of the TensorFlow docs.\r\n## Pull Request\r\nHey, @dynamicwebpaige , @lamberta, @MarkDaoust  . Please assign me for doing this. I'll love to address this issue.\r\n", "comments": ["@abhinavsp0730  Yes there are lot of broken links, because they removed API GitHub. Maybe you can remove all links. As members add  links automatically when the website documentation gets generated.", "As major migration occurs from one version to another. Lots of links get broken. They soon will be deleted or replaced ones documentation gets updated.", "Hey, @MarkDaoust any updates on this?", "I'm going to have to add the snap-shot for TF2.1 when TF2.2 goes up. 'll take a look then.", "Okay,\r\nthanks, so can I now close this issue?", "@abhinavsp0730 All the links are working in the current page https://github.com/tensorflow/docs/blob/r2.0/site/en/api_docs/python/index.md\r\n\r\nPlease verify once and close the issue if this was resolved for you. Thanks!"]}, {"number": 37606, "title": "Loaded runtime CuDNN library: 7.5.1 but source was compiled with: 7.6.5", "body": "\r\n\r\nConstructing simple LSTM model, feed arbitrary stuff, then I get the error:\r\n\r\n> tensorflow.python.framework.errors_impl.UnknownError: Fail to find the dnn implementation. [Op:CudnnRNN]\r\n\r\nI traced the error above a couple of lines, and I see it started with the error you see in the title.\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): \r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04):  Win10\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if\r\nthe issue happens on mobile device: \r\n- TensorFlow installed from (source or\r\nbinary): - TensorFlow version (use command below):  2.1 and 2.2 nightly, same.\r\n- Python version: - 3.7\r\nversion (if compiling from source):\r\n- GCC/Compiler version (if compiling from\r\nsource): \r\n- CUDA/cuDNN version: - GPU model and memory: Cuda 10.1, CuDNN 7.6, exactly as recommended in installation guide.\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\n\r\n**Describe the expected behavior**\r\n\r\n**Standalone code to reproduce the issue** \r\nProvide a reproducible test case that is the bare minimum necessary to generate\r\nthe problem. If possible, please share a link to Colab/Jupyter/any notebook.\r\n\r\n**Other info / logs** Include any logs or source code that would be helpful to\r\ndiagnose the problem. If including tracebacks, please include the full\r\ntraceback. Large logs and files should be attached.\r\n", "comments": ["@kernelizd \r\nThanks for reporting the issue, can you please provide us with simple and standalone code to reproduce the issue?\r\n\r\n\r\ncould you please refer to [this link](https://github.com/tensorflow/tensorflow/issues/33148) and let us know if it helps", "@Saduf2019 Thanks for the respose. As for the link you provided, it doesn't work whether I limit the memory growth or not.\r\n\r\nAs for standalone reproducible code, it is insanely simple:\r\n\r\n> model = tf.keras.models.Sequential()\r\n> model.add(LSTM(units=10))\r\n> model(tf.random.normal((20, 360, 10))\r\n\r\nWierd thing is that other types of layers work smoothly\r\n", "@kernelizd \r\nCan you please share the complete error log for us to analyse", "@Saduf2019  @goldiegadde \r\nHi, this error is from the latest tf-nightly 16 March\r\n\r\n> 2020-03-17 08:06:02.583711: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library nvcuda.dll\r\n2020-03-17 08:06:02.691797: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1544] Found device 0 with properties: \r\npciBusID: 0000:17:00.0 name: TITAN RTX computeCapability: 7.5\r\ncoreClock: 1.77GHz coreCount: 72 deviceMemorySize: 24.00GiB deviceMemoryBandwidth: 625.94GiB/s\r\n2020-03-17 08:06:02.692522: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1544] Found device 1 with properties: \r\npciBusID: 0000:65:00.0 name: TITAN RTX computeCapability: 7.5\r\ncoreClock: 1.77GHz coreCount: 72 deviceMemorySize: 24.00GiB deviceMemoryBandwidth: 625.94GiB/s\r\n2020-03-17 08:06:02.693103: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudart64_101.dll\r\n2020-03-17 08:06:02.693332: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cublas64_10.dll\r\n2020-03-17 08:06:02.693641: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cufft64_10.dll\r\n2020-03-17 08:06:02.693900: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library curand64_10.dll\r\n2020-03-17 08:06:03.208089: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cusolver64_10.dll\r\n2020-03-17 08:06:03.208349: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cusparse64_10.dll\r\n2020-03-17 08:06:03.208595: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudnn64_7.dll\r\n2020-03-17 08:06:03.209998: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1686] Adding visible gpu devices: 0, 1\r\n2020-03-17 08:06:03.210499: I tensorflow/core/platform/cpu_feature_guard.cc:143] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2\r\n2020-03-17 08:06:03.230197: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x28f9c9958f0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:\r\n2020-03-17 08:06:03.230580: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\n2020-03-17 08:06:03.845408: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1544] Found device 0 with properties: \r\npciBusID: 0000:17:00.0 name: TITAN RTX computeCapability: 7.5\r\ncoreClock: 1.77GHz coreCount: 72 deviceMemorySize: 24.00GiB deviceMemoryBandwidth: 625.94GiB/s\r\n2020-03-17 08:06:03.846167: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1544] Found device 1 with properties: \r\npciBusID: 0000:65:00.0 name: TITAN RTX computeCapability: 7.5\r\ncoreClock: 1.77GHz coreCount: 72 deviceMemorySize: 24.00GiB deviceMemoryBandwidth: 625.94GiB/s\r\n2020-03-17 08:06:03.846592: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudart64_101.dll\r\n2020-03-17 08:06:03.846830: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cublas64_10.dll\r\n2020-03-17 08:06:03.846966: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cufft64_10.dll\r\n2020-03-17 08:06:03.847101: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library curand64_10.dll\r\n2020-03-17 08:06:03.847545: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cusolver64_10.dll\r\n2020-03-17 08:06:03.847759: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cusparse64_10.dll\r\n2020-03-17 08:06:03.847988: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudnn64_7.dll\r\n2020-03-17 08:06:03.849271: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1686] Adding visible gpu devices: 0, 1\r\n2020-03-17 08:06:04.883261: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1085] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2020-03-17 08:06:04.883507: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1091]      0 1 \r\n2020-03-17 08:06:04.883685: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1104] 0:   N Y \r\n2020-03-17 08:06:04.883871: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1104] 1:   Y N \r\n2020-03-17 08:06:04.885212: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1230] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 19048 MB memory) -> physical GPU (device: 0, name: TITAN RTX, pci bus id: 0000:17:00.0, compute capability: 7.5)\r\n2020-03-17 08:06:04.887765: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1230] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:1 with 19048 MB memory) -> physical GPU (device: 1, name: TITAN RTX, pci bus id: 0000:65:00.0, compute capability: 7.5)\r\n2020-03-17 08:06:04.893249: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x2905a357760 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:\r\n2020-03-17 08:06:04.893609: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): TITAN RTX, Compute Capability 7.5\r\n2020-03-17 08:06:04.893831: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (1): TITAN RTX, Compute Capability 7.5\r\n2020-03-17 08:06:05.765330: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudnn64_7.dll\r\n2020-03-17 08:06:07.052610: E tensorflow/stream_executor/cuda/cuda_dnn.cc:319] Loaded runtime CuDNN library: 7.5.1 but source was compiled with: 7.6.5.  CuDNN library major and minor version needs to match or have higher minor version in case of CuDNN 7.0 or later version. If using a binary install, upgrade your CuDNN library.  If building from sources, make sure the library loaded at runtime is compatible with the version specified during compile configuration.\r\n2020-03-17 08:06:07.054989: W tensorflow/core/framework/op_kernel.cc:1737] OP_REQUIRES failed at cudnn_rnn_ops.cc:1510 : Unknown: Fail to find the dnn implementation.\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\ops\\gen_cudnn_rnn_ops.py\", line 91, in cudnn_rnn\r\n    dropout, \"seed\", seed, \"seed2\", seed2, \"is_training\", is_training)\r\ntensorflow.python.eager.core._FallbackException: Expecting float value for attr dropout, got int\r\nDuring handling of the above exception, another exception occurred:\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 3331, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-2-697c14ad03c7>\", line 129, in <module>\r\n    print('Input shape = ', tmp.shape, ' , output shape = ', model(tmp).shape)\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\base_layer.py\", line 967, in __call__\r\n    outputs = self.call(cast_inputs, *args, **kwargs)\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\sequential.py\", line 291, in call\r\n    outputs = layer(inputs, **kwargs)\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\keras\\layers\\recurrent.py\", line 654, in __call__\r\n    return super(RNN, self).__call__(inputs, **kwargs)\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\base_layer.py\", line 967, in __call__\r\n    outputs = self.call(cast_inputs, *args, **kwargs)\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\keras\\layers\\recurrent_v2.py\", line 1171, in call\r\n    **gpu_lstm_kwargs)\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\keras\\layers\\recurrent_v2.py\", line 1416, in gpu_lstm\r\n    rnn_mode='lstm')\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\ops\\gen_cudnn_rnn_ops.py\", line 100, in cudnn_rnn\r\n    ctx=_ctx)\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\ops\\gen_cudnn_rnn_ops.py\", line 179, in cudnn_rnn_eager_fallback\r\n    attrs=_attrs, ctx=ctx, name=name)\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\eager\\execute.py\", line 60, in quick_execute\r\n    inputs, attrs, num_outputs)\r\ntensorflow.python.framework.errors_impl.UnknownError: Fail to find the dnn implementation. [Op:CudnnRNN]", "To be very precice, this is the bit that relates to the error\r\n\r\n> 2020-03-17 08:11:02.441648: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudnn64_7.dll\r\n2020-03-17 08:11:03.956571: E tensorflow/stream_executor/cuda/cuda_dnn.cc:319] Loaded runtime CuDNN library: 7.5.1 but source was compiled with: 7.6.5.  CuDNN library major and minor version needs to match or have higher minor version in case of CuDNN 7.0 or later version. If using a binary install, upgrade your CuDNN library.  If building from sources, make sure the library loaded at runtime is compatible with the version specified during compile configuration.\r\n2020-03-17 08:11:03.962154: W tensorflow/core/framework/op_kernel.cc:1737] OP_REQUIRES failed at cudnn_rnn_ops.cc:1510 : Unknown: Fail to find the dnn implementation.\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\ops\\gen_cudnn_rnn_ops.py\", line 91, in cudnn_rnn\r\n    dropout, \"seed\", seed, \"seed2\", seed2, \"is_training\", is_training)\r\ntensorflow.python.eager.core._FallbackException: Expecting float value for attr dropout, got int\r\nDuring handling of the above exception, another exception occurred:\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 3331, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-5-33971cc93b1b>\", line 1, in <module>\r\n    a = model(tmp)\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\base_layer.py\", line 967, in __call__\r\n    outputs = self.call(cast_inputs, *args, **kwargs)\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\sequential.py\", line 291, in call\r\n    outputs = layer(inputs, **kwargs)\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\keras\\layers\\recurrent.py\", line 654, in __call__\r\n    return super(RNN, self).__call__(inputs, **kwargs)\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\base_layer.py\", line 967, in __call__\r\n    outputs = self.call(cast_inputs, *args, **kwargs)\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\keras\\layers\\recurrent_v2.py\", line 1171, in call\r\n    **gpu_lstm_kwargs)\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\keras\\layers\\recurrent_v2.py\", line 1416, in gpu_lstm\r\n    rnn_mode='lstm')\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\ops\\gen_cudnn_rnn_ops.py\", line 100, in cudnn_rnn\r\n    ctx=_ctx)\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\ops\\gen_cudnn_rnn_ops.py\", line 179, in cudnn_rnn_eager_fallback\r\n    attrs=_attrs, ctx=ctx, name=name)\r\n  File \"C:\\Users\\s4551072\\.conda\\envs\\gpuenv\\lib\\site-packages\\tensorflow\\python\\eager\\execute.py\", line 60, in quick_execute\r\n    inputs, attrs, num_outputs)\r\ntensorflow.python.framework.errors_impl.UnknownError: Fail to find the dnn implementation. [Op:CudnnRNN]", "@Saduf2019 @goldiegadde \r\nHi all, after hours of experiments. I got to the bottom of it.\r\nIt's surprising, look at this:\r\nthis is a **simple** code that **doesn't** work and throw errors as above:\r\n\r\n```\r\nimport torch\r\nimport tensorflow as tf\r\nfrom tensorflow.keras.layers import Dense, Flatten, Conv2D, LSTM, RNN, GRU\r\nmodel = tf.keras.models.Sequential()\r\nmodel.add(LSTM(units=10))\r\nmodel.add(Dense(units=360, activation=tf.keras.activations.relu))\r\nmodel.add(Dense(units=20))\r\ntmp = tf.random.normal((32, 700, 3))\r\nprint('Input shape = ', tmp.shape, ' , output shape = ', model(tmp).shape)\r\n```\r\n\r\nHere's a code that **works seamlessly**:\r\n\r\n```\r\nimport tensorflow as tf\r\nfrom tensorflow.keras.layers import Dense, Flatten, Conv2D, LSTM, RNN, GRU\r\nmodel = tf.keras.models.Sequential()\r\nmodel.add(LSTM(units=10))\r\nmodel.add(Dense(units=360, activation=tf.keras.activations.relu))\r\nmodel.add(Dense(units=20))\r\ntmp = tf.random.normal((32, 700, 3))\r\nprint('Input shape = ', tmp.shape, ' , output shape = ', model(tmp).shape)\r\n```\r\n\r\nDifference? one line:\r\n`import torch\r\n`\r\nGive it a try if you don't believe me.\r\n\r\nWhile I was importing some help functions from other files, this import was happening there.\r\nNow this takes me back to the link that @Saduf2019 suggested, in which people talked about errors when the gpu is growth limited so that other processes can make use of it (e.g. run multiple models at the same time). From my experience, hell gates open when you try to run two models, use Pytorch and Tensorflow at the same time, even a single import of torch, with no use, cause the trouble above, even if it happened during an import !!\r\n\r\nYou can go ahead and close the issue if you feel this is not a problem that you should solve.\r\nThanks.", "@kernelizd \r\ni have executed the code shared by you on nightly and do not face any issues, please find the [gist here](https://colab.sandbox.google.com/gist/Saduf2019/c5f0a6c6d523fe988915ff1668dd58b4/37606.ipynb),\r\nplease note \"import torch is not part of tensorflow\".\r\n\r\nAs  the error does not exist please confirm if i may move this issue to closed status.", "@Saduf2019 Hi, I just checked again, it doesn't work, unless I remove` import torch`. The error is as above, nothing new. All I can add is that I'm using Pycharm, and a conda enviroment. It's wierd that it only happens on my side. I checked your gist, I see that it works smoothly.\r\nUnfortunately, I cannot add more to what I said.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37606\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37606\">No</a>\n", "@kernelizd\r\nAs i mentioned \"import torch is not part of tensorflow\" you see the errors on ide that are not from google, with colab due to compatibility the warnings are not present in the nightly version.", "try uninstalled cupy-cuda101?", "@liudengfeng Is that going to hurt anything? Where did I get this package in the first place ?", "I have similar issue when running StyleGAN2 on a Jetson Nano with JetPack 4.3,  TensorFlow 1.15.2+nv20.2\r\n\r\nAny help will be appreciated, thanks!\r\n\r\n```\r\nGenerating image for seed 6600 (0/26) ...\r\n2020-07-02 18:49:09.547209: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0\r\n2020-07-02 18:49:12.161725: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7\r\n2020-07-02 18:49:18.254447: E tensorflow/stream_executor/cuda/cuda_dnn.cc:320] Loaded runtime CuDNN library: 7.5.0 but source was compiled with: 7.6.3.  CuDNN library major and minor version needs to match or have higher minor version in case of CuDNN 7.0 or later version. If using a binary install, upgrade your CuDNN library.  If building from sources, make sure the library loaded at runtime is compatible with the version specified during compile configuration.\r\n2020-07-02 18:49:18.262843: E tensorflow/stream_executor/cuda/cuda_dnn.cc:320] Loaded runtime CuDNN library: 7.5.0 but source was compiled with: 7.6.3.  CuDNN library major and minor version needs to match or have higher minor version in case of CuDNN 7.0 or later version. If using a binary install, upgrade your CuDNN library.  If building from sources, make sure the library loaded at runtime is compatible with the version specified during compile configuration.\r\nTraceback (most recent call last):\r\n  File \"/home/swei/env/StyleGAN2/lib/python3.6/site-packages/tensorflow_core/python/client/session.py\", line 1365, in _do_call\r\n    return fn(*args)\r\n  File \"/home/swei/env/StyleGAN2/lib/python3.6/site-packages/tensorflow_core/python/client/session.py\", line 1350, in _run_fn\r\n    target_list, run_metadata)\r\n  File \"/home/swei/env/StyleGAN2/lib/python3.6/site-packages/tensorflow_core/python/client/session.py\", line 1443, in _call_tf_sessionrun\r\n    run_metadata)\r\ntensorflow.python.framework.errors_impl.UnknownError: 2 root error(s) found.\r\n  (0) Unknown: Failed to get convolution algorithm. This is probably because cuDNN failed to initialize, so try looking to see if a warning log message was printed above.\r\n\t [[{{node Gs/_Run/Gs/G_synthesis/4x4/Conv/Conv2D}}]]\r\n\t [[Gs/_Run/saturate_cast/_1519]]\r\n  (1) Unknown: Failed to get convolution algorithm. This is probably because cuDNN failed to initialize, so try looking to see if a warning log message was printed above.\r\n\t [[{{node Gs/_Run/Gs/G_synthesis/4x4/Conv/Conv2D}}]]\r\n0 successful operations.\r\n0 derived errors ignored.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n...\r\n```", "Hi,\r\nAfter a lot of search, I found another cudnn installation.\r\n\r\nThe command line ` where cudnn*` found cudnn in the following folder as expected.\r\n\r\n> \"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.1\"\r\n\r\n**But the command line found also a folder in my anaconda env, which was being used by Tensorflow**.\r\n\r\nThe solution that worked for me :\r\nRemove cudnn installed in Anaconda env with `conda uninstall cudnn` and check again where `where cudnn*`\r\n\r\nIf the cudnn installed in Anaconda env is removed, that should be good !\r\n\r\nHope it helps !\r\n"]}, {"number": 37605, "title": "Update api_def_Div.pbtxt", "body": "", "comments": ["I'm a little bit concerned with updating the API definitions for pbtxts used in multiple languages. Sure, they would work good in Python (doctest, everything), but will fail in all other languages.\r\n\r\n@yashk2810 @lamberta do you have a recommendation for this?\r\n\r\nLeaving for API owners to review, too.", "I think it was decided *not* to add python examples to `.pbtxt` files. cc: @MarkDaoust ", "Yes, forgot to update the PR after the decision. Thanks for the ping", "See 8582a583d45fdf6a895c0677c7f68b4bf3596ee9 for an example of how to add python-specific text to an OP.", "@mihaimaruseac should i close these PRs?", "We could update the PR and follow the new guideliness, or we could create new ones", "The example is in 8582a58 is clear on how to do this.\r\n\r\n@rohanreddych If you're still interested in fixing this follow that pattern please. Feel free to re-open this or make a new PR if you get back to it.\r\n\r\nBut let's not just leave this open."]}, {"number": 37604, "title": "Update api_def_Cast.pbtxt", "body": "", "comments": ["I'm a little bit concerned with updating the API definitions for pbtxts used in multiple languages. Sure, they would work good in Python (doctest, everything), but will fail in all other languages.\r\n\r\n@yashk2810 @lamberta do you have a recommendation for this?\r\n\r\nLeaving for API owners to review, too.", "I think it was decided *not* to add python examples to `.pbtxt` files. cc: @MarkDaoust ", "Agree. Forgot to update the PR after the decision", "See 8582a583d45fdf6a895c0677c7f68b4bf3596ee9 for an example of how to add python-specific text to an OP.", "Same as #37605. Please re-open or make a new PR if you have bandwidth to fix this. \r\n\r\nThanks."]}, {"number": 37603, "title": "Replace fit_generator by fit", "body": "Function fit_generator is deprecated, but is still used as an example of\r\nhow to use ImageDataGenerator. This patch fixes the two examples where\r\nfit_generator is used.", "comments": []}, {"number": 37602, "title": "Mixed Precision with tf.distribute", "body": "It doesn't appear that mixed precision currently works with tf.distribute. Are there plans to add this soon?\r\n", "comments": ["Can you clarify and give an example to reproduce? The Keras mixed precision API should work with tf.distribute, as well as doing mixed precision with manual casts.", "@reedwm I'll investigate more. Does it matter what order mixed precision and tf.distribute are run in? right now I'm doing:\r\n```python\r\nstrategy = tf.distribute.MirroredStrategy()\r\nwith strategy.scope():\r\n    policy = tf.keras.mixed_precision.experimental.Policy('mixed_float16')\r\n    tf.keras.mixed_precision.experimental.set_policy(policy)\r\n    build model, fit, etc.\r\n```", "It doesn't matter. All that matters is that you set the policy before building the model.", "Closing for now since mixed precision should work with MirroredStrategy. Please reopen or file a new issue if you still have an issue."]}, {"number": 37601, "title": "TF Lite ESP32 make License issue", "body": "\r\n\r\n**System information**\r\n- Windows 10\r\n-tensorflow cloned from git directly\r\n\r\n**Describe the problem**\r\nWhile trying to use make i get an issue with License:\r\n```\r\nC:\\>make -f tensorflow/lite/micro/tools/make/Makefile TARGET=esp generate_hello_world_esp_project\r\nmake: *** No rule to make target 'LICENSE', needed by 'tensorflow/lite/micro/tools/make/gen/esp_xtensa-esp32/prj/hello_world/esp-idf/LICENSE'.  Stop.\r\n```\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\nUsing the batch file provided by esp32 i setup the path variables:\r\n\r\n```\r\nUsing Python in C:\\Program Files\\Python36\\\r\nPython 3.6.8\r\nUsing Git in C:\\Program Files\\Git\\cmd\\\r\ngit version 2.21.0.windows.1\r\nSetting IDF_PATH: C:\\Esp_IDF_Release_4_0\\esp-idf\r\n\r\nAdding ESP-IDF tools to PATH...\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\xtensa-esp32-elf\\esp-2019r2-8.2.0\\xtensa-esp32-elf\\bin\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\xtensa-esp32s2-elf\\esp-2019r2-8.2.0\\xtensa-esp32s2-elf\\bin\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\esp32ulp-elf\\2.28.51-esp-20191205\\esp32ulp-elf-binutils\\bin\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\esp32s2ulp-elf\\2.28.51-esp-20191205\\esp32s2ulp-elf-binutils\\bin\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\cmake\\3.13.4\\bin\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\openocd-esp32\\v0.10.0-esp32-20191114\\openocd-esp32\\bin\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\ninja\\1.9.0\\\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\idf-exe\\1.0.1\\\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\ccache\\3.7\\\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\python_env\\idf4.2_py3.6_env\\Scripts\r\n    C:\\Esp_IDF_Release_4_0\\esp-idf\\tools\r\n\r\nChecking if Python packages are up to date...\r\nPython requirements from C:\\Esp_IDF_Release_4_0\\esp-idf\\requirements.txt are satisfied.\r\n\r\nDone! You can now compile ESP-IDF projects.\r\nGo to the project directory and run:\r\n\r\n  idf.py build\r\n```\r\n\r\n\r\n**Any other info / logs**\r\n\r\n\r\nmake is working\r\n\r\nidf.py --version\r\nESP-IDF v4.2-dev-701-g0ae960f2f\r\n\r\nI made sure tensorflow folder is on c:/\r\n", "comments": ["Just tried with a fresh VM ubuntu, \r\nfollowed the installation for idf esp32 for linux successfully\r\n\r\nbut tensorflow make still fails:\r\n\r\n```\r\nsudo make -f tensorflow/lite/micro/tools/make/Makefile TARGET=esp generate_hello_world_esp_project\r\nmake: * No rule to make target 'LICENSE', needed by 'tensorflow/lite/micro/tools/make/gen/esp_xtensa-esp32/prj/hello_world/esp-idf/LICENSE'.  Stop.\r\n```\r\n$PATH has the xtensa files\r\nand $IDF_PATH points to the proper folder\r\n", "Hello i got the same issue too\r\nFrom the error prompt it seems the sdkconfg.defaults is missing in\r\n` tensorflow/lite/micro/examples/hello_world/esp`\r\n\r\nA workaround is copy the sdkconfig.defaults from another example folder, e.g. \r\n`tensorflow/lite/micro/examples/person-detection/esp/sdkconfig.defaults`\r\ninto the hello_world/esp folder\r\n\r\nAfter that i can build and flash the hello_world example to the ESP32", "Hi,\r\n\r\nThanks for reporting this issue. We identified the root cause and will push a fix soon.\r\nAutomated builds to detect that kind of problems early are coming as well.\r\n\r\nThe workaround mentioned by @cptang2007 seems to work, otherwise just creating an empty file should do:\r\n```\r\ntouch tensorflow/lite/micro/examples/hello_world/esp/sdkconfig.defaults\r\n```\r\n\r\n", "After trying both workaround I am still unable to compile, I tried a non hello_world project, and still getting the same error, this on ubuntu:\r\n\r\n```\r\nlm@LMvmub:/$ ls -l tensorflow/lite/micro/examples/hello_world/esp\r\ntotal 4\r\n-rw-r--r-- 1 root root 821 mar 16 21:43 main.cc\r\n-rw-r--r-- 1 root root   0 mar 17 07:51 sdkconfig.defaults\r\nlm@LMvmub:/$ sudo make -f tensorflow/lite/micro/tools/make/Makefile TARGET=esp generate_hello_world_esp_project\r\nmake: *** No rule to make target 'LICENSE', needed by 'tensorflow/lite/micro/tools/make/gen/esp_xtensa-esp32/prj/hello_world/esp-idf/LICENSE'.  Stop.\r\nlm@LMvmub:/$ sudo make -f tensorflow/lite/micro/tools/make/Makefile TARGET=esp generate_micro_speech_esp_project\r\nmake: *** No rule to make target 'LICENSE', needed by 'tensorflow/lite/micro/tools/make/gen/esp_xtensa-esp32/prj/micro_speech/esp-idf/LICENSE'.  Stop.\r\n```\r\n\r\n\r\n", "> \r\n> \r\n> After trying both workaround I am still unable to compile, I tried a non hello_world project, and still getting the same error, this on ubuntu:\r\n> \r\n> ```\r\n> lm@LMvmub:/$ ls -l tensorflow/lite/micro/examples/hello_world/esp\r\n> total 4\r\n> -rw-r--r-- 1 root root 821 mar 16 21:43 main.cc\r\n> -rw-r--r-- 1 root root   0 mar 17 07:51 sdkconfig.defaults\r\n> lm@LMvmub:/$ sudo make -f tensorflow/lite/micro/tools/make/Makefile TARGET=esp generate_hello_world_esp_project\r\n> make: *** No rule to make target 'LICENSE', needed by 'tensorflow/lite/micro/tools/make/gen/esp_xtensa-esp32/prj/hello_world/esp-idf/LICENSE'.  Stop.\r\n> lm@LMvmub:/$ sudo make -f tensorflow/lite/micro/tools/make/Makefile TARGET=esp generate_micro_speech_esp_project\r\n> make: *** No rule to make target 'LICENSE', needed by 'tensorflow/lite/micro/tools/make/gen/esp_xtensa-esp32/prj/micro_speech/esp-idf/LICENSE'.  Stop.\r\n> ```\r\n\r\nseems the 'LICENSE' file is absent in the path \r\n`'tensorflow/lite/micro/tools/make/gen/esp_xtensa-esp32/prj/micro_speech/esp-idf/LICENSE'`\r\n\r\nI do have that LICENSE file in there though, maybe you can do the same trick to copy the LICENSE file to that folder ?", "Just tried to do it, to no avail. It didn't Work.\r\n\r\n```\r\nlm@LMvmub:/$ sudo ls -l tensorflow/lite/micro/tools/make/gen/esp_xtensa-esp32/prj/hello_world/esp-idf/\r\ntotal 8\r\ndrwxr-xr-x 3 root root 4096 mar 16 21:51 components\r\n-rw-r--r-- 1 root root    5 mar 17 12:08 LICENSE\r\n```\r\n\r\n\r\nI tried using debug tag on make and see what it prints, \r\n\r\n`sudo make -d -f tensorflow/lite/micro/tools/make/Makefile TARGET=esp generate_hello_world_esp_project`\r\n\r\n```\r\nSuccessfully remade target file 'tensorflow/lite/micro/tools/make/gen/esp_xtensa-esp32/prj/hello_world/esp-idf/components/tfmicro/tensorflow/lite/micro/memory_planner/greedy_memory_planner.h'.\r\n  Considering target file 'tensorflow/lite/micro/tools/make/gen/esp_xtensa-esp32/prj/hello_world/esp-idf/LICENSE'.\r\n    Considering target file 'LICENSE'.\r\n     File 'LICENSE' does not exist.\r\n     Looking for an implicit rule for 'LICENSE'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'LICENSE.o'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'LICENSE.c'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'LICENSE.cc'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'LICENSE.C'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'LICENSE.cpp'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'LICENSE.p'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'LICENSE.f'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'LICENSE.F'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'LICENSE.m'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'LICENSE.r'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'LICENSE.s'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'LICENSE.S'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'LICENSE.mod'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'LICENSE.sh'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'LICENSE,v'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'RCS/LICENSE,v'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'RCS/LICENSE'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 's.LICENSE'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'SCCS/s.LICENSE'.\r\n     Trying pattern rule with stem 'LICENSE'.\r\n     Trying implicit prerequisite 'LICENSE.o'.\r\n```\r\nit just keeps looking/iterating for a rule", "I'm still unable to compile keep getting LICENSE error, is there something I could be doing wrong?\r\ncould it be the version of the esp IDF?\r\n\r\nEdit: just tried IDF V4.0  and still the same error", "@fredrec any ideas or updates on what is going on here? cptang made an input but my particular issue got off the hook", "@LEMAOR, I believe this issue was resolved last month. Can you check again using the master branch ?", "> @LEMAOR, I believe this issue was resolved last month. Can you check again using the master branch ?\r\n\r\n@LEMAOR,\r\nAny updates regarding this? Please feel free to close the issue if resolved. Thanks! ", "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you.\n", "Closing as stale. Please reopen if you'd like to work on this further.\n", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37601\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37601\">No</a>\n", "i meet the same problems\r\n\r\nMust remake target 'tensorflow/lite/micro/tools/make/downloads/flatbuffers/include/flatbuffers/base.h'.\r\nmake: *** No rule to make target 'tensorflow/lite/micro/tools/make/downloads/flatbuffers/include/flatbuffers/base.h', needed by 'tensorflow/lite/micro/tools/make/gen/esp_xtensa-esp32/prj/doorbell_camera/esp-idf/components/tfmicro/third_party/flatbuffers/include/flatbuffers/base.h'.  Stop.\r\nroot@ubuntu:/home/feng/esp/tf_test/tensorflow# make -f tensorflow/lite/micro/tools/make/Makefile  TARGET=esp generate_doorbell_camera_esp_project\r\ntensorflow/lite/micro/tools/make/Makefile:295: warning: overriding recipe for target 'tensorflow/lite/micro/tools/make/downloads/person_model_grayscale'\r\ntensorflow/lite/micro/tools/make/Makefile:295: warning: ignoring old recipe for target 'tensorflow/lite/micro/tools/make/downloads/person_model_grayscale'\r\ntensorflow/lite/micro/tools/make/Makefile:295: warning: overriding recipe for target 'tensorflow/lite/micro/tools/make/downloads/ruy'\r\ntensorflow/lite/micro/tools/make/Makefile:295: warning: ignoring old recipe for target 'tensorflow/lite/micro/tools/make/downloads/ruy'\r\ntensorflow/lite/micro/tools/make/Makefile:295: warning: overriding recipe for target 'tensorflow/lite/micro/tools/make/downloads/person_model_grayscale'\r\ntensorflow/lite/micro/tools/make/Makefile:295: warning: ignoring old recipe for target 'tensorflow/lite/micro/tools/make/downloads/person_model_grayscale'\r\nmake: *** No rule to make target 'tensorflow/lite/micro/tools/make/downloads/flatbuffers/include/flatbuffers/base.h', needed by 'tensorflow/lite/micro/tools/make/gen/esp_xtensa-esp32/prj/doorbell_camera/esp-idf/components/tfmicro/third_party/flatbuffers/include/flatbuffers/base.h'.  Stop.\r\n"]}, {"number": 37600, "title": "Output 0 of type variant does not match declared output type int64 for node node IteratorGetNext", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Standard setup for gcp kubeflow and notebook as in https://www.tensorflow.org/tfx/tutorials/tfx/cloud-ai-platform-pipelines\r\n\r\nTrying a pipeline with keras model to estimator method. Similar to the one in https://github.com/tensorflow/tfx/blob/r0.21/tfx/examples/iris/iris_utils.py, but for a simple autoencoder for 1 feature.\r\n\r\n**Current behavior**\r\nWhen the pipeline tries to save checkpoint I get the error:\r\nhttps://github.com/tensorflow/tfx/blob/r0.21/tfx/examples/iris/iris_utils.py\r\n\r\nOutput 0 of type variant does not match declared output type int64 for node node IteratorGetNext", "comments": ["@tordsae, This issue is more related to TFX, can you raise this issue in [TFX](https://github.com/tensorflow/tfx/issues) repository. Thanks!", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37600\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37600\">No</a>\n"]}, {"number": 37599, "title": "[r2.2:Cherrypick] Fix  profiler  error when calling model.fit twice in graph mode.", "body": "Remove context.executing_eagerly() check for profiler, so that it works in graph mode.\r\nUse tf.cond when comparing tensors.\r\n\r\nGithub issue: https://github.com/tensorflow/tensorflow/issues/37543\r\n\r\n\r\nPiperOrigin-RevId: 300882803\r\nChange-Id: I6ed4f9212984aa896d049fb2726c7868f3d427ea", "comments": []}, {"number": 37598, "title": "2.2.0-rc1 aarch64 crosscompile build failed", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 18.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: ARM64 development board\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: 2.2.0-rc1\r\n- Python version: 3.8\r\n- Installed using virtualenv? pip? conda?:\r\n- Bazel version (if compiling from source): 2.0.0\r\n- GCC/Compiler version (if compiling from source): buildroot\r\n- CUDA/cuDNN version: none\r\n- GPU model and memory: none\r\n\r\n**Describe the problem**\r\n\r\nBuild failing due to missing value for mandatory attribute 'toolchain_config' in 'cc_toolchain' rule.\r\n\r\nFollowed the instructurons from [tensorflow-aarch64-crossbuild](https://github.com/xifengcun/tensorflow-aarch64-crossbuild) and update the changes as [tensorflow-2.2.0-rc1-aarch64-crossbuild](https://gist.github.com/openedev/7f7cb16af644d09f11fc49f42cbc2de9)\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\nBelow is my sample makefile\r\n\r\nPYTHON_TENSORFLOW_CONF_ENV += \\\r\n        PYTHON_BIN_PATH=$(HOST_DIR)/bin/python3 \\\r\n        PYTHON_LIB_PATH=$(HOST_DIR)/lib/python3.8/site-packages \\\r\n        TF_NEED_OPENCL_SYCL=y \\\r\n        HOST_CXX_COMPILER=$(HOST_DIR)/bin/aarch64-buildroot-linux-gnu-g++ \\\r\n        HOST_C_COMPILER=$(HOST_DIR)/bin/aarch64-buildroot-linux-gnu-gcc \\\r\n        TF_NEED_COMPUTECPP=N \\\r\n        TF_NEED_OPENCL_SYCL=N \\\r\n        TF_NEED_ROCM=N \\\r\n        TF_NEED_CUDA=N \\\r\n        TF_DOWNLOAD_CLANG=N \\\r\n        CC_OPT_FLAGS=\"-march=armv8-a\" \\\r\n        TF_SET_ANDROID_WORKSPACE=N\r\n\r\ndefine PYTHON_TENSORFLOW_CONFIGURE_CMDS\r\n        (cd $(@D); \\\r\n                export PATH=$(HOST_DIR)/bin:$(PATH); \\\r\n                $(PYTHON_TENSORFLOW_CONF_ENV) \\\r\n                $(SHELL) ./configure \\\r\n        )\r\nendef\r\n\r\ndefine PYTHON_TENSORFLOW_BUILD_CMDS\r\n        (cd $(@D); \\\r\n                $(HOST_DIR)/bin/bazel build --crosstool_top=//aarch64-compiler:toolchain --cpu=aarch64 --config=opt //tensorflow/tools/pip_package:build_pip_package \\\r\n        )\r\nendef\r\n\r\n**Any other info / logs**\r\n\r\n(cd /mnt/br/output/build/python-tensorflow-2.2.0-rc0; /mnt/br/output/host/bin/bazel build --crosstool_top=//aarch64-compiler:toolchain --cpu=aarch64 --config=opt //tensorflow/tools/pip_package:build_pip_package )\r\nINFO: Options provided by the client:\r\n  Inherited 'common' options: --isatty=1 --terminal_columns=91\r\nINFO: Reading rc options for 'build' from /mnt/br/output/build/python-tensorflow-2.2.0-rc0/.bazelrc:\r\n  Inherited 'common' options: --experimental_repo_remote_exec\r\nINFO: Reading rc options for 'build' from /mnt/br/output/build/python-tensorflow-2.2.0-rc0/.bazelrc:\r\n  'build' options: --apple_platform_type=macos --define framework_shared_object=true --define open_source_build=true --java_toolchain=//third_party/toolchains/java:tf_java_toolchain --host_java_toolchain=//third_party/toolchains/java:tf_java_toolchain --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone -c opt --announce_rc --define=grpc_no_ares=true --noincompatible_remove_legacy_whole_archive --noincompatible_prohibit_aapt1 --enable_platform_specific_config --config=v2\r\nINFO: Reading rc options for 'build' from /mnt/br/output/build/python-tensorflow-2.2.0-rc0/.tf_configure.bazelrc:\r\n  'build' options: --action_env PYTHON_BIN_PATH=/mnt/br/output/host/bin/python3 --action_env PYTHON_LIB_PATH=/mnt/br/output/host/lib/python3.8/site-packages --python_path=/mnt/br/output/host/bin/python3 --config=xla --action_env TF_CONFIGURE_IOS=0\r\nINFO: Found applicable config definition build:v2 in file /mnt/br/output/build/python-tensorflow-2.2.0-rc0/.bazelrc: --define=tf_api_version=2 --action_env=TF2_BEHAVIOR=1\r\nINFO: Found applicable config definition build:xla in file /mnt/br/output/build/python-tensorflow-2.2.0-rc0/.bazelrc: --action_env=TF_ENABLE_XLA=1 --define=with_xla_support=true\r\nINFO: Found applicable config definition build:opt in file /mnt/br/output/build/python-tensorflow-2.2.0-rc0/.tf_configure.bazelrc: --copt=-march=armv8-a --host_copt=-march=native --define with_default_optimizations=true\r\nINFO: Found applicable config definition build:linux in file /mnt/br/output/build/python-tensorflow-2.2.0-rc0/.bazelrc: --copt=-w --define=PREFIX=/usr --define=LIBDIR=$(PREFIX)/lib --define=INCLUDEDIR=$(PREFIX)/include --cxxopt=-std=c++14 --host_cxxopt=-std=c++14 --config=dynamic_kernels\r\nINFO: Found applicable config definition build:dynamic_kernels in file /mnt/br/output/build/python-tensorflow-2.2.0-rc0/.bazelrc: --define=dynamic_loaded_kernels=true --copt=-DAUTOLOAD_DYNAMIC_KERNELS\r\nERROR: /mnt/br/output/build/python-tensorflow-2.2.0-rc0/aarch64-compiler/BUILD:15:1: //aarch64-compiler:cc-compiler-aarch64: missing value for mandatory attribute 'toolchain_config' in 'cc_toolchain' rule\r\nINFO: Call stack for the definition of repository 'lmdb' which is a tf_http_archive (rule definition at /mnt/br/output/build/python-tensorflow-2.2.0-rc0/third_party/repo.bzl:134:19):\r\n - /mnt/br/output/build/python-tensorflow-2.2.0-rc0/tensorflow/workspace.bzl:618:5\r\n - /mnt/br/output/build/python-tensorflow-2.2.0-rc0/WORKSPACE:19:1\r\nERROR: /mnt/br/output/build/python-tensorflow-2.2.0-rc0/aarch64-compiler/BUILD:15:1: Target '//aarch64-compiler:aarch64_linux_all_files' contains an error and its package is in error and referenced by '//aarch64-compiler:cc-compiler-aarch64'\r\nERROR: /mnt/br/output/build/python-tensorflow-2.2.0-rc0/aarch64-compiler/BUILD:15:1: Target '//aarch64-compiler:empty' contains an error and its package is in error and referenced by '//aarch64-compiler:cc-compiler-aarch64'\r\nERROR: /mnt/br/output/build/python-tensorflow-2.2.0-rc0/aarch64-compiler/BUILD:3:1: Target '//aarch64-compiler:cc-compiler-aarch64' contains an error and its package is in error and referenced by '//aarch64-compiler:toolchain'\r\nERROR: /root/.cache/bazel/_bazel_root/e6c5c285cc2a992859afbeeed0c80f12/external/bazel_tools/src/tools/launcher/BUILD:9:1: every rule of type cc_binary implicitly depends upon the target '//aarch64-compiler:toolchain', but this target could not be found because of: Target '//aarch64-compiler:toolchain' contains an error and its package is in error\r\nERROR: Analysis of target '//tensorflow/tools/pip_package:build_pip_package' failed; build aborted: Analysis failed\r\nINFO: Elapsed time: 0.151s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully (1 packages loaded, 0 targets configured)\r\n", "comments": ["We don't provide official support for cross-compiling like this, sorry. If you can replicate this on master without cross-compiling, please file a new issue.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37598\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37598\">No</a>\n"]}, {"number": 37597, "title": "TF Lite OpenCL Input Tensors Same Address", "body": "This is already fixed in master (https://github.com/tensorflow/tensorflow/commit/8685cf97d568855f3e7cf194d7e370bb71c51c73#diff-49796db7c3f71b9c25c7837d9ee16abf), however I thought it's appropriate to report it nonetheless if anyone else encounters it.\r\n\r\nBefore the fix, the inputs of a model with three or more inputs were not copied correctly because some of them shared the same memory address in the context of OpenCL.", "comments": ["@guydavid Is there anything you want to update in the docs so that others will get benefited. If there is no further action related to this issue, then please close the issue as the issue got fixed in `master`. Thanks!", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37597\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37597\">No</a>\n"]}, {"number": 37596, "title": "add libpython-dev:armhf", "body": "Fix issue #37595 ", "comments": ["\nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed (or fixed any issues), please reply here with `@googlebot I signed it!` and we'll verify it.\n\n----\n\n#### What to do if you already signed the CLA\n\n##### Individual signers\n\n*   It's possible we don't have your GitHub username or you're using a different email address on your commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n\n##### Corporate signers\n\n*   Your company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to [go/cla#troubleshoot](http://go/cla#troubleshoot) ([Public version](https://opensource.google/docs/cla/#troubleshoot)).\n*   The email used to register you as an authorized contributor must be the email used for the Git commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n*   The email used to register you as an authorized contributor must also be [attached to your GitHub account](https://github.com/settings/emails).\n\t\t\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F37596) for more info**.\n\n<!-- need_sender_cla -->", "@googlebot I signed it!", "CLAs look good, thanks!\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F37596) for more info**.\n\n<!-- ok -->", "Sorry, My fix is broken.\r\nI close this pull request."]}, {"number": 37595, "title": "ERROR: /workspace/tensorflow/python/BUILD:7451:1: C++ compilation of rule '//tensorflow/python:_pywrap_tf_cluster.so' failed (Exit 1)", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 18.04.3 LTS (on Amazon EC2)\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: 2.0\r\n- Python version: Python 3.7\r\n- Installed using virtualenv? pip? conda?: no use\r\n- Bazel version (if compiling from source): I don't know.\r\n- GCC/Compiler version (if compiling from source):I don't know.\r\n- CUDA/cuDNN version:I don't know.\r\n- GPU model and memory:I don't know.\r\n\r\n\r\n\r\n**Describe the problem**\r\nI try to build.\r\n\r\n```\r\ngit clone https://github.com/tensorflow/tensorflow.git\r\ncd tensorflow\r\ngit checkout -b r2.0\r\nCI_DOCKER_EXTRA_PARAMS=\"-e CI_BUILD_PYTHON=python3 -e CROSSTOOL_PYTHON_INCLUDE_PATH=/usr/include/python3.4\" sudo tensorflow/tools/ci_build/ci_build.sh PI-PYTHON37 tensorflow/tools/ci_build/pi/build_raspberry_pi.sh PI_ONE\r\n```\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\nbuild error.\r\n\r\n**Any other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n```\r\nERROR: /workspace/tensorflow/python/BUILD:7451:1: C++ compilation of rule '//tensorflow/python:_pywrap_tf_cluster.so' failed (Exit 1)\r\nIn file included from /usr/include/python2.7/Python.h:8:0,\r\n                 from external/pybind11/include/pybind11/detail/common.h:112,\r\n                 from external/pybind11/include/pybind11/pytypes.h:12,\r\n                 from external/pybind11/include/pybind11/cast.h:13,\r\n                 from external/pybind11/include/pybind11/attr.h:13,\r\n                 from external/pybind11/include/pybind11/pybind11.h:44,\r\n                 from tensorflow/python/grappler/cluster_wrapper.cc:27:\r\n/usr/include/python2.7/pyconfig.h:24:54: fatal error: arm-linux-gnueabihf/python2.7/pyconfig.h: No such file or directory\r\n #  include <arm-linux-gnueabihf/python2.7/pyconfig.h>\r\n                                                      ^\r\ncompilation terminated.\r\nINFO: Elapsed time: 4748.612s, Critical Path: 227.38s\r\nINFO: 2139 processes: 2139 local.\r\nFAILED: Build did NOT complete successfully\r\nFAILED: Build did NOT complete successfully\r\n```", "comments": ["Sorry, My fix is broken.\r\nI close this pull request.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37595\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37595\">No</a>\n"]}, {"number": 37594, "title": "ERROR: C:/tensorflow/tensorflow/core/kernels/BUILD:7897:1: C++ compilation of rule '//tensorflow/core/kernels:mkl_conv_op' failed (Exit 2)", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): windows 10 x64\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: no\r\n- TensorFlow installed from (source or binary): git\r\n- TensorFlow version: r 2.2\r\n- Python version: 3.7\r\n- Installed using virtualenv? pip? conda?: conda intel 3.7\r\n- Bazel version (if compiling from source): 2.0\r\n- GCC/Compiler version (if compiling from source): VS 2019\r\n- CUDA/cuDNN version: 10.2\r\n- GPU model and memory: Nvidia 1070 ti\r\n\r\n\r\n\r\n**Describe the problem**\r\nbuild error\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\nbazel --output_base=c:/bazel/output_dir/ build --config=mkl --config=opt --config=cuda -- //tensorflow/tools/pip_package:build_pip_package\r\n\r\n**Any other info / logs**\r\nERROR: C:/tensorflow/tensorflow/core/kernels/BUILD:7897:1: C++ compilation of rule '//tensorflow/core/kernels:mkl_conv_op' failed (Exit 2)\r\n.\\tensorflow/core/util/mkl_util.h(1263): error C2131: expression did not evaluate to a constant\r\n.\\tensorflow/core/util/mkl_util.h(1262): note: failure was caused by a read of a variable outside its lifetime\r\n.\\tensorflow/core/util/mkl_util.h(1262): note: see usage of 'dim'\r\n.\\tensorflow/core/util/mkl_util.h(1264): error C2131: expression did not evaluate to a constant\r\n.\\tensorflow/core/util/mkl_util.h(1262): note: failure was caused by a read of a variable outside its lifetime\r\n.\\tensorflow/core/util/mkl_util.h(1262): note: see usage of 'dim'\r\n.\\tensorflow/core/util/mkl_util.h(1266): error C3863: array type 'dnnl_dim_t [kNumDims]' is not assignable\r\n.\\tensorflow/core/util/mkl_util.h(1267): error C3863: array type 'dnnl_dim_t [kNumDims]' is not assignable\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(157): error C2679: binary '=': no operator found which takes a right-hand operand of type 'std::vector<long,std::allocator<long>>' (or there is no acceptable conversion)\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1176): note: could be 'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::initializer_list<_Ty>)'\r\n        with\r\n        [\r\n            _Ty=dnnl::memory::dim\r\n        ]\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1168): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(const std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &)'\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(665): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &&) noexcept(<expr>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(157): note: while trying to match the argument list '(dnnl::memory::dims, std::vector<long,std::allocator<long>>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(182): error C2679: binary '=': no operator found which takes a right-hand operand of type 'std::vector<long,std::allocator<long>>' (or there is no acceptable conversion)\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1176): note: could be 'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::initializer_list<_Ty>)'\r\n        with\r\n        [\r\n            _Ty=dnnl::memory::dim\r\n        ]\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1168): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(const std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &)'\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(665): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &&) noexcept(<expr>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(182): note: while trying to match the argument list '(dnnl::memory::dims, std::vector<long,std::allocator<long>>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(246): error C2679: binary '=': no operator found which takes a right-hand operand of type 'std::vector<long,std::allocator<long>>' (or there is no acceptable conversion)\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1176): note: could be 'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::initializer_list<_Ty>)'\r\n        with\r\n        [\r\n            _Ty=dnnl::memory::dim\r\n        ]\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1168): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(const std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &)'\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(665): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &&) noexcept(<expr>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(246): note: while trying to match the argument list '(dnnl::memory::dims, std::vector<long,std::allocator<long>>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(254): error C2679: binary '=': no operator found which takes a right-hand operand of type 'std::vector<long,std::allocator<long>>' (or there is no acceptable conversion)\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1176): note: could be 'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::initializer_list<_Ty>)'\r\n        with\r\n        [\r\n            _Ty=dnnl::memory::dim\r\n        ]\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1168): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(const std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &)'\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(665): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &&) noexcept(<expr>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(254): note: while trying to match the argument list '(dnnl::memory::dims, std::vector<long,std::allocator<long>>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(283): error C2679: binary '=': no operator found which takes a right-hand operand of type 'std::vector<long,std::allocator<long>>' (or there is no acceptable conversion)\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1176): note: could be 'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::initializer_list<_Ty>)'\r\n        with\r\n        [\r\n            _Ty=dnnl::memory::dim\r\n        ]\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1168): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(const std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &)'\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(665): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &&) noexcept(<expr>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(283): note: while trying to match the argument list '(dnnl::memory::dims, std::vector<long,std::allocator<long>>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(474): error C2679: binary '=': no operator found which takes a right-hand operand of type 'std::vector<long,std::allocator<long>>' (or there is no acceptable conversion)\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1176): note: could be 'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::initializer_list<_Ty>)'\r\n        with\r\n        [\r\n            _Ty=dnnl::memory::dim\r\n        ]\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1168): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(const std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &)'\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(665): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &&) noexcept'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(474): note: while trying to match the argument list '(dnnl::memory::dims, std::vector<long,std::allocator<long>>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(482): error C2679: binary '=': no operator found which takes a right-hand operand of type 'std::vector<long,std::allocator<long>>' (or there is no acceptable conversion)\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1176): note: could be 'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::initializer_list<_Ty>)'\r\n        with\r\n        [\r\n            _Ty=dnnl::memory::dim\r\n        ]\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1168): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(const std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &)'\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(665): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &&) noexcept'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(482): note: while trying to match the argument list '(dnnl::memory::dims, std::vector<long,std::allocator<long>>)'\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nINFO: Elapsed time: 2360.878s, Critical Path: 182.60s\r\nINFO: 3346 processes: 3346 local.\r\nFAILED: Build did NOT complete successfully\r\n", "comments": ["Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37594\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37594\">No</a>\n", "I have the same issue on v2.2.0-rc2, was it fixed?", "The solution here\r\nhttps://github.com/tensorflow/tensorflow/issues/37430"]}, {"number": 37593, "title": "bug in C++ API \"AddSymbolicGradients\"", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): Yes \r\n- OS Platform and Distribution: CentOS Linux 7.4\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if\r\nthe issue happens on mobile device: Unknown\r\n- TensorFlow installed from (source or binary):source \r\n- TensorFlow version (use command below): TF 2.0\r\n- Python version:3.7 \r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from\r\nsource): 8.3\r\n- CUDA/cuDNN version: None\r\n- GPU model and memory: None\r\n\r\n**Describe the current behavior**\r\nI build a graph, then call `AddSymbolicGradients` to generate gradients, but I found the order of generated gradients does not match inputs. My inputs are `[a,b]`, but the generated gradients are `[b_grad, a_grad]`\r\n**Describe the expected behavior**\r\ngradients order match inputs. Gradients of inputs `[a,b]` should be `[a_grad, b_grad]`\r\n\r\n**My work to solve the problem** \r\nI checked the code in tensorflow/cc/framework/gradients.cc [L532](https://github.com/tensorflow/tensorflow/blob/07112a5c7e233989652ecac3184f0dd640e1462b/tensorflow/cc/framework/gradients.cc#L532) \r\n```c++\r\n    size_t dx_index = 0;\r\n    for (const Edge* e : n->in_edges()) {\r\n      if (e->IsControlEdge()) continue;\r\n      if (dx_index == dx.size()) {\r\n        return errors::Internal(\r\n            \"Invalid gradient output index: \", dx_index, \" size: \", dx.size());\r\n      }\r\n      TF_RETURN_IF_ERROR(\r\n          BackpropAlongEdge(dx[dx_index++], {e->src(), e->src_output()}));\r\n    }\r\n```\r\nI think `dx_index` in code should be `e->dst_input()`, because `in_edges() `returns a `unordered_set` which order is not match `dx`, the input index of edge is `dst_input()`.The right code may be:\r\n```c++\r\nfor (const Edge* e : n->in_edges()) {\r\n      if (e->IsControlEdge()) continue;\r\n      int dx_index = e->dst_input();\r\n      if (dx_index >= dx.size()) {\r\n        return errors::Internal(\"Invalid gradient output index: \", dx_index, \" size: \", dx.size());\r\n      }\r\n      TF_RETURN_IF_ERROR(BackpropAlongEdge(dx[dx_index], {e->src(), e->src_output()}));\r\n    }\r\n```\r\n\r\nAfter I modified the code, my program seems works fine.\r\n", "comments": ["@buaasun \r\ncould you please provide us with simple stand alone code for us to replicate the issue faced by you.", "@Saduf2019 @gowthamkpr \r\nThis error occurs with a low probability. `n->in_edges()` returns EdgeSet which contains `std::set<Edge*>`, so `in_edges` are ordered by the pointer of Edge. In most cases, pointers are allocated sequentially, so it works. But when executed many times, the error occurs randomly.\r\n\r\nI write a simple unit test as below.\r\n```c++\r\n\r\n#include \"tensorflow/cc/client/client_session.h\"\r\n#include \"tensorflow/cc/framework/grad_op_registry.h\"\r\n#include \"tensorflow/cc/framework/gradients.h\"\r\n#include \"tensorflow/cc/framework/testutil.h\"\r\n#include \"tensorflow/cc/ops/standard_ops.h\"\r\n#include \"tensorflow/core/framework/graph.pb.h\"\r\n#include \"tensorflow/core/framework/node_def_util.h\"\r\n#include \"tensorflow/core/framework/tensor_testutil.h\"\r\n#include \"tensorflow/core/lib/core/status_test_util.h\"\r\n#include \"tensorflow/core/platform/test.h\"\r\n\r\nnamespace tensorflow {\r\nnamespace {\r\nusing namespace ops;\r\n\r\nclass GradientsTest : public ::testing::Test {\r\n protected:\r\n  GradientsTest() {}\r\n\r\n  void TestSingle(const Scope& scope) {\r\n    int N = 5 + rand() % 10;\r\n    // Construct forward graph.\r\n    OutputList inputs;\r\n    for (int i = 0; i < N; ++i) {\r\n      auto a = Const(scope, i, {1});\r\n      inputs.push_back(a);\r\n    }\r\n\r\n    auto pack = Stack(scope, inputs);\r\n    TF_ASSERT_OK(scope.status());\r\n\r\n    // Construct grad inputs.\r\n    OutputList output_grads;\r\n    Tensor ts(DT_INT32, {N, 1});\r\n    auto v = ts.matrix<int32>();\r\n    for (int i = 0; i < N; ++i) {\r\n      v(i, 0) = i;\r\n    }\r\n    auto dy = Const(scope, ts);\r\n    output_grads.push_back(dy);\r\n    // Call AddSymbolicGradients.\r\n    std::vector<Output> grad_outputs;\r\n    TF_ASSERT_OK(AddSymbolicGradients(scope, {pack.output}, inputs, output_grads, &grad_outputs));\r\n    ClientSession session((scope));\r\n    std::vector<Tensor> in_grad;\r\n    TF_ASSERT_OK(session.Run(grad_outputs, &in_grad));\r\n    for (int i = 0; i < N; ++i) {\r\n      test::ExpectTensorEqual<int>(in_grad[i], test::AsTensor<int>({i}, {1}));\r\n    }\r\n  }\r\n};\r\nTEST_F(GradientsTest, SubScopeTest) {\r\n  Scope scope = Scope::NewRootScope();\r\n  for (int cnt = 0; cnt < 1000; ++cnt) {\r\n    LOG(INFO) << cnt;\r\n    TestSingle(scope.NewSubScope(std::to_string(cnt)));\r\n  }\r\n}\r\n\r\n}  // namespace\r\n}  // namespace tensorflow\r\n```\r\nAs in code, the test run 1000 cnts, about 5 of them failed.\r\n\r\n\r\n\r\n", "I don't work on TF anymore, sorry!", "Thanks for debugging this! Your proposal looks good. Would you like to send a PR for the fix?", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37593\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/37593\">No</a>\n"]}, {"number": 37592, "title": "Added preprocessing and corrected example of RGB images before feeding rgb_to_yub", "body": "Fixes #37591 .\r\n@mihaimaruseac - Please review.", "comments": ["Saw the issue. Let's try replacing the numbers in the existing example with numbers that match the preconditions and then let's also include the larger example you provided", "@mihaimaruseac , Then please suggest what is best to do?", "Ok let me try", "@mihaimaruseac , I have changed back again. Is it okay now?"]}, {"number": 37591, "title": "Example given in tf.image.rgb_to_yub is contadicting with the description.", "body": "## URL(s) with the issue:\r\nhttps://www.tensorflow.org/api_docs/python/tf/image/rgb_to_yuv?version=nightly\r\n\r\n## Description of issue (what needs changing):\r\n(1) The example image `x` has pixel values which are not in the range of [0,1]. So, it can't be fed to `rgb_to_yuv` directly without scaling it.\r\n(2) Users of the API need example which is close to practical scenario. In this case, nobody wants to see the values changed by the function but they want correct implementation and pre-processing example.\r\n\r\n### Submit a pull request? \r\nYes\r\n\r\n", "comments": []}]