[{"number": 24292, "title": "tf.contrib.saved_model.save_keras_model()", "body": "Please go to Stack Overflow for help and support:\r\n\r\nhttps://stackoverflow.com/questions/tagged/tensorflow\r\n\r\nIf you open a GitHub issue, here is our policy:\r\n\r\n1. It must be a bug, a feature request, or a significant problem with documentation (for small docs fixes please send a PR instead).\r\n2. The form below must be filled out.\r\n3. It shouldn't be a TensorBoard issue. Those go [here](https://github.com/tensorflow/tensorboard/issues).\r\n\r\n**Here's why we have that policy**: TensorFlow developers respond to issues. We want to focus on work that benefits the whole community, e.g., fixing bugs and adding features. Support only helps individuals. GitHub also notifies thousands of people when issues are filed. We want them to see you communicating an interesting problem, rather than being redirected to Stack Overflow.\r\n\r\n------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**:\r\n- **TensorFlow installed from (source or binary)**:\r\n- **TensorFlow version (use command below)**:\r\n- **Python version**:\r\n- **Bazel version (if compiling from source)**:\r\n- **GCC/Compiler version (if compiling from source)**:\r\n- **CUDA/cuDNN version**:\r\n- **GPU model and memory**:\r\n- **Exact command to reproduce**:\r\n\r\nYou can collect some of this information using our environment capture script:\r\n\r\nhttps://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh\r\n\r\nYou can obtain the TensorFlow version with:\r\n\r\n```bash\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n```\r\n\r\n### Describe the problem\r\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\r\n\r\n### Source code / logs\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n", "comments": ["If this is a bug/feature request, please provide clear information on the issue and fill the template. \r\nSince there is no issue description here, closing the issue. "]}, {"number": 24291, "title": "gtx 1050ti rog mining problem", "body": "ETH: 1 pool is specified\r\nMain Ethereum pool is eu1-etc.ethermine.org:4444\r\nDCR: 0 pool is specified\r\nNo AMD cards in the list.\r\n\r\nDriver 368.81 is recommended for best performance and compatibility\r\nBe careful with overclocking, use default clocks for first tests\r\nPress \"s\" for current statistics, \"0\"..\"9\" to turn on/off cards\r\nCUDA initializing...\r\n\r\nNVIDIA Cards available: 1\r\nCUDA Driver Version/Runtime Version: 9.2/6.5\r\nGPU #0: GeForce GTX 1050 Ti, 4096 MB available, 6 compute units, capability: 6.1\r\n\r\nTotal cards: 1\r\nETH: Stratum - connecting to 'eu1-etc.ethermine.org' <172.65.232.146> port 4444\r\nETH: Stratum - Connected (eu1-etc.ethermine.org:4444)\r\nNo pool specified for Decred! Ethereum-only mining mode is enabled\r\nETH: Authorized\r\nETHEREUM-ONLY MINING MODE ENABLED (-mode 1)\r\nETH: eth-proxy stratum mode\r\nWatchdog enabled\r\nRemote management is enabled on port 3333\r\n\r\nETH: Cannot find seed that was received from pool!\r\nSetting epoch failed.\r\nETH: Cannot find seed that was received from pool!\r\nSetting epoch failed.\r\nETH: 12/11/18-16:34:38 - New job from eu1-etc.ethermine.org:4444\r\nETH - Total Speed: 0.000 Mh/s, Total Shares: 0, Rejected: 0, Time: 00:00\r\nETH: GPU0 0.000 Mh/s\r\nETH: 12/11/18-16:34:50 - New job from eu1-etc.ethermine.org:4444\r\nETH - Total Speed: 0.000 Mh/s, Total Shares: 0, Rejected: 0, Time: 00:00\r\nETH: GPU0 0.000 Mh/s\r\nETH: 12/11/18-16:34:52 - New job from eu1-etc.ethermine.org:4444\r\nETH - Total Speed: 0.000 Mh/s, Total Shares: 0, Rejected: 0, Time: 00:00\r\nETH: GPU0 0.000 Mh/s\r\nGPU0 t=26C fan=100%\r\nWATCHDOG: GPU error, you need to restart miner :(\r\nRestarting OK, exit...\r\n\r\nwhat is this help\r\npls i dont know ", "comments": ["what is wrong w the gpu?\r\n", "How is this related to TensorFlow exactly?", "idk but i want this shit egt working so\r\n", "Apologies that we did not understand your issue clearly.\r\nIf this is a tensorflow related issue, request you to fill [this](https://github.com/tensorflow/tensorflow/issues/new/choose) template and submit a new issue. If it is a non-tensorflow related, request you to raise in the respective repository."]}, {"number": 24290, "title": "fix typo in _InsertQuantOp docstring", "body": "An argument of the function named \"consumer_scope\" is the restriction of consumer scope, not that of producer scope. ", "comments": []}, {"number": 24289, "title": "TFLITE for microcontroller installation fails", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary):\r\n- TensorFlow version:\r\n- Python version:\r\n- Installed using virtualenv? pip? conda?:\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\n\r\n\r\n**Describe the problem**\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\n\r\n**Any other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n", "comments": ["**System Information**\r\nOS: Linux Ubuntu 16.04\r\nTensorflow installed from sources\r\nTensorflow version: master \r\npython version: python 3.5\r\nNo bazel install needed for building this TFLITE for microcontroller\r\ngcc version: g++_5\r\n\r\n**Problem**\r\nWhen installing the dependencies of tensorflow lite for microcontroller with the following command: \r\nsource tensorflow/lite/experimental/micro/tools/make/download_dependencies.sh as explained in the following doc: https://github.com/tensorflow/tensorflow/tree/master/tensorflow/lite/experimental/micro , within the window of my VM, it started to execute and suddenly the window of the VM crashed and nothing got installed nor build. \r\n\r\n**History of commands**\r\ngit clone https://github.com/tensorflow/tensorflow.git\r\nsudo apt-get update\r\nsudo apt-get install g++\r\ncd tensorflow\r\nsource tensorflow/lite/experimental/micro/tools/make/download_dependencies.sh.\r\n", "Unfortunately I wasn't able to reproduce this. Are you still seeing it Corine? I'll close it for now, but let me know more reproduction steps and I can reopen it if it's still happening."]}, {"number": 24288, "title": "tensorflow.data.dataset and producing a sample weight with tf.py_func: ValueError: Found a sample_weight array with shape (?, 1). ", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\nYes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\nLinux Ubuntu 16.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary):\r\nbinary\r\n- TensorFlow version (use command below):\r\n1.12\r\n- Python version:\r\n3.6\r\n\r\n**Describe the current behavior**\r\n\r\nI have a dataset created with tf.data. In the map function that is called a sample_weight is retrieved from a Python dictionary. Because Tensorflow cannot know the shape of an value return by py_func I set the shape by sample_weight.set_shape(1). However, when calling model.fit() this results in\r\n\r\n> ValueError: Found a sample_weight array with shape (?, 1). In order to use timestep-wise sample weights, you should specify sample_weight_mode=\"temporal\" in compile(). If you just mean to use sample-wise weights, make sure your sample_weight array is 1D.\r\n\r\n**Describe the expected behavior**\r\n\r\nI want a 1D sample_weight\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```\r\ndef get_sample_weight(team, number):\r\n    # Some code\r\n    return np.array([0.5]).astype(np.float32) #return weight\r\n\r\ndef preprocess_tfrecord_example(example, sample_weights):\r\n    image = tf.image.decode_png(example['detection/encoded'])\r\n    team = example['detection/team_name']\r\n\r\n    sample_weight = tf.py_func(get_sample_weight, [team, example['detection/number']], tf.float32)\r\n    sample_weight.set_shape(1)\r\n    image = tf.image.resize_image_with_pad(image,56,108)\r\n\r\n    number = tf.expand_dims(tf.cast(example['detection/number'], tf.float32), -1)\r\n    return image/255., number, sample_weight\r\n\r\n```\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n", "comments": ["I solved it with adding an extra map:\r\n\r\n```\r\ndef set_shapes(x, y, sample_weights):\r\n            return x, y, tf.reshape(sample_weights, (images_per_batch,))\r\n\r\n        dataset = dataset.map(set_shapes)\r\n\r\n```\r\n\r\nHowever, I don't think this is the nicest solution. So maybe this is a feature request instead of a bug", "The example is not self-contained and thus not reproducible. Closing the issue as the user was able to solve their problem idiomatically (by using existing tf.data transformations)."]}, {"number": 24287, "title": "fix genop/internal/api_def_map.go cannot find package bug", "body": "run generate.sh will generate path ```${GOPATH}/src/github.com/tensorflow/tensorflow/tensorflow/go/genop/internal/proto/github.com/tensorflow/tensorflow/tensorflow/go/core/framework```\r\n\r\nbut in https://github.com/tensorflow/tensorflow/blob/master/tensorflow/go/genop/internal/api_def_map.go?L34#L34 \r\n\r\ntensorflow/tensorflow/go/genop/internal/api_def_map.go\r\n```go\r\nimport (\r\n//...\r\n\r\n//  line 34\r\npb \"github.com/tensorflow/tensorflow/tensorflow/go/genop/internal/proto/tensorflow/core/framework_go_proto\"\r\n)\r\n\r\n```\r\n\r\nrun ```go generate github.com/tensorflow/tensorflow/tensorflow/go/op``` will has cannot find package error\r\n\r\n```text\r\n../genop/internal/api_def_map.go:34:2: cannot find package \"github.com/tensorflow/tensorflow/tensorflow/go/genop/internal/proto/tensorflow/core/framework_go_proto\" in any of:\r\n\t/usr/local/go/src/github.com/tensorflow/tensorflow/tensorflow/go/genop/internal/proto/tensorflow/core/framework_go_proto (from $GOROOT)\r\n\t/home/qydev/go/src/github.com/tensorflow/tensorflow/tensorflow/go/genop/internal/proto/tensorflow/core/framework_go_proto (from $GOPATH)\r\ngo/src/github.com/tensorflow/tensorflow/tensorflow/go/op/generate.go:18: running \"go\": exit status 1\r\n```", "comments": ["\nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed (or fixed any issues), please reply here (e.g. `I signed it!`) and we'll verify it.\n\n----\n\n#### What to do if you already signed the CLA\n\n##### Individual signers\n\n*   It's possible we don't have your GitHub username or you're using a different email address on your commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n\n##### Corporate signers\n\n*   Your company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to [go/cla#troubleshoot](http://go/cla#troubleshoot) ([Public version](https://opensource.google.com/docs/cla/#troubleshoot)).\n*   The email used to register you as an authorized contributor must be the email used for the Git commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n*   The email used to register you as an authorized contributor must also be [attached to your GitHub account](https://github.com/settings/emails).\n\t\t\n\n<!-- need_sender_cla -->", "> Thanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\r\n> \r\n>  **Please visit https://cla.developers.google.com/ to sign.**\r\n> \r\n> Once you've signed (or fixed any issues), please reply here (e.g. `I signed it!`) and we'll verify it.\r\n> \r\n> #### What to do if you already signed the CLA\r\n> ##### Individual signers\r\n> * It's possible we don't have your GitHub username or you're using a different email address on your commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\r\n> \r\n> ##### Corporate signers\r\n> * Your company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to [go/cla#troubleshoot](http://go/cla#troubleshoot) ([Public version](https://opensource.google.com/docs/cla/#troubleshoot)).\r\n> * The email used to register you as an authorized contributor must be the email used for the Git commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\r\n> * The email used to register you as an authorized contributor must also be [attached to your GitHub account](https://github.com/settings/emails).\r\n\r\nI signed it!", "We found a Contributor License Agreement for you (the sender of this pull request), but were unable to find agreements for all the commit author(s) or Co-authors.  If you authored these, maybe you used a different email address in the git commits than was used to sign the CLA ([login here](https://cla.developers.google.com/) to double check)?  If these were authored by someone else, then they will need to sign a CLA as well, and confirm that they're okay with these being contributed to Google.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again. If the bot doesn't comment, it means it doesn't think anything has changed.\n\n<!-- need_author_cla -->", "I signed it!", "CLAs look good, thanks!\n\n<!-- ok -->", "@Xib1uvXi : Thanks for looking into this, though I don't quite understand the fix. Isn't the issue that the package name for the generated `.go` files from the `.proto`s doesn't match with what `api_def_map.go` is expecting?\r\n\r\nThe change here just changes the source path of the `.proto` files for `protoc`.", "Sent #24348 as the correct fix, I think :)\r\nThanks for pointing this out though!"]}, {"number": 24286, "title": "wrong command for cloning tensorflow in TF for microcontroller doc", "body": "<em>Please make sure that this is a documentation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:doc_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version: master\r\n- Doc Link: https://github.com/tensorflow/tensorflow/tree/master/tensorflow/lite/experimental/micro\r\n\r\n\r\n**Describe the documentation issue**\r\n\r\nIn \"Getting Started\" chapter, the command for cloning tensorflos is: \r\n\r\nDownload the TensorFlow source with git clone https://github.com/tensorflow\r\n\r\nIt should be : \r\n\r\ngit clone https://github.com/tensorflow/tensorflow.git\r\n\r\n**We welcome contributions by users. Will you be able to update submit a PR (use the [doc style guide](https://www.tensorflow.org/community/documentation)) to fix the doc Issue?**\r\n\r\nYes", "comments": ["Thanks for the report @clamagdeleine, \r\nI've got a fix inflight.\r\n\r\nIn the future, feel free to send a PR instead of an issue."]}, {"number": 24285, "title": "Raise appropriate errors in keras.layers.Layer.output and input.", "body": "**Describe the current behavior**\r\n\r\nWhen a layer has multiple nodes (shared layer) in `tensorflow.python.keras`, calling the method `Layer.output` or `Layer.output` returns only the first node created.\r\n\r\n**Describe the expected behavior**\r\nAs per the `keras` API and current documentation, the two properties should fail with an `AttributeError`. In addition, those two properties should fail if tensorflow is executing eagerly.", "comments": ["\nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed (or fixed any issues), please reply here (e.g. `I signed it!`) and we'll verify it.\n\n----\n\n#### What to do if you already signed the CLA\n\n##### Individual signers\n\n*   It's possible we don't have your GitHub username or you're using a different email address on your commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n\n##### Corporate signers\n\n*   Your company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to [go/cla#troubleshoot](http://go/cla#troubleshoot) ([Public version](https://opensource.google.com/docs/cla/#troubleshoot)).\n*   The email used to register you as an authorized contributor must be the email used for the Git commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n*   The email used to register you as an authorized contributor must also be [attached to your GitHub account](https://github.com/settings/emails).\n\t\t\n\n<!-- need_sender_cla -->", "Signed CLA.", "CLAs look good, thanks!\n\n<!-- ok -->", "Nagging Reviewer @fchollet: You have been added as a reviewer to this pull request. Please add your review or reassign. It has been 14 days with no activity and the `awaiting review` label has been applied.", "Due to recent changes, this PR is no longer valid:\r\n\r\n- We want to always return the first output as `layer.output`.\r\n- `layer.output` is meaningful in eager."]}, {"number": 24284, "title": "I ", "body": "# Convolutional Neural Network\r\n\r\n# Installing Theano\r\n# pip install --upgrade --no-deps git+git://github.com/Theano/Theano.git\r\n\r\n# Installing Tensorflow\r\n# pip install tensorflow\r\n\r\n# Installing Keras\r\n# pip install --upgrade keras\r\n\r\n# Part 1 - Building the CNN\r\n\r\n# Importing the Keras libraries and packages\r\nfrom keras.models import Sequential\r\nfrom keras.layers import Conv2D\r\nfrom keras.layers import MaxPooling2D\r\nfrom keras.layers import Flatten\r\nfrom keras.layers import Dense\r\n\r\n# Initialising the CNN\r\nclassifier = Sequential()\r\n\r\n# Step 1 - Convolution\r\nclassifier.add(Conv2D(32, (3, 3), input_shape = (64, 64, 3), activation = 'relu'))\r\n\r\n# Step 2 - Pooling\r\nclassifier.add(MaxPooling2D(pool_size = (2, 2)))\r\n\r\n# Adding a second convolutional layer\r\nclassifier.add(Conv2D(32, (3, 3), activation = 'relu'))\r\nclassifier.add(MaxPooling2D(pool_size = (2, 2)))\r\n\r\n# Step 3 - Flattening\r\nclassifier.add(Flatten())\r\n\r\n# Step 4 - Full connection\r\nclassifier.add(Dense(units = 128, activation = 'relu'))\r\nclassifier.add(Dense(units = 1, activation = 'sigmoid'))\r\n\r\n# Compiling the CNN\r\nclassifier.compile(optimizer = 'adam', loss = 'binary_crossentropy', metrics = ['accuracy'])\r\n\r\n# Part 2 - Fitting the CNN to the images\r\n\r\nfrom keras.preprocessing.image import ImageDataGenerator\r\n\r\ntrain_datagen = ImageDataGenerator(rescale = 1./255,\r\n                                   shear_range = 0.2,\r\n                                   zoom_range = 0.2,\r\n                                   horizontal_flip = True)\r\n\r\ntest_datagen = ImageDataGenerator(rescale = 1./255)\r\n\r\ntraining_set = train_datagen.flow_from_directory('dataset/training_set',\r\n                                                 target_size = (64, 64),\r\n                                                 batch_size = 32,\r\n                                                 class_mode = 'binary')\r\n\r\ntest_set = test_datagen.flow_from_directory('dataset/test_set',\r\n                                            target_size = (64, 64),\r\n                                            batch_size = 32,\r\n                                            class_mode = 'binary')\r\n\r\nclassifier.fit_generator(training_set,\r\n                         steps_per_epoch = 1000,\r\n                         epochs = 25,\r\n                         validation_data = test_set,\r\n                         validation_steps = 500)\r\n\r\nfrom keras.models import load_model\r\n\r\nclassifier.save('my_model.h5')  # creates a HDF5 file 'my_model.h5'\r\n\r\n\r\nclassifier = load_model('acanth.h5')\r\n\r\nimport numpy as np\r\nfrom keras.preprocessing import image\r\ntest_image = image.load_img('dataset/single_prediction/acanth.jpg', target_size = (64, 64))\r\ntest_image = image.img_to_array(test_image)\r\ntest_image = np.expand_dims(test_image, axis = 0)\r\nresult = classifier.predict(test_image)\r\ntraining_set.class_indices\r\nif result[0][0] == 0:\r\n    prediction = 'Acanthoplus'\r\nelse:\r\n    prediction = 'either cut worm or army worm'", "comments": ["You'll have a better changes of getting support if you format your bug report well and specify a descriptive title. If you want to abandon the issue you can close."]}, {"number": 24283, "title": "Make tf.image.convert_image_dtype() float to int conversions symmetric", "body": "When `tf.image.convert_image_dtype()` converts floating-point image data to integer types, it is currently scaling by `dtype.max + 0.5` and then truncating. This biases the converted values, and is not symmetric with respect to  the integer to floating-point transformation, which simply scales the integer values by `1. / dtype.max`. As a result, integer data values that are read from an image file, converted to floats in the [0, 1.0] range, perturbed only very slightly, and then converted back to an integer image type, may result in different pixel values than the original image (which is undesirable).\r\n\r\nThis PR changes the floating-point to integer conversion such that values are scaled by simply multiplying by `dtype.max` and rounding, which results in better numerical stability and symmetry with the conversion in the opposite direction.\r\n\r\nThe type conversion method in this PR is also more consistent with other image processing libraries. For example, the `scikit-image` (`skimage`) behavior is documented as:\r\n\r\n> By default...floating point values are scaled and rounded to the nearest integers, which minimizes back and forth conversion errors.", "comments": ["Nagging Reviewer @drpngx: It's been over a month since I submitted this PR. The suggested code change is minor but improves the numerical robustness of image type conversions. Is there any further information that I can provide to help with a timely review?", "@drpngx Hi, Could you PTAL and approve", "@annarev @yhliang2018  Can any of you please review this ?", "@drkoller Did you get a chance to look on reviewer comments? Please let us know on the update. Thanks!", "It has been 14 days with no activity and the `awaiting response` label was assigned. Is this PR still valid? Assigning the `stalled` label. Please comment to reassure me that this is still being worked on.", "I'm going to go ahead and close this PR, because it seems to have stalled. If you're still interested in pursing this (and responding to my comments), please feel free to reopen!"]}, {"number": 24282, "title": "Add `colors` support for `tf.image.draw_bounding_boxes`", "body": "\r\nThis fix tries to address the issue raised in #15692 where\r\nit was not possible to specify the colors for boxes in\r\n`tf.image.draw_bounding_boxes`. Instead, a predefined\r\nfixed color table was used to cycle through colors.\r\n\r\nThis fix adds `colors` Input to `DrawBoundingBoxexV2`\r\nso that it is possible to specify the color. In case\r\nno color is specified, the default color table will\r\nbe used.\r\n\r\nSince there is an API change, the op is labeled as V2.\r\n\r\nThis fix fixes #15692.\r\n\r\nSigned-off-by: Yong Tang <yong.tang.github@outlook.com>", "comments": ["@asimshankar @jaingaurav I take a look at the `colors` field, It is actually a list of RGBA colors so it is 2-D. Not sure it would be suitable for `Attr`. Should this be wrapped into 1-D (4 * colors) instead?", "Attribute values can be tensors as well (though the only real example of that is the [`Const` op](https://github.com/tensorflow/tensorflow/blob/c842394896de32c4160fc0f5f94dabf06890476d/tensorflow/core/ops/array_ops.cc#L697)), so you could still use an attribute.\r\n\r\nNow, whether this should be an attribute or an input pretty much depends on whether the list of colors is something that is computed in the graph or is static. The former is certainly more general.\r\n\r\nShouldn't this PR also set things up so that `tf.image.draw_bounding_boxes` has an `colors` argument?", "(From API review): Using an input seems appropriate for this. So, please go ahead and update `tf.image.draw_bounding_boxes` so that it uses the V2 op if there say a non-`None` `colors` argument or something like that. Thanks @yongtang !", "@asimshankar Thanks for the review. The PR has been updated with v1 pointing to old behavior and v2 allows colors input. Let me know if this is the expected implementation.", "Thanks @asimshankar for the review. The PR has been updated. Please take a look.", "@yongtang  Could you please look into the merging conflicts it has. Thanks !", "Thanks @hgadig for the help. The PR has been rebased with merge conflict resolved. Please take a look and let me know if there are any other issues.", "> Thanks @hgadig for the help. The PR has been rebased with merge conflict resolved. Please take a look and let me know if there are any other issues.\r\n\r\nThanks for fixing. Waiting for the approval by reviewer.", "@yongtang  Not sure why there are branch conflicts again after doing rebase. \r\n@alextp  Can we create a new PR for the same(by closing this) ? Or any other good suggestion to bypass these branch conflicts ? Please note that @yongtang  has already rebased. ", "@hgadig There were some changes in image_ops_impl.py (`combined_non_max_suppression`) which caused the merge conflict. Guess the `git diff` is not smart enough to find out they are unrelated to this PR. I have rebased and updated the PR to resolve the merge conflict. Please take a look.", "> @hgadig There were some changes in image_ops_impl.py (`combined_non_max_suppression`) which caused the merge conflict. Guess the `git diff` is not smart enough to find out they are unrelated to this PR. I have rebased and updated the PR to resolve the merge conflict. Please take a look.\r\n\r\nThank you !\r\n\r\n@alextp  Could you please approve it.", "Ping @hgadig to take a look. I rebased the PR as otherwise there is a merge conflict. Since the PR has been approved, wondering if there is anything else from that needs to be done? Would like to see this PR land soon.", "> Ping @hgadig to take a look. I rebased the PR as otherwise there is a merge conflict. Since the PR has been approved, wondering if there is anything else from that needs to be done? Would like to see this PR land soon.\r\n\r\nI do not see any approved(green tick mark) sign yet. Unless it is shown, I cannot proceed with the next steps.", "Thanks @hgadig for the help. I think @alextp already approved at one point. However, since there were merge conflicts, I rebased and pushed the PR several times. With the rebase, the approval comments were overridden.\r\n\r\n@alextp Could you take a look to see if everything is ok, and re-approve if it is fine?", "Nagging Reviewer @jaingaurav, @asimshankar: You have been added as a reviewer to this pull request. Please add your review or reassign. It has been 14 days with no activity and the `awaiting review` label has been applied.", "/cc @alextp to take a look. I rebased and updated PR of the last commit, as there were some changes in compat test recently.\r\n\r\nI think now all tests pass. The sanity test failed but it is unrelated and is being addressed in PR #27226."]}, {"number": 24281, "title": "Install Go TensorFlow error", "body": "**System information**\r\n- OS Platform and Distribution (Linux Ubuntu 18.10 x64)\r\n- Go Version: go version go1.11.2 linux/amd64\r\n\r\n\r\nI refer to this [guide](https://www.tensorflow.org/install/lang_go) to install Go TensorFlow, I have encountered some problems\r\n\r\n**Describe the problem**\r\n\r\ninstall TensorFlow-C\r\n\r\nrun shell in command line:\r\n\r\n```shell\r\n\r\n TF_TYPE=\"cpu\" # Change to \"gpu\" for GPU support\r\n TARGET_DIRECTORY='/usr/local'\r\n curl -L \\\r\n   \"https://storage.googleapis.com/tensorflow/libtensorflow/libtensorflow-${TF_TYPE}-$(go env GOOS)-x86_64-1.8.0.tar.gz\" |\r\n sudo tar -C $TARGET_DIRECTORY -xz\r\n\r\n```\r\n\r\n```shell\r\ncd /usr/local/lib\r\n\r\nls |grep *tensorflow*\r\n \r\nlibtensorflow.so\r\n```\r\n\r\n\r\n```shell\r\n\r\nsudo ldconfig\r\n\r\n```\r\n\r\n```shell\r\n\r\ngo get github.com/tensorflow/tensorflow/tensorflow/go\r\n\r\n```\r\n\r\nerror info\r\n\r\n```text\r\n# github.com/tensorflow/tensorflow/tensorflow/go\r\n/usr/bin/ld: $WORK/b001/_x003.o: in function `_cgo_8f42b3a84d7b_Cfunc_TF_AddGradientsWithPrefix':\r\n/tmp/go-build/cgo-gcc-prolog:63: undefined reference to `TF_AddGradientsWithPrefix'\r\ncollect2: error: ld returned 1 exit status\r\n```\r\n\r\nhow can i fix this problem\r\n", "comments": ["i also try ```go get -d github.com/tensorflow/tensorflow/tensorflow/go```, but run ```go test github.com/tensorflow/tensorflow/tensorflow/go```  has the same error\r\n\r\nerror info\r\n\r\n``` text\r\n# github.com/tensorflow/tensorflow/tensorflow/go\r\n/usr/bin/ld: $WORK/b048/_x003.o: in function `_cgo_8f42b3a84d7b_Cfunc_TF_AddGradientsWithPrefix':\r\n/tmp/go-build/cgo-gcc-prolog:63: undefined reference to `TF_AddGradientsWithPrefix'\r\ncollect2: error: ld returned 1 exit status\r\nFAIL\tgithub.com/tensorflow/tensorflow/tensorflow/go [build failed]\r\n```\r\n", "@Xib1uvXi : It seems you're installing an old version of the TensorFlow C library, too old for the Go code in the `master` branch. Perhaps you're somehow seeing a very old version of the website?\r\n\r\nTo move forward, I see two options:\r\n\r\n1. Use a newer version of the C library (as listed in the [installation page](https://www.tensorflow.org/install/lang_c)). Which should basically mean downloading `   https://storage.googleapis.com/tensorflow/libtensorflow/libtensorflow-${TF_TYPE}-$(go env GOOS)-x86_64-1.12.0.tar.gz` instead of `   https://storage.googleapis.com/tensorflow/libtensorflow/libtensorflow-${TF_TYPE}-$(go env GOOS)-x86_64-1.8.0.tar.gz` (notice the `1.12.0` instead of the `1.8.0` in the URL),\r\n\r\nOR\r\n\r\n2. Use an older snapshot of the Go code (compatible with the C library you have):\r\n\r\n```sh\r\ngo get -d github.com/tensorflow/tensorflow/tensorflow/go\r\ncd github.com/tensorflow/tensorflow/tensorflow/g\r\ngit checkout r1.8\r\n```\r\n\r\nHope that helps.\r\nI'm going to close this issue since the issue here seems to be because of following a stale version of the website. Feel free to re-open if I've misunderstood or if the problem persists. Thanks."]}, {"number": 24280, "title": "Why the source code of tensorflow 1.12.0 after installation is quite different from the source code in github?", "body": "I have installed tensorflow 1.12.0, when I check the source code inside python2.7/site-packages, I found some files are quite different from the code in github?\r\n\r\nSpecifically, /keras/engine/training.py and /keras/engine/training_utiles.py are different.\r\n\r\nMay I know what is the problem?", "comments": ["When looking at the code in github, make sure you are looking at the code for the tag 1.12.0, and not the code for the default master branch.\r\n\r\nFor example here is training_utils.py for the 1.12.0 tag:\r\nhttps://github.com/tensorflow/tensorflow/blob/v1.12.0/tensorflow/python/keras/engine/training_utils.py#L21-L23\r\n\r\nThat matches what I see on my system for lines 21 thru 23.\r\n\r\n\r\nIt is different from the code in the master branch under development:\r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/keras/engine/training_utils.py#L21-L23", "Thanks for your reply.\r\nWhat should I do if i want to use the dev code?\r\nMay I just copy the keras module of dev code into the tensorflow path?", "If you want to use dev code, you need to use the nightly builds\r\n\r\npip install tf-nightly   or (tf-nightly-gpu)\r\n\r\nor use the docker container with the name nightly in it:\r\nhttps://hub.docker.com/r/tensorflow/tensorflow/tags/", "Well, thanks so much for your help.\n\n> \u5728 2018\u5e7412\u670813\u65e5\uff0c21:59\uff0cWilliam D. Irons <notifications@github.com> \u5199\u9053\uff1a\n> \n> If you want to use dev code, you need to use the nightly builds\n> \n> pip install tf-nightly or (tf-nightly-gpu)\n> \n> or use the docker container with the name nightly in it:\n> https://hub.docker.com/r/tensorflow/tensorflow/tags/ <https://hub.docker.com/r/tensorflow/tensorflow/tags/>\n> \u2014\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub <https://github.com/tensorflow/tensorflow/issues/24280#issuecomment-446976318>, or mute the thread <https://github.com/notifications/unsubscribe-auth/AfsCJ2tu25Oola5jAX65O8aK4-zCeT2-ks5u4l1MgaJpZM4ZMiNb>.\n> \n\n", "Closing this issue since its resolved. Feel free to reopen if have further follow up questions. Thanks!"]}, {"number": 24279, "title": "fix typo in scatter_nd_add docstring", "body": "The default value of use_locking argument described twice with different values.", "comments": ["\nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed (or fixed any issues), please reply here (e.g. `I signed it!`) and we'll verify it.\n\n----\n\n#### What to do if you already signed the CLA\n\n##### Individual signers\n\n*   It's possible we don't have your GitHub username or you're using a different email address on your commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n\n##### Corporate signers\n\n*   Your company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to [go/cla#troubleshoot](http://go/cla#troubleshoot) ([Public version](https://opensource.google.com/docs/cla/#troubleshoot)).\n*   The email used to register you as an authorized contributor must be the email used for the Git commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n*   The email used to register you as an authorized contributor must also be [attached to your GitHub account](https://github.com/settings/emails).\n\t\t\n\n<!-- need_sender_cla -->", "I signed it. Thanks.", "CLAs look good, thanks!\n\n<!-- ok -->"]}, {"number": 24278, "title": "Fix warning caused by to_int32", "body": "While running tf.keras I noticed the following warning:\r\n```\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-\r\n  packages/tensorflow/python/ops/math_ops.py:3064: \r\n  to_int32 (from tensorflow.python.ops.math_ops) is \r\n  deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse tf.cast instead.\r\n```\r\n\r\nThis fix fixes the warning caused by deprecated to_int32.\r\n\r\nSigned-off-by: Yong Tang <yong.tang.github@outlook.com>", "comments": ["Nagging Reviewer @yifeif: You have been added as a reviewer to this pull request. Please add your review or reassign. It has been 14 days with no activity and the `awaiting review` label has been applied.", "Please can someone help me on how to solve this? Thanks in advance\r\n\r\nWARNING:tensorflow:From /home/mypath/envs/tensorflow/lib/python3.7/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse tf.cast instead.\r\n(tensorflow) ", "@GbengaOdesanmi The issue has been resolved and will be part of the next release. In the mean time, it is just a warning so it will not actually impact your application run."]}, {"number": 24277, "title": "Attributeerror: module tensorflow.contrib.lite.python.lite has no attribute TFLiteConverter", "body": "**System information**\r\n- Raspberry Pi 3B+ Linux\r\n- TensorFlow installed in Python using pip3; TensorFlow Lite installed and built (static library) from source\r\n- TensorFlow version (installed in Python) is 1.11.0\r\n\r\nTrying to convert a frozen graph file (.pb) to a TensorFlow Lite FlatBuffer file (.tflite), I am getting the error:\r\nAttributeerror: module 'tensorflow.contrib.lite.python.lite' has no attribute 'TFLiteConverter'.\r\n\r\nHere is the Python code (derived from https://www.tensorflow.org/lite/convert/python_api):\r\n\r\n#!/usr/bin/python3\r\nimport tensorflow as tf\r\nprint(\"tf version = \" + tf.__version__)\r\ngraph_def_file = \"/home/pi/sols/demo/src/image_classification/network/fruit_models/frozen_graph.pb\"\r\ninput_arrays = [\"X\"]\r\noutput_arrays = [\"softmax\"]\r\nconverter = tf.contrib.lite.TFLiteConverter.from_frozen_graph(\r\n  graph_def_file, input_arrays, output_arrays)\r\ntflite_model = converter.convert()\r\nopen(\"converted_model.tflite\", \"wb\").write(tflite_model)\r\n\r\nPlease help!\r\n", "comments": ["Created new issue:  https://github.com/tensorflow/tensorflow/issues/24323\r\n"]}, {"number": 24276, "title": "When train a model with Dataset, model.predict() does not work properly", "body": "\r\n**Describe the current behavior**\r\nIn Tensorflow's guide about feeding a model with dataset: Input tf.data datasets. The way given by the example to use dataset to train and predict cannot work properly.\r\nVersion used: **1.12.0**\r\n\r\n**Describe the expected behavior**\r\nmodel.predict() will return the correct predicted value for the given data.\r\n\r\n**Code to reproduce the issue**\r\n```\r\nmodel = tf.keras.Sequential([\r\nlayers.Dense(64, activation='relu'),\r\nlayers.Dense(64, activation='relu'),\r\nlayers.Dense(10, activation='softmax')])\r\nmodel.compile(optimizer=tf.train.AdamOptimizer(0.001),\r\n              loss='categorical_crossentropy',\r\n              metrics=['accuracy'])\r\ndata = np.random.random((1000, 32)).astype(np.float32)\r\nlabels = np.random.random((1000, 10)).astype(np.float32)\r\ndataset = tf.data.Dataset.from_tensor_slices((data, labels))\r\ndataset = dataset.batch(32)\r\ndataset = dataset.repeat()\r\nmodel.fit(dataset, epochs=10, steps_per_epoch=30)\r\nresult = model.predict(data, batch_size=32)\r\nprint(result.shape)\r\n```\r\n**Other info / logs**\r\nStack trace:\r\n\r\n> Traceback (most recent call last):\r\n>   File \"xxx.py\", line 255, in <module>\r\n>     result = model.predict(data, batch_size=32)\r\n>   File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/keras/engine/training.py\", line 1864, in predict\r\n>     x, check_steps=True, steps_name='steps', steps=steps)\r\n>   File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/keras/engine/training.py\", line 992, in _standardize_user_data\r\n>     class_weight, batch_size)\r\n>   File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/keras/engine/training.py\", line 1117, in _standardize_weights\r\n>     exception_prefix='input')\r\n>   File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/keras/engine/training_utils.py\", line 257, in standardize_input_data\r\n>     'expected no data, but got:', data)\r\n> ValueError: ('Error when checking model input: expected no data, but got:', array([[5.7695776e-01, 2.4554299e-01, 6.4072663e-01, ..., 5.3916293e-01,\r\n>         5.7996696e-01, 1.7735572e-05],\r\n>        [9.4239563e-01, 6.3614279e-01, 5.1306045e-01, ..., 3.2898217e-01,\r\n>         1.9013086e-01, 1.5709637e-01],\r\n>        [9.4871348e-01, 3.7692937e-01, 1.2676715e-02, ..., 2.7022544e-01,\r\n>         7.6909864e-01, 8.5889444e-02],\r\n>        ...,\r\n>        [8.3822417e-01, 9.3324584e-01, 8.0759123e-02, ..., 1.3924435e-01,\r\n>         2.8058958e-01, 3.2993883e-01],\r\n>        [8.9985609e-01, 1.6618696e-01, 2.4748170e-01, ..., 5.6301647e-01,\r\n>         6.0354501e-01, 1.3682739e-01],\r\n>        [2.7904582e-01, 8.5806495e-01, 1.5504396e-01, ..., 3.0398217e-01,\r\n>         4.7553891e-01, 4.4561669e-01]], dtype=float32))\r\n", "comments": ["@ChesterWQC I could reproduce the issue with tf 1.12.0, but when I tried with tf-nightly it worked fine.\r\n\r\nCould you give tf-nightly a try and see if the issue has been fixed?", "@yongtang Thanks for the quick response!\r\nI just tried with tf-nightly build, it did behave differently and seems to be working fine.\r\nI was wondering how soon can we expect this bug to be fixed in official release build?\r\nThanks.", "@ChesterWQC I don't know enough about the release schedule, though I assume the changes will show up in 1.13 (not knowing the date yet).", "@yongtang Thanks! Good to know that. I'm closing this issue.", "Are you satisfied with the resolution of your issue?<br> [Yes](https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=24276)<br> [No](https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=24276)\r\n"]}, {"number": 24275, "title": "TFTRT: Add more node validators", "body": "Add validators for:\r\n\r\n- MaxPool\r\n- AvgPool\r\n- FusedBatchNorm\r\n- FusedBatchNormV2\r\n- Pad\r\n- Conv2D\r\n- DepthwiseConv2DNative\r\n- ConcatV2\r\n\r\n\r\nAlso fix a bug in test/quantization_mnist_test.py", "comments": ["Thanks for reviewing @smit-hinsu ! Sorry to bother you again but I made one more small change.", "Thanks @trevor-m for adding these checks! Not a must for this PR, but it would be great to add test coverage for those ops.", "So there's good news and bad news.\n\n:thumbsup: The good news is that everyone that needs to sign a CLA (the pull request submitter and all commit authors) have done so.  Everything is all good there.\n\n:confused: The bad news is that it appears that one or more commits were authored or co-authored by someone other than the pull request submitter.  We need to confirm that all authors are ok with their commits being contributed to this project.  Please have them confirm that here in the pull request.\n\n*Note to project maintainer: This is a terminal state, meaning the `cla/google` commit status will not change from this state. It's up to you to confirm consent of all the commit author(s), set the `cla` label to `yes` (if enabled on your project), and then merge this pull request when appropriate.*\n\n<!-- need_author_consent -->", "Weird, CLA didn't like that. I will fix it in the morning.\r\n> Co-Authored-By: trevor-m <tmorris@nvidia.com>\r\n", "A Googler has manually verified that the CLAs look good.\n\n(Googler, please make sure the reason for overriding the CLA status is clearly documented in these comments.)\n\n<!-- cla_yes -->"]}, {"number": 24274, "title": "model uses GPU memory even for explicit CPU calls and fails", "body": "Hello,\r\n\r\nEvery bit of my code remains on the CPU until model.fit() is called as below:\r\n\r\nwith tf.device('/cpu:0'):\r\n    model.fit(ar_train_data,train_label,validation_data=(ar_valid_data,valid_label),epochs=10,batch_size=batch_size)\r\nAs seen, am trying to run the code explicitly on CPU but, it doesn't seem to work and the model takes up all of the free GPU. (PID 4469 is my process as suggested)\r\nEven, on trying to run on GPU the Jupyter notebook kernel just crashes when model.fit() is called.\r\n\r\n![49684205-9ac06900-faf6-11e8-8825-890c938a6e79](https://user-images.githubusercontent.com/42785357/49767165-4d760000-fc8c-11e8-8fdf-b173c627f4c5.png)\r\n\r\nI tried controlling this behaviour such that it uses 50 pc GPU like so, but that didn't work either:\r\n\r\nconfig = tf.ConfigProto(device_count={'GPU':1,'CPU':1})\r\nconfig.gpu_options.allow_growth = True\r\nconfig.gpu_options.per_process_gpu_memory_fraction = 0.5\r\nsess = tf.Session(config=config)\r\nk.set_session(sess)\r\nKeras version: 2.2.4\r\nTensorflow version: 1.5.0\r\n\r\nCan anyone help here?\r\nIs there any issue with my versions?\r\n\r\nRegards", "comments": []}, {"number": 24273, "title": "Enable dataset.map to respect seeds from the outer context", "body": "This PR fix #23789. It enables `dataset.map` to respect seeds from the outer context.", "comments": ["@mrry @jsimsa Could you help review this PR when you have time?", "@shivaniag could you please take a look and decide whether it is aligned with your changes? thanks\r\n", "Keeping this on hold, since this will get fixed with switching to the new python function implementation. ", "This has been fixed. "]}, {"number": 24272, "title": "Fix for mkl small memory allocator to reduce lock overhead.", "body": "This change is done to improve the performance of models with small size tensors where the bottleneck is in the memory allocation rather than the actual compute. The map keeping track of small allocations has been re-purposed to instead keep track of large allocations so that the access overhead is small. Also the mutex in the small allocation critical path has been removed to match default cpu allocator implementation. ", "comments": ["\nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed (or fixed any issues), please reply here (e.g. `I signed it!`) and we'll verify it.\n\n----\n\n#### What to do if you already signed the CLA\n\n##### Individual signers\n\n*   It's possible we don't have your GitHub username or you're using a different email address on your commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n\n##### Corporate signers\n\n*   Your company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to [go/cla#troubleshoot](http://go/cla#troubleshoot) ([Public version](https://opensource.google.com/docs/cla/#troubleshoot)).\n*   The email used to register you as an authorized contributor must be the email used for the Git commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n*   The email used to register you as an authorized contributor must also be [attached to your GitHub account](https://github.com/settings/emails).\n\t\t\n\n<!-- need_sender_cla -->", "I signed it!", "Hi\r\nI have signed the CLA. Can you please verify.", "@ymodak I have signed the CLA. Please take a look at the PR.", "@Srini511  Unfortunately I was not able to verify your CLA. I apologize for the delay here, but do you mind [signing the CLA](https://cla.developers.google.com/clas) again ?", "@Srini511 I can't find your CLA either. Did you sign the it with this username? Did you also provide the email address? If so, what email did you use? I think signing it again is a good idea too.", "@Srini511 Please make sure that [your email is set in your git configurations](https://help.github.com/articles/setting-your-commit-email-address-in-git/). The email that you pushes the commit from must be the same as the one you link to your github account, and your github account and email must match on the CLA.", "> @Srini511 Unfortunately I was not able to verify your CLA. I apologize for the delay here, but do you mind [signing the CLA](https://cla.developers.google.com/clas) again ?\r\n\r\n@ymodak @penpornk  \"Google Corporate CLA | Intel CLA Submissions | Nov 25, 2014 14:48 PST\". This is what i see.  I see this only if i sign in with my intel email id. My email id is srinivasan.narayanamoorthy@intel.com\r\n\r\n\r\n\r\n", "@Srini511 I see. Your CLA only has your Intel email and doesn't have your github username. And your email associated with the commit is sriniva2@nervana-skx60.fm.intel.com (which is probably git's default value for your email address, derived from your hostname). So the system can't find your CLA. How about [setting your email in your git configurations to your Intel address](https://help.github.com/articles/setting-your-commit-email-address-in-git/)? Please discard the old commit and make a new one after you set your email.\r\n\r\nOr you can try adding your github username to your CLA as well. ", "Thankyou @penpornk and @ymodak . I have created a new PR and it seems to have the cla. Will be closing this one.\r\nhttps://github.com/tensorflow/tensorflow/pull/24777. \r\n\r\n"]}, {"number": 24271, "title": "Add raise statement before NotImplementedError", "body": "", "comments": []}, {"number": 24270, "title": "NameError: name 'disclaim_key_flags' is not defined", "body": "After update version 1.12 the error shows as below;\r\n----> 1 import tensorflow as tf\r\n\r\n~/anaconda3/lib/python3.6/site-packages/tensorflow/__init__.py in <module>()\r\n     20\r\n     21 # pylint: disable=g-bad-import-order\r\n---> 22 from tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-import\r\n     23\r\n     24 try:\r\n\r\n~/anaconda3/lib/python3.6/site-packages/tensorflow/python/__init__.py in <module>()\r\n     61\r\n     62 # Framework\r\n---> 63 from tensorflow.python.framework.framework_lib import *  # pylint: disable=redefined-builtin\r\n     64 from tensorflow.python.framework.versions import *\r\n     65 from tensorflow.python.framework import errors\r\n\r\n~/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/framework_lib.py in <module>()\r\n     23 # Classes used when building a Graph.\r\n     24 from tensorflow.python.framework.device import DeviceSpec\r\n---> 25 from tensorflow.python.framework.ops import Graph\r\n     26 from tensorflow.python.framework.ops import Operation\r\n     27 from tensorflow.python.framework.ops import Tensor\r\n\r\n~/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/ops.py in <module>()\r\n     53 from tensorflow.python.framework import versions\r\n     54 from tensorflow.python.ops import control_flow_util\r\n---> 55 from tensorflow.python.platform import app\r\n     56 from tensorflow.python.platform import tf_logging as logging\r\n     57 from tensorflow.python.util import compat\r\n\r\n~/anaconda3/lib/python3.6/site-packages/tensorflow/python/platform/app.py in <module>()\r\n     22 import sys as _sys\r\n     23\r\n---> 24 from tensorflow.python.platform import flags\r\n     25 from tensorflow.python.util.tf_export import tf_export\r\n     26\r\n\r\n~/anaconda3/lib/python3.6/site-packages/tensorflow/python/platform/flags.py in <module>()\r\n     31 # Since we wrap absl.flags DEFINE functions, we need to declare this module\r\n     32 # does not affect key flags.\r\n---> 33 disclaim_key_flags()  # pylint: disable=undefined-variable\r\n     34\r\n     35\r\n\r\nNameError: name 'disclaim_key_flags' is not defined\r\n\r\nplease help!!", "comments": ["Please upgrade pip version and retry. Also request you to fill [this ](https://github.com/tensorflow/tensorflow/issues/new/choose)template which helps us to look into this in  detail. Thank you !", "It has been 29 days with no activity and the `awaiting response` label was assigned. Is this still an issue?", "Thanks. The issue was solved.", "Hi i came across the same issue and haven't found the answer through pip upgrade and reinstall\r\n\r\nhere is what i got back \r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 47, in <module>\r\n    import tensorflow as tf\r\n  File \"C:\\Users\\Nirvaan Garg\\Python\\lib\\site-packages\\tensorflow\\__init__.py\", line 24, in <module>\r\n    from tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-import\r\n  File \"C:\\Users\\Nirvaan Garg\\Python\\lib\\site-packages\\tensorflow\\python\\__init__.py\", line 63, in <module>\r\n    from tensorflow.python.framework.framework_lib import *  # pylint: disable=redefined-builtin\r\n  File \"C:\\Users\\Nirvaan Garg\\Python\\lib\\site-packages\\tensorflow\\python\\framework\\framework_lib.py\", line 25, in <module>\r\n    from tensorflow.python.framework.ops import Graph\r\n  File \"C:\\Users\\Nirvaan Garg\\Python\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 53, in <module>\r\n    from tensorflow.python.platform import app\r\n  File \"C:\\Users\\Nirvaan Garg\\Python\\lib\\site-packages\\tensorflow\\python\\platform\\app.py\", line 24, in <module>\r\n    from tensorflow.python.platform import flags\r\n  File \"C:\\Users\\Nirvaan Garg\\Python\\lib\\site-packages\\tensorflow\\python\\platform\\flags.py\", line 33, in <module>\r\n    disclaim_key_flags()  # pylint: disable=undefined-variable\r\nNameError: name 'disclaim_key_flags' is not defined\r\n\r\n(base) C:\\Users\\Nirvaan Garg\\Documents\\Python code for work\\TI_OD\\Object Detection>pip install -U pip\r\nRequirement already up-to-date: pip in c:\\users\\nirvaan garg\\python\\lib\\site-packages (19.0.3)\r\n\r\nwould love a response on this please, thank you for your help"]}, {"number": 24269, "title": "[tensor_forest] Add total variance in the additional_data of tree leaf", "body": "To support total variance on forest level, we need to add total variance to tree level \r\n\r\nThis pr add variance to the leaf  during export the leaf for regression task", "comments": ["It has been 14 days with no activity and the `awaiting response` label was assigned. Is this PR still valid? Assigning the `stalled` label. Please comment to reassure me that this is still being worked on.", "I'm going to go ahead and close this PR, because it seems to have stalled. If you're still interested in pursing this (and responding to my comments), please feel free to reopen!"]}, {"number": 24267, "title": "Pruning\uff1a RuntimeError: Run called even after should_stop requested.", "body": "Hello\uff0c when i run the code \"model_pruning example\", I change the parameter \"max_steps\" equal to 500, there is a bug: \"RuntimeError: Run called even after should_stop requested.\" at \"mon_sess.run(mask_update_op)\". Can you tell me the reason? Thank you very much!", "comments": ["This question is better asked on [StackOverflow](http://stackoverflow.com/questions/tagged//tensorflow) since it is not a bug or feature request. There is also a larger community that reads questions there.\r\nWe encourage users to post a feature request/bug here."]}, {"number": 24265, "title": "tf.data equivalent for tf.estimator.inputs.numpy_input_fn", "body": "**System information**\r\n- TensorFlow version (you are using): 1.11.0\r\n- Are you willing to contribute it (Yes/No): No\r\n\r\n**Describe the feature and the current behavior/state.**\r\n\r\nUsing `tf.estimator.inputs.numpy_input_fn` in current TensorFlow raises deprecation warnings and suggests using tf.data instead. Unfortunately, tf.data does not have exact replacement. Moreover, [`tf.estimator.inputs.numpy_input_fn` seems to be working out-of-box](https://stackoverflow.com/questions/53677345/passing-2gb-data-to-tf-estimator) for some problems where tf.data raises errors and needs workarounds.\r\n\r\n**Will this change the current api? How?**\r\n\r\nProvide replacement function in tf.data:\r\n`tf.estimator.inputs.numpy_input_fn` -> `tf.data.numpy_input_fn`\r\n\r\n**Who will benefit with this feature?**\r\n\r\nAnyone using numpy arrays as input for TensorFlow. Especially for arrays >2GB large. \r\n\r\n**Any Other info.**\r\n\r\nNone.\r\n", "comments": ["@karmel  Is there any equivalent op for the same ? Or can this be considered as a feature request ?", "It would be great to have a replacement since the numpy_input_fn is one way of [avoiding large `event` files](https://github.com/tensorflow/tensorboard/issues/1252) when running tf.estimator.\r\n\r\n", "@twolodzko @sgasse I am experimenting with GRPCDataset which allows you to `pull` numpy array data in batches and provide a `tf.data` to be used: https://github.com/tensorflow/io/pull/206\r\n\r\nIt does not convert numpy array into tf.constant, could take a look if it is useful.", "@twolodzko,\r\nCan you please let us know if [this PR](https://github.com/tensorflow/io/pull/206) and [this comment](https://github.com/tensorflow/tensorflow/issues/24265#issuecomment-487303248) has implemented the Feature you are looking for? Thanks!", "@rmothukuru @yongtang sounds like it, but hard to give a more specific comment since the issue was raised in 2018, and also TF has undergone some major changes since then.", "@twolodzko,\r\nThank you for your response. \r\n\r\nClosing the issue as it has been resolved. Thanks!"]}, {"number": 24264, "title": "fix hadoop_file_system's bug when not provide namenode info", "body": "When we use the Hadoop File System, if we do not provide namenode info, \r\nsuch as the URI is viewfs:///nn01/hadoop/serving/mnist_model \r\ninstead of viewfs://hadoop-namenode/nn01/hadoop/serving/mnist_model \r\nwith namenode info, then we can't connect HDFS correctly.\r\n\r\nIn this situation, we should connect HDFS use default namenode info, as the native HDFS semantics.", "comments": ["Can you modify the logic for the `hdfs://` section as well ? ", "I was thinking something like this would be enough \r\n```c++\r\ndiff --git a/tensorflow/core/platform/hadoop/hadoop_file_system.cc b/tensorflow/core/platform/hadoop/hadoop_file_system.cc\r\nindex eb35531..3a4954c 100644\r\n--- a/tensorflow/core/platform/hadoop/hadoop_file_system.cc\r\n+++ b/tensorflow/core/platform/hadoop/hadoop_file_system.cc\r\n@@ -164,7 +164,7 @@ Status HadoopFileSystem::Connect(StringPiece fname, hdfsFS* fs) {\r\n     // https://github.com/tensorflow/tensorflow/blob/v1.0.0/third_party/hadoop/hdfs.h#L259\r\n     hdfs_->hdfsBuilderSetNameNode(builder, \"default\");\r\n   } else {\r\n-    hdfs_->hdfsBuilderSetNameNode(builder, nn.c_str());\r\n+    hdfs_->hdfsBuilderSetNameNode(builder, nn == \"\" ? \"default\" : nn.c_str());\r\n   }\r\n   // KERB_TICKET_CACHE_PATH will be deleted in the future, Because KRB5CCNAME is\r\n   // the build in environment variable of Kerberos, so KERB_TICKET_CACHE_PATH\r\n``` ", "@pavanky Thanks for your supplement. I'll update this PR.", "Nagging Reviewer @martinwicke: You have been added as a reviewer to this pull request. Please add your review or reassign. It has been 44 days with no activity and the `awaiting review` label has been applied."]}, {"number": 24263, "title": "TFLite Image recognization app is getting crashed with model Inception_resnet_V2", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):NO\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):Ubuntu 16.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary):binary\r\n- TensorFlow version (use command below):\r\n- Python version:3.0\r\n- Bazel version (if compiling from source):[bazel release 0.16.1]\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\n\r\n**Describe the current behavior**;\r\nIm using the source code from below repo:https://github.com/tensorflow/tensorflow/tree/master/tensorflow/lite/examples/android/app\r\nCompiled using the readme in above link\r\nThe app works fine without any changes.\r\n\r\nEnabled:\r\nsetUseNNAPI(true) \r\nChanged buffer size for float model:\r\nDIM_IMG_SIZE_X = 299;\r\nDIM_IMG_SIZE_Y = 299;\r\nIMAGE_MEAN = 128;\r\nIMAGE_STD = 128.0f;\r\n\r\nDownloaded float inception resnet v2 model from: https://www.tensorflow.org/lite/models#other_models\r\nunziped and placed in assests folder of source code: tensorflow/tensorflow/contrib/lite/examples/android/app/src/main/assets\r\nRenamed the model name in ClassifierActivity.java\r\n\r\nCompiled the app using bazel\r\nWhile launching the app it crashed with File not found exception as below\r\n====================================================================\r\n12-10 11:09:02.319 15168 15168 I tensorflow: CameraActivity: Camera API lv2?: true\r\n12-10 11:09:02.324 15168 15168 D tensorflow: CameraActivity: onStart org.tensorflow.demo.ClassifierActivity@ada003c\r\n12-10 11:09:02.324 15168 15168 D tensorflow: CameraActivity: onResume org.tensorflow.demo.ClassifierActivity@ada003c\r\n12-10 11:09:02.359 15168 15168 I tensorflow: CameraConnectionFragment: Desired size: 640x480, min size: 480x480\r\n12-10 11:09:02.359 15168 15168 I tensorflow: CameraConnectionFragment: Valid preview sizes: [640x480, 800x600, 864x480, 960x544, 960x720, 1024x576, 1184x656, 1280x720, 1280x960]\r\n12-10 11:09:02.360 15168 15168 I tensorflow: CameraConnectionFragment: Rejected preview sizes: [160x120, 320x176, 320x240, 432x240, 544x288, 640x360, 752x416, 800x448]\r\n12-10 11:09:02.360 15168 15168 I tensorflow: CameraConnectionFragment: Exact size match found.\r\n12-10 11:09:02.361 15168 15168 E TFLiteImageClassifier: Reading labels from: inception_v3_labels.txt\r\n12-10 11:09:02.366 15168 15168 D AndroidRuntime: Shutting down VM\r\n--------- beginning of crash\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: FATAL EXCEPTION: main\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: Process: org.tensorflow.lite.demo, PID: 15168\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: java.lang.RuntimeException: java.io.FileNotFoundException: inception_resnet_v2.tflite\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat org.tensorflow.demo.TFLiteImageClassifier.create(TFLiteImageClassifier.java:124)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat org.tensorflow.demo.ClassifierActivity.onPreviewSizeChosen(ClassifierActivity.java:105)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat org.tensorflow.demo.CameraActivity$5.onPreviewSizeChosen(CameraActivity.java:362)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat org.tensorflow.demo.CameraConnectionFragment.setUpCameraOutputs(CameraConnectionFragment.java:401)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat org.tensorflow.demo.CameraConnectionFragment.openCamera(CameraConnectionFragment.java:408)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat org.tensorflow.demo.CameraConnectionFragment.access$000(CameraConnectionFragment.java:64)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat org.tensorflow.demo.CameraConnectionFragment$1.onSurfaceTextureAvailable(CameraConnectionFragment.java:95)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.TextureView.getTextureLayer(TextureView.java:390)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.TextureView.draw(TextureView.java:339)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.View.updateDisplayListIfDirty(View.java:19082)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.View.draw(View.java:19935)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ViewGroup.drawChild(ViewGroup.java:4333)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:4112)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.View.updateDisplayListIfDirty(View.java:19073)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.View.draw(View.java:19935)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ViewGroup.drawChild(ViewGroup.java:4333)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:4112)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.View.draw(View.java:20210)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.View.updateDisplayListIfDirty(View.java:19082)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.View.draw(View.java:19935)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ViewGroup.drawChild(ViewGroup.java:4333)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:4112)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.View.updateDisplayListIfDirty(View.java:19073)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.View.draw(View.java:19935)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ViewGroup.drawChild(ViewGroup.java:4333)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:4112)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.View.updateDisplayListIfDirty(View.java:19073)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.View.draw(View.java:19935)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ViewGroup.drawChild(ViewGroup.java:4333)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:4112)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.View.draw(View.java:20210)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat com.android.internal.policy.DecorView.draw(DecorView.java:780)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.View.updateDisplayListIfDirty(View.java:19082)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:686)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:692)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ThreadedRenderer.draw(ThreadedRenderer.java:801)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ViewRootImpl.draw(ViewRootImpl.java:3312)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ViewRootImpl.performDraw(ViewRootImpl.java:3116)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2485)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1460)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7184)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.Choreographer$CallbackRecord.run(Choreographer.java:949)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.Choreographer.doCallbacks(Choreographer.java:761)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.Choreographer.doFrame(Choreographer.java:696)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:935)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.os.Handler.handleCallback(Handler.java:873)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.os.Looper.loop(Looper.java:193)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.app.ActivityThread.main(ActivityThread.java:6669)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat java.lang.reflect.Method.invoke(Native Method)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: Caused by: java.io.FileNotFoundException: inception_resnet_v2.tflite\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.content.res.AssetManager.nativeOpenAssetFd(Native Method)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat android.content.res.AssetManager.openFd(AssetManager.java:768)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat org.tensorflow.demo.TFLiteImageClassifier.loadModelFile(TFLiteImageClassifier.java:77)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \tat org.tensorflow.demo.TFLiteImageClassifier.create(TFLiteImageClassifier.java:122)\r\n12-10 11:09:02.368 15168 15168 E AndroidRuntime: \r\n==========================================================================\r\n\r\n**Other info / logs**\r\nThe same changes for model; Inception_v3 downloaded from : https://www.tensorflow.org/lite/models#other_models\r\n\r\nIf I re-name model inception_resnet_v2 to inception_v3 the loads the model and works fine", "comments": ["The app seems to be not able to link to the model file you are providing with the filename. Please look in to checking why that might be the case: check if you are using the absolute/relative filename.", "@Umapraveen \r\n#24740 resolve simmiliar to this problem, please check and confirm same. Thanks\r\n", "Closing per last comment."]}, {"number": 24262, "title": "Cannot build profiler on windows 10", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: 1.12.0\r\n- Python version: 3.6\r\n- Installed using virtualenv? pip? conda?:\r\n- Bazel version (if compiling from source): 1.16.1\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: 9.0, 7.3.1\r\n- GPU model and memory: NVidia GTX 1080\r\n\r\n\r\n\r\n\r\n**Describe the problem**\r\n\r\nI get an error while trying to build the profiler from source.\r\n\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\nC:\\Users\\vignesh\\Documents\\tensorflow-1.12.0>bazel build --config=opt tensorflow/core/profiler:profiler\r\nINFO: Build options have changed, discarding analysis cache.\r\nINFO: Analysed target //tensorflow/core/profiler:profiler (0 packages loaded).\r\nINFO: Found 1 target...\r\nINFO: From Compiling external/com_google_absl/absl/base/internal/throw_delegate.cc:\r\ncl : Command line warning D9025 : overriding '/w' with '/W3'\r\nINFO: From Compiling external/com_google_absl/absl/base/internal/spinlock_wait.cc:\r\ncl : Command line warning D9025 : overriding '/w' with '/W3'\r\nINFO: From Compiling external/com_google_absl/absl/types/optional.cc:\r\ncl : Command line warning D9025 : overriding '/w' with '/W3'\r\nINFO: From Compiling external/com_google_absl/absl/strings/internal/memutil.cc:\r\ncl : Command line warning D9025 : overriding '/w' with '/W3'\r\nINFO: From Compiling external/com_google_absl/absl/strings/internal/charconv_parse.cc:\r\ncl : Command line warning D9025 : overriding '/w' with '/W3'\r\nINFO: From Compiling external/com_google_absl/absl/strings/internal/charconv_bigint.cc:\r\ncl : Command line warning D9025 : overriding '/w' with '/W3'\r\nINFO: From Compiling external/com_google_absl/absl/strings/str_replace.cc:\r\ncl : Command line warning D9025 : overriding '/w' with '/W3'\r\nINFO: From Compiling external/com_google_absl/absl/strings/substitute.cc:\r\ncl : Command line warning D9025 : overriding '/w' with '/W3'\r\nINFO: From Compiling external/com_google_absl/absl/strings/ascii.cc:\r\ncl : Command line warning D9025 : overriding '/w' with '/W3'\r\nINFO: From Compiling external/com_google_absl/absl/strings/string_view.cc:\r\ncl : Command line warning D9025 : overriding '/w' with '/W3'\r\nINFO: From Compiling external/com_google_absl/absl/strings/match.cc:\r\ncl : Command line warning D9025 : overriding '/w' with '/W3'\r\nINFO: From Compiling external/com_google_absl/absl/strings/charconv.cc:\r\ncl : Command line warning D9025 : overriding '/w' with '/W3'\r\nINFO: From Compiling external/com_google_absl/absl/strings/numbers.cc:\r\ncl : Command line warning D9025 : overriding '/w' with '/W3'\r\nINFO: From Compiling external/com_google_absl/absl/strings/str_split.cc:\r\ncl : Command line warning D9025 : overriding '/w' with '/W3'\r\nERROR: C:/users/vignesh/_bazel_vignesh/g2rooyha/external/linenoise/BUILD.bazel:9:1: C++ compilation of rule '@linenoise//:linenoise' failed (Exit 2): msvc_wrapper_for_nvcc.bat failed: error executing command\r\n  cd C:/users/vignesh/_bazel_vignesh/g2rooyha/execroot/org_tensorflow\r\n  SET CUDA_TOOLKIT_PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0\r\n    SET CUDNN_INSTALL_PATH=C:/tools/cuda\r\n    SET INCLUDE=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10240.0\\ucrt;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\shared;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\um;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\winrt;\r\n    SET LIB=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\LIB\\amd64;C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.10240.0\\ucrt\\x64;C:\\Program Files (x86)\\Windows Kits\\8.1\\lib\\winv6.3\\um\\x64;\r\n    SET PATH=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\amd64;C:\\WINDOWS\\Microsoft.NET\\Framework64\\v4.0.30319;C:\\WINDOWS\\Microsoft.NET\\Framework64\\;C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x64;C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x86;;C:\\WINDOWS\\system32\r\n    SET PWD=/proc/self/cwd\r\n    SET PYTHON_BIN_PATH=C:/Users/vignesh/AppData/Local/Programs/Python/Python36/python.exe\r\n    SET PYTHON_LIB_PATH=C:/Users/vignesh/AppData/Local/Programs/Python/Python36/lib/site-packages\r\n    SET TEMP=C:\\Users\\vignesh\\AppData\\Local\\Temp\r\n    SET TF_CUDA_CLANG=0\r\n    SET TF_CUDA_COMPUTE_CAPABILITIES=6.1\r\n    SET TF_CUDA_VERSION=9.0\r\n    SET TF_CUDNN_VERSION=7\r\n    SET TF_NEED_CUDA=1\r\n    SET TF_NEED_OPENCL_SYCL=0\r\n    SET TF_NEED_ROCM=0\r\n    SET TMP=C:\\Users\\vignesh\\AppData\\Local\\Temp\r\n  external/local_config_cuda/crosstool/windows/msvc_wrapper_for_nvcc.bat /nologo /DCOMPILER_MSVC /DNOMINMAX /D_WIN32_WINNT=0x0600 /D_CRT_SECURE_NO_DEPRECATE /D_CRT_SECURE_NO_WARNINGS /D_SILENCE_STDEXT_HASH_DEPRECATION_WARNINGS /bigobj /Zm500 /J /Gy /GF /EHsc /wd4351 /wd4291 /wd4250 /wd4996 /Iexternal/linenoise /Ibazel-out/x64_windows-opt/genfiles/external/linenoise /Ibazel-out/x64_windows-opt/bin/external/linenoise /Iexternal/bazel_tools /Ibazel-out/x64_windows-opt/genfiles/external/bazel_tools /Ibazel-out/x64_windows-opt/bin/external/bazel_tools /showIncludes /MD /O2 /DNDEBUG -w /arch:AVX /Fobazel-out/x64_windows-opt/bin/external/linenoise/_objs/linenoise/linenoise.o /c external/linenoise/linenoise.c\r\nexternal/linenoise/linenoise.c(106): fatal error C1083: Cannot open include file: 'termios.h': No such file or directory\r\nTarget //tensorflow/core/profiler:profiler failed to build\r\nINFO: Elapsed time: 19.622s, Critical Path: 11.13s\r\nINFO: 138 processes: 138 local.\r\nFAILED: Build did NOT complete successfully\r\n\r\n", "comments": ["@vigbk  Just to make sure, did you get a chance to go through [this](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/core/profiler#quick-start) ?  If not, request you to follow and post blockers(if any)", "@harshini-gadige. I did go through that. I was trying to build the bazel binary when I got the error I posted.", "@hgadig please redirect the issue to the owners of profiler. From the error, it looks to me like the code is not fully compatible with windows.", "Unassigned to trigger retriage.", "Please try this with newer version as we no longer support 1.x version. Thank you "]}, {"number": 24261, "title": "Update for documentation for TF Micro", "body": "Proposal includes:\r\n* new line on how to install arm compiler on Mac OS\r\n* fix for the build on Mac OS\r\n* instructions how to train new model in the Cloud with Deep Learning images", "comments": ["@petewarden thank you for the review, what are the next steps to merge the PR? I do not have permissions to merge this in:(", "One of the TF OSS team should pick up the fact that this is ready and merge it in soon, you don't have to do anything. Thanks for putting this together!", "@b0noI  Could you resolve the branch conflicts ?", "@b0noI  Request you to rebase to resolve the branch conflicts. Once done, we can help to proceed with merging. Appreciate your response.", "@petewarden Sorry for delay, will rebase today", "done"]}]