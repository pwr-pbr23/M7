[{"number": 31218, "title": "ImportError: cannot import name 'monitoring' from 'tensorflow.python.eager'", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): No\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 18.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: No\r\n- TensorFlow installed from (source or binary): pip install tensorflow\r\n- TensorFlow version (use command below): 1.13.1\r\n- Python version: 3.7\r\n- Bazel version (if compiling from source): 0.22.0\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: 7.4.0\r\n- GPU model and memory: 1060 p100 6G\r\n\r\n**Describe the current behavior**\r\n\r\n> (base) anlly@anlly-Vostro-3668:~/tensorflow/tensorflow$ bazel-bin/tensorflow/python/tools/freeze_graph \\\r\n--input_graph=/home/anlly/mobilenet/models-master/research/slim/flower_mobilenet_v1.pb \\\r\n--input_checkpoint=/home/anlly/mobilenet/models-master/research/slim/train_log/model.ckpt-100000 \\\r\n--input_binary=true \\\r\n--output_graph=/home/anlly/mobilenet/models-master/research/slim/flower_frozen_mobilenet_v1.pb \\\r\n--output_node_names=MobilenetV1/Predictions/Reshape_1\r\nTraceback (most recent call last):\r\n  File \"/home/anlly/tensorflow/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 57, in <module>\r\n    from tensorflow.python.tools import saved_model_utils\r\n  File \"/home/anlly/tensorflow/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/saved_model_utils.py\", line 21, in <module>\r\n    from tensorflow.contrib.saved_model.python.saved_model import reader\r\n  File \"/home/anlly/tensorflow/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/saved_model/__init__.py\", line 27, in <module>\r\n    from tensorflow.contrib.saved_model.python.saved_model.keras_saved_model import *\r\n  File \"/home/anlly/tensorflow/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/saved_model/python/__init__.py\", line 27, in <module>\r\n    from tensorflow.contrib.saved_model.python.saved_model import *\r\n  File \"/home/anlly/tensorflow/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/saved_model/python/saved_model/__init__.py\", line 27, in <module>\r\n    from tensorflow.contrib.saved_model.python.saved_model import keras_saved_model\r\n  File \"/home/anlly/tensorflow/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/saved_model/python/saved_model/keras_saved_model.py\", line 44, in <module>\r\n    from tensorflow_estimator.python.estimator import keras as estimator_keras_util\r\n  File \"/home/anlly/anaconda3/lib/python3.7/site-packages/tensorflow_estimator/python/estimator/__init__.py\", line 25, in <module>\r\n    import tensorflow_estimator.python.estimator.estimator_lib\r\n  File \"/home/anlly/anaconda3/lib/python3.7/site-packages/tensorflow_estimator/python/estimator/estimator_lib.py\", line 22, in <module>\r\n    from tensorflow_estimator.python.estimator.canned.baseline import BaselineClassifier\r\n  File \"/home/anlly/anaconda3/lib/python3.7/site-packages/tensorflow_estimator/python/estimator/canned/baseline.py\", line 67, in <module>\r\n    from tensorflow_estimator.python.estimator import estimator\r\n  File \"/home/anlly/anaconda3/lib/python3.7/site-packages/tensorflow_estimator/python/estimator/estimator.py\", line 37, in <module>\r\n    from tensorflow.python.eager import monitoring\r\nImportError: cannot import name 'monitoring' from 'tensorflow.python.eager' (/home/anlly/tensorflow/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/eager/__init__.py)\r\n\r\n\r\n\r\n**Describe the expected behavior**\r\nCombine into pb file.\r\n\r\n**Code to reproduce the issue**\r\ndownload https://github.com/tensorflow/tensorflow/archive/v1.13.1.zip\r\n/home/anlly/mobilenet/models-master/research/slim\r\nAfter training.\r\n\r\n\r\n> \u251c\u2500\u2500 BUILD\r\n\u251c\u2500\u2500 data\r\n\u251c\u2500\u2500 datasets\r\n\u251c\u2500\u2500 deployment\r\n\u251c\u2500\u2500 download_and_convert_data.py\r\n\u251c\u2500\u2500 eval_image_classifier.py\r\n\u251c\u2500\u2500 export_inference_graph.py\r\n\u251c\u2500\u2500 export_inference_graph_test.py\r\n\u251c\u2500\u2500 flower_mobilenet_v1.pb\r\n\u251c\u2500\u2500 flowers\r\n\u251c\u2500\u2500 __init__.py\r\n\u251c\u2500\u2500 nets\r\n\u251c\u2500\u2500 preprocessing\r\n\u251c\u2500\u2500 README.md\r\n\u251c\u2500\u2500 scripts\r\n\u251c\u2500\u2500 setup.py\r\n\u251c\u2500\u2500 slim_walkthrough.ipynb\r\n\u251c\u2500\u2500 train_image_classifier.py\r\n\u251c\u2500\u2500 train_log\r\n\u2514\u2500\u2500 WORKSPACE\r\n\r\n> $ cd /home/anlly/tensorflow/tensorflow\r\n$ bazel build tensorflow/python/tools:freeze_graph\r\n$ tree -L 1\r\n\u251c\u2500\u2500 ACKNOWLEDGMENTS\r\n\u251c\u2500\u2500 ADOPTERS.md\r\n\u251c\u2500\u2500 arm_compiler.BUILD\r\n\u251c\u2500\u2500 AUTHORS\r\n\u251c\u2500\u2500 bazel-bin -> /home/anlly/.cache/bazel/_bazel_anlly/4719d97187e55f4eec6999680f3515c6/execroot/org_tensorflow/bazel-out/k8-opt/bin\r\n\u251c\u2500\u2500 bazel-genfiles -> /home/anlly/.cache/bazel/_bazel_anlly/4719d97187e55f4eec6999680f3515c6/execroot/org_tensorflow/bazel-out/k8-opt/genfiles\r\n\u251c\u2500\u2500 bazel-out -> /home/anlly/.cache/bazel/_bazel_anlly/4719d97187e55f4eec6999680f3515c6/execroot/org_tensorflow/bazel-out\r\n\u251c\u2500\u2500 bazel-tensorflow -> /home/anlly/.cache/bazel/_bazel_anlly/4719d97187e55f4eec6999680f3515c6/execroot/org_tensorflow\r\n\u251c\u2500\u2500 bazel-testlogs -> /home/anlly/.cache/bazel/_bazel_anlly/4719d97187e55f4eec6999680f3515c6/execroot/org_tensorflow/bazel-out/k8-opt/testlogs\r\n\r\n> \u251c\u2500\u2500 BUILD\r\n\u251c\u2500\u2500 CODE_OF_CONDUCT.md\r\n\u251c\u2500\u2500 CODEOWNERS\r\n\u251c\u2500\u2500 configure\r\n\u251c\u2500\u2500 configure.py\r\n\u251c\u2500\u2500 CONTRIBUTING.md\r\n\u251c\u2500\u2500 ISSUES.md\r\n\u251c\u2500\u2500 ISSUE_TEMPLATE.md\r\n\u251c\u2500\u2500 LICENSE\r\n\u251c\u2500\u2500 models.BUILD\r\n\u251c\u2500\u2500 README.md\r\n\u251c\u2500\u2500 RELEASE.md\r\n\u251c\u2500\u2500 SECURITY.md\r\n\u251c\u2500\u2500 tensorflow\r\n\u251c\u2500\u2500 third_party\r\n\u251c\u2500\u2500 tools\r\n\u2514\u2500\u2500 WORKSPACE\r\n\r\n\r\n\r\n> $ bazel-bin/tensorflow/python/tools/freeze_graph \\\r\n--input_graph=/home/anlly/mobilenet/models-master/research/slim/flower_mobilenet_v1.pb \\\r\n--input_checkpoint=/home/anlly/mobilenet/models-master/research/slim/train_log/model.ckpt-100000 \\\r\n--input_binary=true \\\r\n--output_graph=/home/anlly/mobilenet/models-master/research/slim/flower_frozen_mobilenet_v1.pb \\\r\n--output_node_names=MobilenetV1/Predictions/Reshape_1\r\n\r\nThen throw an error.\r\n`\r\nImportError: cannot import name 'monitoring' from 'tensorflow.python.eager' \r\n`\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n", "comments": ["@yichuxue ,\r\nIn order to expedite the trouble-shooting process, please provide complete code snippet to reproduce the issue reported here.We are not able to find the exact code from the link given to reproduce the issue. Thanks!", "@anush-o Thanks. The problem has been solved.\r\nThe reason is that the tensorflow version of training is not consistent with the tensorflow version of composing pb files. The final successful version:\r\n\r\n> tensorflow = = 1.13.1\r\ntensorflow-gpu = = 1.13.1\r\ntensorflowjs = = 0.8.6\r\n", "Closing since the issue is resolved.Thanks!", "I have tf 1.13.1 and I still get this error. \r\n\r\nHonestly, it's this kind of bullshit that makes me hate Python. "]}, {"number": 31217, "title": "TF Lite quantize with representative data, memory keep growing", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): no\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): 16.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): v1.14.0-rc1-22-gaf24dc91b5 1.14.0\r\n- Python version: 3.6.3\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\n**Describe the current behavior**\r\nThe memory keep growing with given representative data set.\r\nThe problem doesn't come from how I load data, since no problem if I test for loop over my data.\r\nProbably something in quantization process is holding the data.\r\n\r\n**Describe the expected behavior**\r\nNo memory leak.\r\n\r\n**Code to reproduce the issue**\r\n```\r\ndef representative_data_loader(FLAGS, tgt_h, tgt_w):\r\n    # Get the image name list\r\n    input_dir = FLAGS.representative_datset  # a path to some image dataset\r\n    if (input_dir == 'None'):\r\n        raise ValueError('Input directory is not provided')\r\n\r\n    if not os.path.exists(input_dir):\r\n        raise ValueError('Input directory not found')\r\n\r\n    image_list_LR_temp = os.listdir(input_dir)\r\n    image_list_LR = [os.path.join(input_dir, _) for _ in image_list_LR_temp if _.split('.')[-1] == 'png' or _.split('.')[-1] == '.jpeg' or _.split('.')[-1] == 'jpg']\r\n\r\n    image_list_ds = tf.data.Dataset.from_tensor_slices(image_list_LR)\r\n    image_list_ds = image_list_ds.shuffle(len(image_list_LR))\r\n    image_list_ds = image_list_ds.repeat()\r\n\r\n    # Read in and preprocess the images\r\n    def preprocess_image(image):\r\n        image = tf.image.decode_image(image, channels=3)\r\n        image = tf.image.convert_image_dtype(image, tf.float32)\r\n        image = tf.image.random_crop(image, [tgt_h, tgt_w, 3])\r\n\r\n        return image\r\n\r\n    def load_and_preprocess_image(path):\r\n        image = tf.read_file(path)\r\n        return preprocess_image(image)\r\n    image_ds = image_list_ds.map(load_and_preprocess_image, num_parallel_calls=tf.data.experimental.AUTOTUNE)\r\n    image_ds = image_ds.batch(1)\r\n    # Push path and image into a list\r\n    Data = collections.namedtuple('Data', 'paths_LR, inputs')\r\n\r\n    return Data(\r\n        paths_LR=image_list_ds,\r\n        inputs=image_ds\r\n    )\r\n\r\ndef memory(): # from somewhere online\r\n    import os\r\n    import psutil\r\n    pid = os.getpid()\r\n    py = psutil.Process(pid)\r\n    memoryUse = py.memory_info()[0]/2.**30  # memory use in GB...I think\r\n    print('memory use:', memoryUse)\r\n\r\ndef main():\r\n    in_ch = 3\r\n    up_factor = 2\r\n    #h, w = (32, 32)\r\n    h, w = (536, 536)\r\n    inputs_raw = tf.placeholder(tf.float32, shape=[1, h, w, in_ch], name='inputs_raw')\r\n    outputs = tf.split(value = inputs_raw, num_or_size_splits = tf.constant([int(h/2), int(h/2)]), axis = 1)[0]\r\n\r\n    # to test dataset\r\n    data = representative_data_loader(FLAGS, h, w)\r\n    memory()\r\n            \r\n    with tf.Session() as sess:\r\n        sess.run(tf.global_variables_initializer())\r\n\r\n        # to test dataset\r\n        image_iter = data.inputs.make_initializable_iterator()\r\n        sess.run(image_iter.initializer)\r\n        image_el = image_iter.get_next()\r\n\r\n        converter = lite.TFLiteConverter.from_session(sess, [inputs_raw], [outputs])\r\n\r\n        converter.optimizations = [lite.Optimize.DEFAULT]\r\n        def representative_data_gen():\r\n            for i in range(1000):\r\n                print(i, end = ' ')\r\n                memory()\r\n                yield [sess.run(image_el)]\r\n        converter.representative_dataset = representative_data_gen\r\n        tflite_model = converter.convert()\r\n```\r\n**Other info / logs**\r\nmemory just keep growing, until running out", "comments": ["Hi There,\n\n We are checking to see if you still need help on this, as you are using an older version of tensorflow which is officially considered end of life . We recommend that you upgrade to the latest 2.x version and let us know if the issue still persists in newer versions. Please open a new issue for any help you need against 2.x, and we will get you the right help. \n\n This issue will be closed automatically 7 days from now. If you still need help with this issue, please provide us with more information.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/31217\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/31217\">No</a>\n"]}, {"number": 31216, "title": "training code utilize more cpu memory than gpu memory", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version (use command below): ('v1.12.0-0-ga6d8ffae09', '1.12.0')\r\n- Python version:2.7\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):5.4.0\r\n- CUDA/cuDNN version:10\r\n- GPU model and memory:RTX2060 6GB\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\nI am using tensorflow 1.12.0 with GPU RTX2060 with 6GB memory. I am using reinforcement learning code to train the robot in a gazebo platform using ROS. The issue is that it is utilizing more CPU memory rather than GPU memory. It takes a lot of time to train a robot. I attached a screenshot of the code and the system memory status along with GPU status. From the status, it is shown that it utilized whole 16gb system memory while it utilized 80% GPU memory but the temp and GPU utilization status is low. Its means GPU is not taking the load.\r\n![Screenshot 2019-07-31 16:51:16](https://user-images.githubusercontent.com/45818401/62258506-5135dd00-b43d-11e9-8568-d8575a833655.png)\r\n![Screenshot 2019-08-01 09:03:16](https://user-images.githubusercontent.com/45818401/62258507-5135dd00-b43d-11e9-8bb2-0a4857d20daf.png)\r\n![Screenshot 2019-08-01 09:03:34](https://user-images.githubusercontent.com/45818401/62258509-5135dd00-b43d-11e9-87c3-8cd830c1abf3.png)\r\n![Screenshot 2019-08-01 09:03:43](https://user-images.githubusercontent.com/45818401/62258510-51ce7380-b43d-11e9-9444-e2a23933652c.png)\r\n\r\n\r\n\r\n\r\n**Describe the expected behavior**\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n", "comments": ["@mudassirej Please take a look at [guide](https://www.tensorflow.org/guide/using_gpu) for GPU utilization. Can you use manual device placement with `tf.device('/GPU:0'):`  Let us know how it progresses. Thanks!", "@gadagashwini I already allot the 80% GPU memory in the train network. It shows that it utilizes memory but as you can be seen from the Nvidia log that it is utilizing 20% only. \r\nWhere I will add this command \"tf.device('/GPU:0')?", "@mudassirej Provide us the full executable code snippet. It will indeed help us to move faster. Thanks!", "\r\n[D3QN.tar.gz](https://github.com/tensorflow/tensorflow/files/3470959/D3QN.tar.gz)\r\nThese are the files. ", "I suspect your TF session fails to recognize gpu. \r\nFrom the template you say you are using cuda 10.0 however nvidia-smi shows cuda 10.1\r\nCan you please confirm what version of cuda you are installing? Also installed from binary or source?\r\nAlso can you please print following output;\r\n```python\r\ntf.Session(config=tf.ConfigProto(log_device_placement=True))\r\n```", "I installed a Cuda version 10 from the source. I attached a picture which shows the running cuda version and tf.session result. It shows XLA-GPU device, what does it mean?\r\n![tensor1](https://user-images.githubusercontent.com/45818401/62994416-5c055e80-be8e-11e9-9019-a43d2856234f.png)\r\n", "Can you send your code as github gist or google colab gist? It will be easier to work with rather than screenshot. Thanks!\r\n", "https://github.com/mudassirej/DQN-with-tensorflow-in-Gazebo", "Hi There,\n\n We are checking to see if you still need help on this, as you are using an older version of tensorflow which is officially considered end of life . We recommend that you upgrade to the latest 2.x version and let us know if the issue still persists in newer versions. Please open a new issue for any help you need against 2.x, and we will get you the right help. \n\n This issue will be closed automatically 7 days from now. If you still need help with this issue, please provide us with more information."]}, {"number": 31215, "title": "To set default OMP_NUM_THREADS to a smaller value for unit tests.", "body": "Current default value for OMP_NUM_THREDS is set to number of physical cores. This degrades performance for some of the performance test cases when run on machines with many cores. \r\nThis change sets it to a lower default value (10) for these tests. Alternate values can be set from the command line for the script.", "comments": []}, {"number": 31214, "title": "INFO:tensorflow:Graph was finalized, Job hangs indefinitely when running with istio-sidecars", "body": "Hi guys, i am rather new to tensorflow- and trying to run a distributed tensorflow job (from here https://github.com/learnk8s/distributed-tensorflow-on-k8s). Its a standard character recognition job using MNIST dataset. I can successfully run the job on locally deployed Kubernetes cluster without any issue. But when i try to deploy the same job in an istio-injection=enabled namespace, the job keeps on running forever. Upon looking at the logs of individual pods ... its both chief-pod & worker-pods are stuck at \"INFO:tensorflow:Graph was finalized.\" step. Which is repeated indefinitely.\r\n`error`\r\n```\r\nINFO:tensorflow:Graph was finalized.\r\nINFO:tensorflow:An error was raised while a session was being created. This may be due to a preemption of a connected worker or parameter server. A new session will be created. Error: Socket closed\r\n```  \r\n\r\n**System information**\r\n- OS Platform and Distribution (Linux Ubuntu 18.04):\r\n- TensorFlow installed from (pip install):\r\n- TensorFlow version:1.8\r\n\r\nchief-pod logs\r\n```\r\nWARNING:tensorflow:From /app/main.py:95: load_dataset (from tensorflow.contrib.learn.python.learn.datasets) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nPlease use tf.data.\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/datasets/__init__.py:80: load_mnist (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nPlease use alternatives such as official/mnist/dataset.py from tensorflow/models.\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py:300: read_data_sets (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nPlease use alternatives such as official/mnist/dataset.py from tensorflow/models.\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py:260: maybe_download (from tensorflow.contrib.learn.python.learn.datasets.base) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nPlease write your own downloading logic.\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py:262: extract_images (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nPlease use tf.data to implement this functionality.\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py:267: extract_labels (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nPlease use tf.data to implement this functionality.\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py:290: __init__ (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nPlease use alternatives such as official/mnist/dataset.py from tensorflow/models.\r\nINFO:tensorflow:TF_CONFIG environment variable: {u'environment': u'cloud', u'cluster': {u'ps': [u'tfjob1-ps-0.istio-test.svc:2222'], u'chief': [u'tfjob1-chief-0.istio-test.svc:2222'], u'worker': [u'tfjob1-worker-0.istio-test.svc:2222', u'tfjob1-worker-1.istio-test.svc:2222']}, u'task': {u'index': 0, u'type': u'chief'}}\r\nINFO:tensorflow:Using config: {'_save_checkpoints_secs': None, '_session_config': None, '_keep_checkpoint_max': 5, '_tf_random_seed': None, '_task_type': u'chief', '_train_distribute': None, '_is_chief': True, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7fe6a9ab9190>, '_model_dir': './out/vars', '_num_worker_replicas': 3, '_task_id': 0, '_log_step_count_steps': 100, '_master': u'grpc://tfjob1-chief-0.istio-test.svc:2222', '_save_checkpoints_steps': 20, '_keep_checkpoint_every_n_hours': 10000, '_evaluation_master': '', '_service': None, '_global_id_in_cluster': 0, '_save_summary_steps': 20, '_num_ps_replicas': 1}\r\nINFO:tensorflow:Start Tensorflow server.\r\n2019-07-31 23:54:35.170532: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2019-07-31 23:54:35.175567: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:215] Initialize GrpcChannelCache for job chief -> {0 -> localhost:2222}\r\n2019-07-31 23:54:35.175633: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:215] Initialize GrpcChannelCache for job ps -> {0 -> tfjob1-ps-0.istio-test.svc:2222}\r\n2019-07-31 23:54:35.175660: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:215] Initialize GrpcChannelCache for job worker -> {0 -> tfjob1-worker-0.istio-test.svc:2222, 1 -> tfjob1-worker-1.istio-test.svc:2222}\r\n2019-07-31 23:54:35.179473: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:332] Started server with target: grpc://localhost:2222\r\nINFO:tensorflow:Calling model_fn.\r\nINFO:tensorflow:Done calling model_fn.\r\nINFO:tensorflow:Create CheckpointSaverHook.\r\nINFO:tensorflow:Graph was finalized.\r\nINFO:tensorflow:An error was raised while a session was being created. This may be due to a preemption of a connected worker or parameter server. A new session will be created. Error: Socket closed\r\nINFO:tensorflow:Graph was finalized.\r\nINFO:tensorflow:An error was raised while a session was being created. This may be due to a preemption of a connected worker or parameter server. A new session will be created. Error: Socket closed\r\nINFO:tensorflow:Graph was finalized.\r\nINFO:tensorflow:An error was raised while a session was being created. This may be due to a preemption of a connected worker or parameter server. A new session will be created. Error: Socket closed\r\nINFO:tensorflow:Graph was finalized.\r\nINFO:tensorflow:An error was raised while a session was being created. This may be due to a preemption of a connected worker or parameter server. A new session will be created. Error: Socket closed\r\nINFO:tensorflow:Graph was finalized.\r\nINFO:tensorflow:An error was raised while a session was being created. This may be due to a preemption of a connected worker or parameter server. A new session will be created. Error: Socket closed\r\nINFO:tensorflow:Graph was finalized.\r\nINFO:tensorflow:An error was raised while a session was being created. This may be due to a preemption of a connected worker or parameter server. A new session will be created. Error: Socket closed\r\n```\r\n\r\nI am not an expert in tensorflow, so please provide some insights what might be causing this error. I get the same logs from the worker-pods as well (something regarding socket closed). This only happens when i try to run the job with istio-sidecars, otherwise it runs fine. \r\n\r\nthanks!", "comments": ["Please provide details about what platform you are using (operating system, architecture). Also include your TensorFlow version. Also, did you compile from source or install a binary?\r\n\r\nMake sure you also include the code snippet to reproduce the issue. If you are unclear what to include see the issue template displayed in the Github new issue [template.](https://github.com/tensorflow/tensorflow/issues/new/choose)\r\n\r\nWe ask for this in the issue submission template, because it is really difficult to help without that information. Thanks!", "Platform: Running on top of 4-node (baremetal) Kubernetes Cluster\r\nOperating System/ Architecture:  Ubuntu 18.04.2 LTS/ x86_64\r\nTensorflow version: 1.8  (used pip install to setup pod environment)\r\nKubeflow version: v0.6.0\r\n\r\n`tfjob.yaml` - manifest file to launch the job\r\n```\r\napiVersion: kubeflow.org/v1beta2\r\nkind: TFJob\r\nmetadata:\r\n  name: tfjob1\r\nspec:\r\n  tfReplicaSpecs:\r\n    Chief:\r\n      replicas: 1\r\n      template:\r\n        spec:\r\n          volumes:\r\n            - name: local-pv\r\n              persistentVolumeClaim:\r\n                claimName: local-pvc\r\n          containers:\r\n            - name: tensorflow\r\n              image: learnk8s/mnist:1.0.0\r\n              imagePullPolicy: Always\r\n              args:\r\n                - --model_dir\r\n                - ./out/vars\r\n                - --export_dir\r\n                - ./out/models\r\n              volumeMounts:\r\n                - mountPath: /app/out\r\n                  name: local-pv\r\n          restartPolicy: OnFailure\r\n    Worker:\r\n      replicas: 2\r\n      template:\r\n        spec:\r\n          containers:\r\n            - name: tensorflow\r\n              image: learnk8s/mnist:1.0.0\r\n              imagePullPolicy: Always\r\n          restartPolicy: OnFailure\r\n    PS:\r\n      replicas: 1\r\n      template:\r\n        spec:\r\n          volumes:\r\n            - name: local-pv\r\n              persistentVolumeClaim:\r\n                claimName: local-pvc\r\n          containers:\r\n            - name: tensorflow\r\n              image: learnk8s/mnist:1.0.0\r\n              imagePullPolicy: Always\r\n              volumeMounts:\r\n                - mountPath: /app/out\r\n                  name: local-pv\r\n          restartPolicy: OnFailure\r\n```\r\n`steps to recreate the issue`\r\nInstalling kubeflow already installs the istio-system namespace. Create a new namespace to launch the tfjob and enable side-car injection using `kubectl label namespace default istio-injection=enabled`. Then just launch the job using the attached manifest file. The pods start running and keep on running. Checking the logs of the pods shows the above mentioned error.\r\n\r\nPlease let me know if i need to elaborate anything else!", "@ali-raza-tariq Is it possible for you to try latest TF versions and let us know whether the issue persists? There were lots of performance improvements in the latest versions. Thanks!", "hi @jvishnuvardhan i tried with the latest version (tf-v1.14.0) and now receiving this error - `master pod logs`\r\n```\r\n2019-08-08 23:49:47.347991: W tensorflow/core/distributed_runtime/rpc/grpc_remote_master.cc:157] RPC failed with status = \"Unavailable: Socket closed\" and grpc_error_string = \"{\"created\":\"@1565308187.347861590\",\"description\":\"Error received from peer\",\"file\":\"external/grpc/src/core/lib/surface/call.cc\",\"file_line\":1039,\"grpc_message\":\"Socket closed\",\"grpc_status\":14}\", maybe retrying the RPC\r\n2019-08-08 23:49:47.348028: W tensorflow/core/distributed_runtime/rpc/grpc_remote_master.cc:161] Too many retries, returning last status: Unavailable: Socket closed\r\nI0808 23:49:47.352538 139691432208192 monitored_session.py:1215] An error was raised while a session was being created. This may be due to a preemption of a connected worker or parameter server. A new session will be created. This error may also occur due to a gRPC failure caused by high memory or network bandwidth usage in the parameter servers. If this error occurs repeatedly, try increasing the number of parameter servers assigned to the job. Error: Socket closed\r\nI0808 23:49:47.352852 139691432208192 monitored_session.py:240] Graph was finalized.\r\n```\r\nagain ... this keeps error keeps repeating! its seems like the same error with a little more information\r\n", "Got the same problem with TF 1.14.0. I'm just trying to run this tutorial on TPU v2-8 in the train_and_eval mode: https://cloud.google.com/tpu/docs/tutorials/retinanet", "The problem went away after I fixed my data. I understand that this is a general, catch-all error that would be triggered in case of any problems with your model.\r\n\r\nI would recommend switching to GPU or CPU and make sure the model works as expected.\r\n\r\nHowever, it would be beneficial if TF could report the exact error from the remote master.", "@artyompal Could you elaborate what is `fixed my data`? The error message indicates the connection to the remote worker is lost and therefore it doesn't know what happens on that remote worker.", "I mean that in my case, tfrecords had an error and they didn't correspond to the model. Something was missing or in the wrong format (i.e. string instead of int32). \r\n\r\n>The error message indicates the connection to the remote worker is lost and therefore it doesn't know what happens on that remote worker.\r\nThis doesn't necessarily mean it's a network problem. This message would be triggered in case of any TensorFlow error on the remote worker.", "This is a stale issue. Please check the issue with latest TensorFlow. If the issue still persists in the newer version of TF, please feel free to reopen it by providing details about the issue and a standalone code to reproduce the issue. Thanks!", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/31214\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/31214\">No</a>\n"]}, {"number": 31213, "title": "[INTEL MKL] Work around tf.data related performance regression on Int\u2026", "body": "\u2026el MKL backend.\r\n\r\nRN50 real data performance regression was about 40%. This PR brings the\r\nperformance back by adding the MKL specific #ifdef macro.", "comments": ["All (the pull request submitter and all commit authors) CLAs are signed, **but** one or more commits were authored or co-authored by someone other than the pull request submitter.\n\nWe need to confirm that all authors are ok with their commits being contributed to this project.  Please have them confirm that by leaving a comment that contains only `@googlebot I consent.` in this pull request.\n\n*Note to project maintainer:* There may be cases where the author cannot leave a comment, or the comment is not properly detected as consent.  In those cases, you can manually confirm consent of the commit author(s), and set the `cla` label to `yes` (if enabled on your project).\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F31213) for more info**.\n\n<!-- need_author_consent -->", "Sorry, messed up the PR during a rebase. Closing this one and creating a new one... "]}, {"number": 31212, "title": "New name disambiguation for scope argment in tf.contrib.copy_graph.copy_op_to_graph", "body": "<em>Please make sure that this is a feature request. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version (you are using): 1.14\r\n- Are you willing to contribute it (Yes/No):\r\nyes\r\njust add the following code in the place of the if else for new_name \r\nCode:\r\n\r\n```python \r\n  istag = scope.find('_')\r\n  first = orgname.find('/')  \r\n  appendname = scope.find('//')\r\n  if scope == '' or (appendname != -1 and scope.split('//')[0] == orgname.split('/')[0]):  \r\n    new_name = orgname\r\n  elif istag != -1:    \r\n    if appendname != -1:\r\n      names = orgname.split('/')\r\n      if names[0] == scope[:istag]:\r\n        new_name = names[0]+scope[istag:appendname]+orgname[first:]\r\n      elif scope[:istag] != \"\":\r\n        new_name = scope[:istag]+orgname[first:] \r\n      else:\r\n        new_name = names[0]+scope+orgname[first:] \r\n    else:\r\n      names = orgname.split('/')\r\n      if names[0] == scope[:istag]:\r\n        new_name = names[0]+scope[istag:]+orgname[first:]\r\n      elif scope[:istag] != \"\":\r\n        new_name = scope[:istag]+orgname[first:] \r\n      else:\r\n        new_name = names[0]+scope+orgname[first:]         \r\n  elif appendname != -1 and scope.split('//')[0] != orgname.split('/')[0]:\r\n    new_name = scope[:appendname]+'/'+ orgname\r\n  else:\r\n    new_name = scope + orgname[orgname.find('/'):]   \r\n\r\n  return new_name    \r\n```\r\n\r\n**Any Other info.**\r\n \r\nHi @anush-o , i just added an option to append the new name in the exemplary code, instead of only doing the substitution. \r\nThis is done by  doing scope=name+'//' . This will allow to not override names without intention, but you could always add '//' if you need to define a new name block.\r\n\r\nI think this could be implemented with a look-up table (dict) for readability.\r\n\r\nHope this helps. Meanwhile, i will be reading the governance guidelines for contribution to follow the right path.\r\n", "comments": ["Feature Request, why Github does not label it automatically?", "Contrib is slated to be deleted in tf 2.0, and will no longer be a part of any future TF releases, so no point in adding features there.", "Is there any module that does the job ?\r\n\r\nyou plan to close every request without discussing the issue, is this an open source way of behave ? \r\n\r\nAnyway, i opened  an issue to seek on why this gonna be discontinued, hope the author of the module give his pointview\r\n", "https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md\nsays\ncopy_graph has no owner and will be slated for deletion\n\nOn Thu, Aug 1, 2019 at 3:52 PM Daniel Penalva <notifications@github.com>\nwrote:\n\n> Is there any module that does the job ?\n>\n> \u2014\n> You are receiving this because you modified the open/close state.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/31212?email_source=notifications&email_token=AAABHRMEVAG6B5LQABUAH6TQCNSMBA5CNFSM4IIKV6EKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD3MC7IQ#issuecomment-517484450>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAABHRPCYNC5J735VNJKF33QCNSMBANCNFSM4IIKV6EA>\n> .\n>\n\n\n-- \n - Alex\n", "no prob i will file a proposal of addon (by forking this if it is necessary), thank you."]}, {"number": 31211, "title": "Fix documentation commment for Svd.", "body": "`tensor containing of left singular vectors` -> `tensor containing the left singular vectors`.", "comments": ["I didn't update the Go wrappers because I assume they're updated automatically.\r\n```\r\n$ grep -nr \"containing of\" tensorflow\r\ntensorflow/go/op/wrappers.go:16245:// # u is the tensor containing of left singular vectors for each matrix.\r\ntensorflow/go/op/wrappers.go:16246:// # v is the tensor containing of right singular vectors for each matrix.\r\n```", "@rthadur: thanks for the LGTM!\r\nCould you (or someone else) please help merge this PR?"]}, {"number": 31210, "title": "[TF 2.0] tf.function causes dataset iteration to crash in multi-GPU mode", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Colab\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): \r\n- TensorFlow version (use command below): tf-nightly-gpu-2.0-preview\r\n- Python version: 3.6\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\n\r\n\r\n**Describe the current behavior**\r\nWhen using `tf.function` decorator for a function iterating over a dataset in Multi-GPU, the Colab notebook crashes and gives the following logs:\r\n\r\n```\r\ntensorflow/core/grappler/optimizers/meta_optimizer.cc:502] function_optimizer failed: Invalid argument: Node 'while/body/_21/replica_1/StatefulPartitionedCall': Control dependencies must come after regular dependencies\r\nterminate called after throwing an instance of 'std::out_of_range'\r\nwhat(): vector::_M_range_check\r\nKernelRestarter: restarting kernel (1/5), keep random ports\r\n```\r\nIt works perfectly without `tf.function` decorator\r\n\r\n**Describe the expected behavior**\r\nDataset should iterate as it does in eager mode without `tf.function` decorator.\r\n\r\n**Code to reproduce the issue**\r\n\r\n```\r\nwith strategy.scope():\r\n    def _compute_loss(labels, predictions):\r\n            per_example_loss = loss_object(labels, predictions)\r\n            return tf.nn.compute_average_loss(per_example_loss, global_batch_size=GLOBAL_BATCH_SIZE)\r\n\r\n\r\n    def _train_step(cat_cols, num_cols, labels):\r\n\r\n        with tf.GradientTape() as tape:\r\n            inputs = [tf.unstack(cat_cols, axis=-1),num_cols]\r\n            predictions = model(inputs=inputs, training=True)\r\n            loss = _compute_loss(labels, predictions)\r\n\r\n        gradients = tape.gradient(loss, model.trainable_variables)\r\n        optimizer.apply_gradients(zip(gradients, model.trainable_variables))\r\n        predictions = tf.round(predictions)\r\n        train_accuracy.update_state(labels, predictions)\r\n        train_auc.update_state(labels, predictions)\r\n        return loss\r\n\r\n    @tf.function\r\n    def _distributed_train_step(dist_train):\r\n        total_loss = 0.0\r\n        num_batches = 0.0\r\n        for cat, num, label in dist_train:\r\n            per_replica_losses = strategy.experimental_run_v2(_train_step,\r\n                                       args=(cat, num, label,))\r\n            total_loss += strategy.reduce(tf.distribute.ReduceOp.SUM, per_replica_losses, axis=None)\r\n\r\n            num_batches += 1\r\n        return total_loss/num_batches\r\n\r\n\r\n\r\n\r\n    def train(dist_train):\r\n\r\n        for epoch in range(num_epochs):\r\n            print(f\"Training epoch {epoch+1}.\", end=\"\")\r\n            train_loss = _distributed_train_step(dist_train)\r\n            template = 'Epoch {}, Loss: {:.3f}, Accuracy: {:.3f}, AUC: {:.3f}'\r\n            print (template.format(epoch + 1, train_loss,\r\n                                 train_accuracy.result() * 100, train_auc.result()))\r\n\r\n\r\n            train_accuracy.reset_states()\r\n            train_auc.reset_states()\r\n\r\ntrain(dist_train)\r\n```\r\n\r\n**Edit**: Did some more digging, and I was able to narrow the issue down to the line `gradients = tape.gradient(loss, model.trainable_variables)`", "comments": ["@dsgupta , Looks like the code is incomplete please provide the complete code to reproduce the issue. Thanks!", "Hi @gadagashwini, can I email you the code? ", "@dsgupta, Will it be possible to provide the GitHub link or Colab gist. Thanks! ", "Hi, [here](https://colab.research.google.com/gist/dsgupta/7114aa6e13b4f33264ccf3758d169bab/test.ipynb)", "I am able to reproduce the issue by running the provided colab link. Thanks!", "Any updates on this issue? ", "```Training epoch 1.Epoch 1, Loss: 0.705, Accuracy: 0.000, AUC: 0.000\r\nTraining epoch 2.Epoch 2, Loss: 0.705, Accuracy: 0.000, AUC: 0.000\r\nTraining epoch 3.Epoch 3, Loss: 0.705, Accuracy: 0.000, AUC: 0.000\r\nTraining epoch 4.Epoch 4, Loss: 0.705, Accuracy: 0.000, AUC: 0.000\r\nTraining epoch 5.Epoch 5, Loss: 0.705, Accuracy: 0.000, AUC: 0.000\r\nTraining epoch 6.Epoch 6, Loss: 0.705, Accuracy: 0.000, AUC: 0.000\r\nTraining epoch 7.Epoch 7, Loss: 0.705, Accuracy: 0.000, AUC: 0.000\r\nTraining epoch 8.Epoch 8, Loss: 0.705, Accuracy: 0.000, AUC: 0.000\r\nTraining epoch 9.Epoch 9, Loss: 0.705, Accuracy: 0.000, AUC: 0.000\r\nTraining epoch 10.Epoch 10, Loss: 0.705, Accuracy: 0.000, AUC: 0.000```\r\n\r\nColab seems to work for me, did you find a workaround? Or I'm missing something.", "Automatically closing due to lack of recent activity. Please update the issue when new information becomes available, and we will reopen the issue. Thanks!\r\n", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=31210\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=31210\">No</a>\n"]}, {"number": 31209, "title": "[MLIR] Attempt to fix build errors in MLIR transofmration.", "body": "This transformation pass seems to break on g++ 5.4. The commit attempts to\r\nfix it. At least `//tensorflow/compiler/...` now pass after this commit.", "comments": ["would it be a good idea to let `IslandType` be an unscoped enumeration? I suspect it could be an issue in type checking logic in `g++ 5.4`.", "> would it be a good idea to let `IslandType` be an unscoped enumeration? I suspect it could be an issue in type checking logic in `g++ 5.4`.\r\n\r\nDoes changing `insert_position` to be a bool in `MergeIslands` fix this?", "@andyly I revised the PR making the enum an unscoped enumeration.\r\n\r\nI didn't run through the full set of test on my end, but at least it builds:\r\n```\r\nbazel build --config=rocm //tensorflow/compiler/mlir/tensorflow:tensorflow\r\n```\r\n\r\nLet's check if `Linux GPU` works.", "@andyly it seems `Linux GPU` is breaking on other parts of MLIR not relevant to this PR. May I understand the readiness of running stuffs under `//tensorflow/compiler/mlir/...` ?"]}, {"number": 31208, "title": "Implemented tf.SparseTensor.from_dense(np.ndarray) function that returns a SparseTensor from a Dense numpy array", "body": "Implemented a tf.SparseTensor.from_dense() function\r\nthis PR adds two things.\r\n\r\n- It adds a function that takes in a numpy.ndarray() and returns a tf.SparseTensor.\r\nIt uses scipy's coo_matrix capabilities.\r\n- It adds a test for the above.", "comments": ["@rthadur I am not familiar with this part of the code base but perhaps @edloper could take a look.", "@jsimsa thank you !", "Can one of the admins verify this patch?", "In general, I would expect TensorFlow functions to take Tensor inputs.  (Numpy arrays should also be accepted as inputs, but should be converted to Tensors.)  This allows them to be used in TensorFlow graphs that are run in graph mode.\r\n\r\nIn particular, I would expect a method \"tf.sparse.from_dense(x)\" to accept a dense Tensor, and return a SparseTensor.  This function is already implemented as [tfp.math.dense_to_sparse](https://www.tensorflow.org/probability/api_docs/python/tfp/math/dense_to_sparse).  \r\n\r\nIt's possible that dense_to_sparse should exist in the main tensorflow package (as opposed to tfp).  I don't have much of an opinion on that one way or the other.  If you'd like to advocate for having dense_to_sparse in the main tensorflow package, I'll check with the TF api owners to see what they think.", "Hmm. Thanks for bringing up the tfp function, I was not aware of that implementation.\r\n\r\nSo yes, I agree with your final comment, we just have to decide whether this should be included in the main tensorflow package. \r\n\r\nIt makes sense to me to include it, mostly because tfp doesn't really have the same capability for sparse math that the main tensorflow package does. In fact, it only has 2 sparse-related operations, one of which is in the main tf package already (matmul). \r\n\r\nThe way it would work now would be to use tfp for just this one application, and then use tf for the rest of your work.\r\n\r\nGiven the above, it makes sense to include this functionality in the main package", "@edloper Any further thoughts on this?", "@joglekara I will bring this to the attention of TF API owners and get back to you.", "(for API owners) Should this be SparseTensor.from_tensor() to match RaggedTensor + other composite tensor types?\r\n\r\nImplementation-wise, note that this should not rely on scipy, and should support tensors as well.", "Thanks for the comment @karmel .\r\n\r\nI've made the requested modifications. Conveniently enough, some of this functionality has been implemented in the future versions of tensorflow, but this PR contributes the ability to convert from a numpy array directly to a SparseTensor.", "@rthadur @jsimsa  @karmel Any further thoughts on this?", "Closing PR because reviewer alerted me to a simple enough workaround."]}, {"number": 31207, "title": "Support the NHWC avg pooling after cuDNN 7.3.0", "body": "The efficient NHWC cuDNN average pooling is there after 7.3.0. Therefore, we can directly call cuDNN kernels when NHWC inputs are given.\r\n\r\nfyi @nluehr ", "comments": ["Hi, @chsigg Thx for approving the PR. There is one broken test (Ubuntu Python3 PIP), but it seems it is related to MLIR. Could you please help me check?  "]}, {"number": 31206, "title": "TFLite Invalid tensors 'MatMul' were found.", "body": "TFLite does not convert a containing a MatMul node.\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): `No`\r\n- OS Platform and Distribution: `Ubuntu 19.04 64bit`\r\n- TensorFlow installed from (source or binary): `source`\r\n- TensorFlow version (use command below): `v1.14.0-20-g456fbc0e49 1.14.1`\r\n- Python version: `3.7.3`\r\n- Bazel version (if compiling from source): `0.25.2`\r\n- GCC/Compiler version (if compiling from source): `gcc 8.3.0`\r\n- CUDA/cuDNN version: `None`\r\n- GPU model and memory: `not compiled with CUDA support`\r\n\r\n**Describe the current behavior**\r\nWhen trying to convert [this model](https://drive.google.com/file/d/1oqWFKYXGwars93QmTgr0hd_dsWec77gJ/view?usp=sharing) the TFLiteConverter fails with `\r\nValueError: Invalid tensors 'MatMul' were found.`. The matmul operation in general does work, whith the example from: https://github.com/tensorflow/tensorflow/issues/27640\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"tensorflow_matmul_issue.py\", line 7, in <module>\r\n    converter = tf.lite.TFLiteConverter.from_frozen_graph(graph_def_file, input_arrays, output_arrays, input_shapes={\"0\": [1, 128, 128, 1]})\r\n  File \"/home/paul/anaconda3/envs/openvino/lib/python3.7/site-packages/tensorflow/lite/python/lite.py\", line 641, in from_frozen_graph\r\n    sess.graph, output_arrays)\r\n  File \"/home/paul/anaconda3/envs/openvino/lib/python3.7/site-packages/tensorflow/lite/python/util.py\", line 116, in get_tensors_from_tensor_names\r\n    \",\".join(invalid_tensors)))\r\nValueError: Invalid tensors 'MatMul' were found.\r\n```\r\n**Describe the expected behavior**\r\nNo error\r\n\r\n**Code to reproduce the issue**\r\n```python\r\nimport tensorflow as tf\r\ngraph_def_file = \"model_lcnn_29v2.pb\"\r\n\r\nconverter = tf.lite.TFLiteConverter.from_frozen_graph(graph_def_file, [\"0\"], [\"MatMul\"], input_shapes={\"0\": [1, 128, 128, 1]})\r\ntflite_model = converter.convert()\r\nopen(\"model_lcnn_29v2.tflite\", \"wb\").write(tflite_model)\r\n```\r\n- [model](https://drive.google.com/file/d/1oqWFKYXGwars93QmTgr0hd_dsWec77gJ/view?usp=sharing)\r\n", "comments": ["I was able to replicate the issue with TF version 1.14, please find the Gist of [Colab](https://colab.research.google.com/drive/1U8kKeBAyGtdWgmnCVFaKBS42_QuNpeH1).", "I tried to modify the python source code to print all tensorName and find your outputNodeName is not \"MatMul\", it is named  \"212/212/MatMul\"\u3002 \r\n\r\n```\r\n# site-packages/tensorflow_core/lite/python/util.py\r\ndef get_tensors_from_tensor_names(graph, tensor_names):\r\n ...\r\n  tensor_name_to_tensor = {}\r\n  for op in graph.get_operations():\r\n    for tensor in op.values():\r\n      # add this to print all TensorName\r\n      print(get_tensor_name(tensor))\r\n      tensor_name_to_tensor[get_tensor_name(tensor)] = tensor\r\n\r\n```\r\n\r\noutput result is :\r\n```\r\n0\r\n...\r\n212/212/MatMul\r\n212/212\r\n```\r\nthen it's work when replace output array with newname\r\n\r\n```\r\nconverter = tf.lite.TFLiteConverter.from_frozen_graph(graph_def_file, [\"0\"], [\"212/212/MatMul\"], input_shapes={\"0\": [2, 128, 128, 1]})\r\n```", "Reiterating Mycaster's solution.\r\nYou can view the ops names by using following code snippet as well:\r\n```python\r\nimport tensorflow as tf\r\ngf = tf.GraphDef()\r\ngf.ParseFromString(open('model_lcnn_29v2.pb','rb').read())\r\nnames = [n.name for n in gf.node]\r\nprint(names)\r\n```\r\nOn inspecting the output we see ```212/212/MatMul``` operation.\r\nClosing this issue since correcting the node name fixes the problem. Thanks!\r\n", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=31206\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=31206\">No</a>\n"]}, {"number": 31205, "title": "TFLite: Changing weights", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): OSX\r\n- TensorFlow installed from (source or binary): Binary\r\n- TensorFlow version (use command below): v1.12.1-7529-g3e0ad8a004 2.0.0-dev20190731\r\n- Python version: 3.6.8\r\n\r\nI'm attempting to implement Soft Conditional Computation (https://arxiv.org/pdf/1904.04971.pdf).  In this approach, the convolution weights are calculated dynamically for each input.  With a concrete function this works, however tflite seems to freeze the weights from the first input.  I was able to resolve this by calling resize_tensor_input() and allocate_tensors() for each image, at the cost of a small performance hit:\r\n\r\n```\r\n    # Note: need to fake resize the input & reallocate tensors\r\n    interpreter.resize_tensor_input(0, (1, in_size, in_size, nb_channels,))\r\n    interpreter.allocate_tensors()\r\n```\r\n\r\nMy first thought was that tflite hardcodes the weights as an optimisation, however upon looking through the source code this doesn't seem to be the case, leading me to think this is a bug?\r\n\r\nExample to reproduce the issue:\r\n```\r\nimport tensorflow as tf\r\nimport numpy as np\r\n\r\nreallocate_tensors = False  # Turn this on to reallocate tensors every run, fixing tflite accuracy\r\nnb_channels = 5\r\nwt_size = 100\r\nin_size = 30\r\n\r\nclass DynamicWeightTest(tf.keras.layers.Layer):\r\n    def __init__(self,\r\n                 channels,\r\n                 select_size,\r\n                 **kwargs\r\n                 ):\r\n        super().__init__()\r\n\r\n        self.channels = channels\r\n        self.select_size = select_size\r\n\r\n\r\n    def call(self, inputs):\r\n        x = inputs[0]\r\n        wt = inputs[1]\r\n\r\n        x = tf.nn.conv2d(x, wt, (1, 1), 'VALID')\r\n\r\n        return x\r\n\r\n\r\ninput_wt = tf.keras.layers.Input(shape=(1, nb_channels, wt_size), dtype=tf.float32)\r\ninput_data = tf.keras.layers.Input(shape=(in_size, in_size, nb_channels,), dtype=tf.float32)\r\nx = DynamicWeightTest(channels=wt_size, select_size=nb_channels)([input_data, input_wt])\r\n\r\nmodel = tf.keras.Model(inputs=[input_data, input_wt], outputs=[x])\r\n\r\n# Get the concrete function from the Keras model.\r\nmodel_fn = tf.function(lambda x: model(x))\r\nmodel_fn_concrete = model_fn.get_concrete_function([input_data, input_wt])\r\n\r\n\r\n# tflite\r\nconverter = tf.lite.TFLiteConverter.from_concrete_functions([model_fn_concrete])\r\nconverter.optimizations = [tf.lite.Optimize.DEFAULT]\r\n\r\ntflite_model = converter.convert()\r\n\r\n# Load TFLite model and allocate tensors.\r\ninterpreter = tf.lite.Interpreter(model_content=tflite_model)\r\ninterpreter.allocate_tensors()\r\n\r\n# Get input and output tensors.\r\ninput_details = interpreter.get_input_details()\r\noutput_details = interpreter.get_output_details()\r\n\r\nfor _ in range(10):\r\n    data = np.array(np.random.random_sample((1, in_size, in_size, nb_channels,)), dtype=np.float32)\r\n    wt = np.array(np.random.random_sample((1, 1, nb_channels, wt_size)), dtype=np.float32)\r\n    out_ref = model([data, wt])\r\n\r\n    # concrete\r\n    out_fn = model_fn_concrete(tf.constant(data), tf.constant(wt))\r\n\r\n    # Note: need to fake resize the input & reallocate tensors\r\n    if reallocate_tensors:\r\n        interpreter.resize_tensor_input(0, (1, in_size, in_size, nb_channels,))\r\n        interpreter.allocate_tensors()\r\n\r\n    # Call tflite\r\n    interpreter.set_tensor(input_details[0]['index'], data)\r\n    interpreter.set_tensor(input_details[1]['index'], wt)\r\n    interpreter.invoke()\r\n    out_test = interpreter.get_tensor(output_details[0]['index'])\r\n\r\n    out_ref = out_ref.numpy()\r\n    out_fn = out_fn.numpy()\r\n    diff = 100. * np.sum(np.abs(out_test - out_ref)) / np.sum(np.abs(out_ref))\r\n    diff_fn = 100. * np.sum(np.abs(out_fn - out_ref)) / np.sum(np.abs(out_ref))\r\n    test_sum = np.sum(out_test)\r\n\r\n    print('Diff concrete function is: %f, diff tflite is: %f' % (diff_fn, diff))\r\n```\r\n\r\nExample output (without resize & allocate fix):\r\nDiff concrete function is: 0.000000, diff tflite is: 0.000002\r\nDiff concrete function is: 0.000000, diff tflite is: 33.312505\r\nDiff concrete function is: 0.000000, diff tflite is: 34.966878\r\nDiff concrete function is: 0.000000, diff tflite is: 31.750450\r\nDiff concrete function is: 0.000000, diff tflite is: 33.716212\r\nDiff concrete function is: 0.000000, diff tflite is: 34.539647\r\nDiff concrete function is: 0.000000, diff tflite is: 35.657966\r\nDiff concrete function is: 0.000000, diff tflite is: 35.823278\r\nDiff concrete function is: 0.000000, diff tflite is: 36.413545\r\nDiff concrete function is: 0.000000, diff tflite is: 33.483852\r\n\r\nEdit: Changed above example to include a variable that turns on/off fix", "comments": ["@sbsky \r\nI tried to reproduce the issue. I am getting constant difference in tflite. Please, see below screenshot for your reference.Do you feel it is still a bug?.Please, confirm.Thanks!\r\n![test](https://user-images.githubusercontent.com/51902062/62269229-ffe31900-b44f-11e9-98a0-f06183e0e7d0.png)\r\n", "My apologies, I could've made the example a bit more clear.  In the example the fix is by default on.  I've now included a variable 'reallocate_tensors' that controls it, now with default off.  Are you able to reproduce?", "@sbsky,\r\nOn running the code with [TF v2.0](https://colab.research.google.com/gist/amahendrakar/39d3391def95ea2eee7d5b2912218a77/tf2-0-template.ipynb), I got different outputs for `reallocate_tensors = False` and `reallocate_tensors = True`.\r\n\r\nHowever, with the latest [TF-nightly](https://colab.research.google.com/gist/amahendrakar/23d6fb76ed3cdd02d1b4b0efa021ce37/tf-nightly.ipynb), both the outputs are almost similar. Could you confirm if this is this the expected behavior? Please find the attached gist. Thanks! ", "@amahendrakar, no this is a further regression.  It seems that the previous workaround of reallocating tensors no longer functions.  tflite difference should be 0 & match concrete function output.", "Hey @sbsky , we've found the issue and it is indeed a bug in the x86 multi-threaded conv implementation for TFLite. This only worked by accident historically, as the tensor reallocation would force update the cached weights field we use in conv. I have a patch now that should resolve the issue. Thanks for flagging this!\r\n\r\nNote that this should not be an issue on ARM devices, or on certain Conv permutations (e.g. dilated conv) where we use a completely different codepath.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/31205\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/31205\">No</a>\n"]}, {"number": 31204, "title": "BatchMatMul, Merge, Switch.", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\n   Windows 10\r\n- TensorFlow installed from (source or binary):\r\n   Github\r\n- TensorFlow version (or github SHA if from source):\r\n   1.14.0\r\n\r\n**Provide the text output from tflite_convert**\r\n   \r\n```\r\nTOCO failed. See console for info.\r\n2019-07-30 13:09:37.522804: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 67 operators, 113 arrays (0 quantized)\r\n2019-07-30 13:09:37.523543: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] After Removing unused ops pass 1: 65 operators, 110 arrays (0 quantized)\r\n2019-07-30 13:09:37.524229: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 65 operators, 110 arrays (0 quantized)\r\n2019-07-30 13:09:37.525344: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] After general graph transformations pass 1: 49 operators, 87 arrays (0 quantized)\r\n2019-07-30 13:09:37.526111: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before Group bidirectional sequence lstm/rnn: 49 operators, 87 arrays (0 quantized)\r\n2019-07-30 13:09:37.526697: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before dequantization graph transformations: 49 operators, 87 arrays (0 quantized)\r\n2019-07-30 13:09:37.527380: I tensorflow/lite/toco/allocate_transient_arrays.cc:345] Total transient array allocated size: 256 bytes, theoretical optimal value: 128 bytes.\r\n2019-07-30 13:09:37.527969: E tensorflow/lite/toco/toco_tooling.cc:456] We are continually in the process of adding support to TensorFlow Lite for more ops. It would be helpful if you could inform us of how this conversion went by opening a github issue at https://github.com/tensorflow/tensorflow/issues/new?template=40-tflite-op-request.md\r\n and pasting the following:\r\n\r\nSome of the operators in the model are not supported by the standard TensorFlow Lite runtime. If those are native TensorFlow operators, you might be able to use the extended runtime by passing --enable_select_tf_ops, or by setting target_ops=TFLITE_BUILTINS,SELECT_TF_OPS when calling tf.lite.TFLiteConverter(). Otherwise, if you have a custom implementation for them you can disable this error with --allow_custom_ops, or by setting allow_custom_ops=True when calling tf.lite.TFLiteConverter(). Here is a list of builtin operators you are using: ADD, CONCATENATION, FULLY_CONNECTED, GREATER, LESS_EQUAL, LOGISTIC, MUL, PACK, REDUCE_MAX, REDUCE_MIN, SELECT, SPLIT, TANH, TRANSPOSE, UNPACK. Here is a list of operators for which you will need custom implementations: BatchMatMul, Merge, Switch.\r\n```\r\n\r\nAlso, please include a link to a GraphDef or the model if possible.\r\n\r\n**Any other info / logs**\r\nI am trying to convert a static LSTM model with an initial_state as input. If the initial_state =None, it will convert to tflite model correctly. \r\n\r\n\r\n\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\nConverterError                            Traceback (most recent call last)\r\n<ipython-input-6-647e6fe58eae> in <module>\r\n      2 converter=tf.lite.TFLiteConverter.from_frozen_graph(output_graph,input_arrays={'input_tensor'},#'input_state'},\r\n      3                                                     output_arrays={'output','output_state'})\r\n----> 4 tflite_model = converter.convert()\r\n      5 open(\"./TF_LSTM_V2.tflite\", \"wb\").write(tflite_model)\r\n\r\n~\\Anaconda3\\envs\\tf_1_14\\lib\\site-packages\\tensorflow\\lite\\python\\lite.py in convert(self)\r\n    896           input_tensors=self._input_tensors,\r\n    897           output_tensors=self._output_tensors,\r\n--> 898           **converter_kwargs)\r\n    899     else:\r\n    900       result = _toco_convert_graph_def(\r\n\r\n~\\Anaconda3\\envs\\tf_1_14\\lib\\site-packages\\tensorflow\\lite\\python\\convert.py in toco_convert_impl(input_data, input_tensors, output_tensors, *args, **kwargs)\r\n    402   data = toco_convert_protos(model_flags.SerializeToString(),\r\n    403                              toco_flags.SerializeToString(),\r\n--> 404                              input_data.SerializeToString())\r\n    405   return data\r\n    406 \r\n\r\n~\\Anaconda3\\envs\\tf_1_14\\lib\\site-packages\\tensorflow\\lite\\python\\convert.py in toco_convert_protos(model_flags_str, toco_flags_str, input_data_str)\r\n    170       stderr = _try_convert_to_unicode(stderr)\r\n    171       raise ConverterError(\r\n--> 172           \"TOCO failed. See console for info.\\n%s\\n%s\\n\" % (stdout, stderr))\r\n    173   finally:\r\n    174     # Must manually cleanup files.", "comments": ["Is this problem solved?", "Hi @guo-max \r\n\r\nIf your problem is not resolved yet, could you please try the following with the latest `tf-nightly>=2.3.0`?\r\n\r\n```python\r\nconverter = tf.lite.TFLiteConverter.from_keras_model(your_model)\r\nconverter.target_spec.supported_ops = [tf.lite.OpsSet.TFLITE_BUILTINS,  tf.lite.OpsSet.SELECT_TF_OPS]\r\ntflite_model = converter.convert()\r\n```", "Hi There,\n\n We are checking to see if you still need help on this, as you are using an older version of tensorflow which is officially considered end of life . We recommend that you upgrade to the latest 2.x version and let us know if the issue still persists in newer versions. Please open a new issue for any help you need against 2.x, and we will get you the right help. \n\n This issue will be closed automatically 7 days from now. If you still need help with this issue, please provide us with more information.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/31204\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/31204\">No</a>\n"]}, {"number": 31203, "title": "import tensorflow fail ,error code 3221225501", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): no\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): win7 SP1\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): pycharm Interpreter version \r\n- TensorFlow version (use command below): 1.14.0\r\n- Python version: 3.7.4\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: cuda_10.0.130_411.31\r\n- GPU model and memory:\r\n import tensorflow fail. \r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n![\u56fe\u7247](https://user-images.githubusercontent.com/15312660/62227908-54a27780-b3ef-11e9-888c-d09d41f3ad53.png)\r\n\r\n**Describe the current behavior**\r\n\r\n**Describe the expected behavior**\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Python37\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow.py\",\r\nine 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"C:\\Python37\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow_inte\r\nal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"C:\\Python37\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow_inte\r\nal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, descri\r\nion)\r\n  File \"C:\\Python37\\lib\\imp.py\", line 242, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"C:\\Python37\\lib\\imp.py\", line 342, in load_dynamic\r\n    return _load(spec)\r\nImportError: DLL load failed with error code 3221225501\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\Python37\\lib\\site-packages\\tensorflow\\__init__.py\", line 28, in <mo\r\nle>\r\n    from tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-\r\nport\r\n  File \"C:\\Python37\\lib\\site-packages\\tensorflow\\python\\__init__.py\", line 49,\r\nn <module>\r\n    from tensorflow.python import pywrap_tensorflow\r\n  File \"C:\\Python37\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow.py\",\r\nine 74, in <module>\r\n    raise ImportError(msg)\r\nImportError: Traceback (most recent call last):\r\n  File \"C:\\Python37\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow.py\",\r\nine 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"C:\\Python37\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow_inte\r\nal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"C:\\Python37\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow_inte\r\nal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, descri\r\nion)\r\n  File \"C:\\Python37\\lib\\imp.py\", line 242, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"C:\\Python37\\lib\\imp.py\", line 342, in load_dynamic\r\n    return _load(spec)\r\nImportError: DLL load failed with error code 3221225501\r\n\r\n\r\nFailed to load the native TensorFlow runtime.\r\n\r\nSee https://www.tensorflow.org/install/errors", "comments": ["From the template it looks like you are installing **TensorFlow-GPU** (TF) prebuilt binaries.\n\n **TF Version >= 1.13 requires CUDA 10.0 and TF Version < 1.13 (till TF 1.5) requires CUDA 9.0.** \n\n* If you have above configuration and using _**Windows**_ platform -\n     * Try adding the CUDA, CUPTI, and cuDNNinstallation directories to the %PATH% environment variable. \n     * Refer [windows setup guide](https://www.tensorflow.org/install/gpu#windows_setup).\n* If you have above configuration and using _**Ubuntu/Linux**_ platform -\n     * Try adding the CUDA, CUPTI, and cuDNN installation directories to the $LD_LIBRARY_PATH environment variable.\n     * Refer [linux setup guide](https://www.tensorflow.org/install/gpu#linux_setup).\n\nPlease let us know if this helps.", "@Neo01010 ,\r\nCan you please refer the [link](https://devtalk.nvidia.com/default/topic/1057009/error-code-3221225501-when-trying-to-run-tensorflow/).Thanks!", "Automatically closing due to lack of recent activity. Please update the issue when new information becomes available, and we will reopen the issue. Thanks!", "I just want to install tensorflo  not gpu, what should I do?", "> I just want to install tensorflo not gpu, what should I do?\r\n\r\nTry to downgrade your version\r\n`pip3 install tensorflow==1.5`", "No need to go that back. There are two pip packages, one contains gpu, the other one just cpu code. Make sure you use the right one."]}, {"number": 31202, "title": "Documentation is missing explanation of how to write custom loss functions for the keras api", "body": "## URL(s) with the issue:\r\n\r\nhttps://www.tensorflow.org/beta/guide/keras/training_and_evaluation#specifying_a_loss_metrics_and_an_optimizer\r\n\r\n## Description of issue (what needs changing):\r\n\r\nDocumentation is missing how to write custom loss functions and how to use the keras.losses.Loss class to write a loss function that takes more inputs than just y_true and y_pred despite the portion saying it will show how to write custom losses and metrics. Currently it shows how to write custom metrics and in layer loss only.\r\n\r\n### Clear description\r\n\r\nPeople can use this method to implement loss function not implemented in tensorflow or their own variations of loss functions. It also allows ports of loss functions without a keras.losses exposure such as tf.nn.weighted_cross_entropy_with_logits to be implemented in a model.compile use case without the need to write a custom training loop.\r\n\r\n### Correct links\r\n\r\nN/A\r\n\r\n### Parameters defined\r\n\r\nN/A\r\n\r\n### Returns defined\r\n\r\nN/A\r\n\r\n### Raises listed and defined\r\n\r\nN/A\r\n\r\n### Usage example\r\n\r\nThere is no documentation, but a good example would be porting a loss function from tensorflow.nn to be used in a class extending keras.losses.Loss and showing how to use a user written function without the keras.losses.Loss class.\r\n\r\n### Request visuals, if applicable\r\n\r\nNo visuals are there, but a portion of code similar to the custom metric code shown would be a good visual. \r\n\r\nA custom loss function I wrote in python follows:\r\n```\r\nclass WeightedBinaryCrossEntropy(keras.losses.Loss):\r\n    \"\"\"\r\n    pos_weight: Scalars the effec on loss by the positive class by whatever is passed into it.\r\n    weight: Scalars all the loss. Can be used to increase scalar of negative weight only by passing 1/weight to pos_weight. \r\n            To affect pos_weight even more after this multiply in the other scalar you had in mind for it\r\n    \"\"\"\r\n    def __init__(self, pos_weight, weight, from_logits=False, reduction=keras.losses.Reduction.AUTO, name='weighted_binary_crossentropy'):\r\n        super(WeightedBinaryCrossEntropy, self).__init__(reduction=reduction, name=name)\r\n        self.pos_weight = pos_weight\r\n        self.weight = weight\r\n        self.from_logits = from_logits\r\n\r\n    def call(self, y_true, y_pred):\r\n        if not self.from_logits:\r\n            with tf.name_scope('Weighted_Cross_Entropy'):\r\n                # Manually calculated the weighted cross entropy. Formula is qz * -log(sigmoid(x)) + (1 - z) * -log(1 - sigmoid(x)) where z are labels, x is logits, and q is the weight.\r\n                # Since the values passed are from sigmoid (assumably in this case) sigmoid(x) will be replaces with y_pred\r\n                x_1 = y_true * self.pos_weight * -tf.math.log(y_pred + 1e-6) # qz * -log(sigmoid(x)) 1e-6 is added as an epsilon to stop passing a zero into the log\r\n                x_2 = (1 - y_true) * -tf.math.log(1 - y_pred + 1e-6) # (1 - z) * -log(1 - sigmoid(x)). Epsilon is added to prevent passing a zero into the log\r\n                return tf.add(x_1, x_2) * self.weight # Must be negative as it is maximized when passed to optimizers\r\n        # Use built in function\r\n        return tf.nn.weighted_cross_entropy_with_logits(y_true, y_pred, self.pos_weight) * self.weight\r\n```\r\n\r\n### Submit a pull request?\r\n\r\nAre you planning to also submit a pull request to fix the issue? See the docs\r\ncontributor guide: https://www.tensorflow.org/community/contribute/docs and the\r\ndocs style guide: https://www.tensorflow.org/community/contribute/docs_style\r\n", "comments": ["@esslushy Are you planning to submit a PR to improve the documentation with examples of custom loss function? Thanks!", "@jvishnuvardhan Sure I can do that. I just was unsure if I should in case I misunderstood how the losses api was suppose to be shown. I will work on a PR. Thanks for the response.", "@esslushy I know you already know what you need to do. There was a recent [issue](https://github.com/tensorflow/tensorflow/issues/30711) regarding custom metric which might help you. Thanks! ", "@jvishnuvardhan thanks for the issue regarding the metrics and for responding so quickly. I have submit a [pull request](https://github.com/tensorflow/docs/pull/892) for the change. Thanks for all the help. Have a great day.", "@esslushy Automatically closing this out since I understand it to be resolved by the https://github.com/tensorflow/docs/pull/892 (merged already), but please let me know if I'm mistaken.Thanks!"]}, {"number": 31201, "title": "ERROR: Failed to prepare for TPU. generic::failed_precondition: Custom op already assigned to a different TPU.", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 18.04 LTS\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: no\r\n- TensorFlow installed from (source or binary): Docker image latest-gpu-py3\r\n- TensorFlow version (use command below): 1.14.0\r\n- Python version: 3.6\r\n- Bazel version (if compiling from source): - \r\n- GCC/Compiler version (if compiling from source): - \r\n- CUDA/cuDNN version: 10.1\r\n- GPU model and memory: RTX 2080 Ti\r\n\r\nI'm trying to compile tflite models with the edgetpu_compiler for usage with the Coral TPU stick. I have two versions of the tflite file. For the first one, I do not want to use the TPU acceleration (to compare the performances). I invoked the TFLiteConverter with the following configuration:\r\n```\r\nconverter = tf.compat.v1.lite.TFLiteConverter.from_keras_model_file(keras_file)\r\nconverter.inference_input_type = tf.float32\r\nconverter.inference_output_type = tf.float32\r\nconverter.optimizations = [tf.lite.Optimize.DEFAULT]\r\ntflite_model = converter.convert()\r\nopen(<tflite_file_name>, 'wb').write(tflite_model)\r\n```\r\nFor the TPU version, I chose the following options:\r\n```\r\nconverter = tf.compat.v1.lite.TFLiteConverter.from_keras_model_file(keras_file)\r\nconverter.representative_dataset = representative_dataset_gen\r\nconverter.target_ops = [tf.lite.OpsSet.TFLITE_BUILTINS_INT8]\r\nconverter.inference_input_type = tf.uint8\r\nconverter.inference_output_type = tf.uint8\r\nconverter.optimizations = [tf.lite.Optimize.DEFAULT]\r\ntflite_model = converter.convert()\r\nopen(<tflite_file_name>, 'wb').write(tflite_model)\r\n```\r\n\r\nTo check the output of these, I used the visualize.py script. The second graph has quantize nodes in it. To my understanding, I have to convert the second tflite file with the edgetpu_compiler (the first one is expectedly NOT convertible, as it is not quantized). This seems to work, as the log file outputs:\r\n\r\n```\r\nEdge TPU Compiler version 2.0.258810407\r\nInput: linearmodel_1.14.0_uint8.tflite\r\nOutput: linearmodel_1.14.0_uint8_edgetpu.tflite\r\n\r\nOperator                       Count      Status\r\n\r\nFULLY_CONNECTED                1          Mapped to Edge TPU\r\nQUANTIZE                       2          Mapped to Edge TPU\r\n```\r\n\r\nHowever, if I use it with the C++ API, I run into an error when allocating tensors:\r\n\r\n```\r\nERROR: Failed to prepare for TPU. generic::failed_precondition: Custom op already assigned to a different TPU.\r\nERROR: Node number 0 (edgetpu-custom-op) failed to prepare.\r\n```\r\n\r\nI have not found a solution to this problem. I can however, load the non-compiled tflite model, although I suspect this does not provide any time savings.\r\n\r\nI have uploaded all tflite models, their html visualizations and the edgetpu log with verbosity 10 to a github repo of mine: https://github.com/DocDriven/experimental\r\n\r\nIs this issue already known to you?", "comments": ["The conversion from tflite to edge_tpu seems right. Can you please give an example of how do you invoke the C++ API?", "@lu-wang-g \r\nSure, just note: \r\n\r\nWhen assigning a value to the input/output variable with\r\n` interpreter->typed_tensor<uint8_t>(4)[0] = quant_input;`\r\n`uint8_t quant_output = interpreter->typed_tensor<uint8_t>(5)[0];`\r\n\r\nyou have to change the input and output IDs to 0 and 1 respectively, if you want to use the tflite model generated by the compiler. Also, using `typed_input_tensor` and/or `typed_output_tensor` results in a Seg Fault.\r\n\r\n```\r\n#include <iostream>\r\n#include \"tensorflow/lite/interpreter.h\"\r\n#include \"tensorflow/lite/kernels/register.h\"\r\n#include \"tensorflow/lite/model.h\"\r\n#include \"tensorflow/lite/tools/gen_op_registration.h\"\r\n#include \"edgetpu.h\"\r\n\r\nint main(int argc, char** argv){\r\n\r\n    // check for correct CLI input\r\n    if (argc != 3) {\r\n            std::cout << \"Invalid number of arguments.\\nUsage: \" << argv[0] << \" <tflite model> <input value>\\n\";\r\n            exit(0);\r\n    }\r\n\r\n    auto tpu_context = edgetpu::EdgeTpuManager::GetSingleton()->NewEdgeTpuContext();\r\n    std::unique_ptr<tflite::Interpreter> interpreter;\r\n    tflite::ops::builtin::BuiltinOpResolver resolver;\r\n\r\n    // load model\r\n    std::unique_ptr<tflite::FlatBufferModel> model = tflite::FlatBufferModel::BuildFromFile(argv[1]);\r\n\r\n    if(!model){\r\n        std::cout << \"Failed to mmap model\\n\";\r\n        exit(0);\r\n    }\r\n\r\n    resolver.AddCustom(edgetpu::kCustomOp, edgetpu::RegisterCustomOp());\r\n\r\n    // Build the interpreter\r\n    if (tflite::InterpreterBuilder(*model, resolver)(&interpreter) != kTfLiteOk){\r\n            std::cout << \"Failed to build interpreter\\n\";\r\n            exit(0);\r\n    }\r\n    interpreter->SetExternalContext(kTfLiteEdgeTpuContext, tpu_context.get());  \r\n\r\n    // Allocate memory\r\n    if(interpreter->AllocateTensors() != kTfLiteOk){\r\n            std::cout << \"Failed to allocate tensors\\n\";\r\n            exit(0);\r\n    }\r\n\r\n    // Get the input from the CL\r\n    float real_input = strtof(argv[2], NULL);\r\n\r\n    // Quantize the inputs\r\n    const std::vector<int>& inputs = interpreter->inputs();\r\n    TfLiteTensor* input_tensor = interpreter->tensor(inputs[0]);\r\n    const TfLiteQuantizationParams& input_params = input_tensor->params;\r\n    uint8_t quant_input = (real_input / input_params.scale) + input_params.zero_point;\r\n    interpreter->typed_tensor<uint8_t>(4)[0] = quant_input;\r\n\r\n    // Invoke the interpreter\r\n    interpreter->Invoke();\r\n\r\n    // Get the output from the model\r\n    uint8_t quant_output = interpreter->typed_tensor<uint8_t>(5)[0];\r\n\r\n    // Dequantize the outputs\r\n    const std::vector<int>& outputs = interpreter->outputs();\r\n    TfLiteTensor* output_tensor = interpreter->tensor(outputs[0]);\r\n    const TfLiteQuantizationParams& output_params = output_tensor->params;\r\n    float real_output = output_params.scale * (quant_output - output_params.zero_point);\r\n\r\n    // Free resources\r\n    interpreter.reset();\r\n    tpu_context.reset();\r\n\r\n    // Do something with the output\r\n    std::cout << \"Result: \" << real_output << \"\\n\";\r\n\r\n    return 0;\r\n}\r\n\r\n```\r\n\r\nThe Makefile for compiling this looks like this (paths are specific to my system):\r\n\r\n```\r\nPROG = ./output/tpu_demo\r\nCC = g++\r\nCPPFLAGS = -Wall -I/tensorflow -I./src\r\nLDFLAGS = -L./src -ltensorflow-lite -ledgetpu_arm64 -ldl -lrt -pthread\r\nOBJS = ./src/tpu_demo.o\r\n\r\n$(PROG) : $(OBJS)\r\n\t$(CC) $(OBJS) $(LDFLAGS) -o $(PROG)\r\ntpu_demo.o :\r\n\t$(CC) $(CPPFLAGS) -c ./src/tpu_demo.cpp\r\nclean:\r\n\trm -f core $(PROG) $(OBJS)\r\n```\r\n", "I realized that I get sporadically different errors when executing the binary. Most of the time it throws the error I reported in the original post, but sometimes I get the following:\r\n\r\n```\r\nERROR: Failed to prepare for TPU. generic::failed_precondition: Missing raw model data.\r\nERROR: Node number 0 (edgetpu-custom-op) failed to prepare. \r\n```\r\n\r\nI am literally executing the exact same binary over and over again, and get two different error messages. Maybe this helps to track down the bug?!\r\n\r\nEDIT: I also realized that the documentation on the [Coral site](https://coral.withgoogle.com/docs/edgetpu/api-cpp/) and the example provided by [edgetpu.h](https://coral.googlesource.com/edgetpu-native/+/refs/heads/release-chef/libedgetpu/edgetpu.h) are not consistent. I went with the header example, as the other one does not work (OpenDevice does not seem to exist).", "@lu-wang-g \r\nCan you confirm to me if the invocation of the C++ API is correct or not, please?", "Hi Sebastian, I don't have quick answer about this issue. I've created an internal bug and assigned it to the Coral team. I'll keep you posted on any updates it may have.", "@lu-wang-g \r\nThanks for letting me know! I appreciate it!\r\n\r\nIf I can provide something to help tracking this bug down, let me know as well.", "@DocDriven Can you try to download the latest C/C++ libraries from https://coral.googlesource.com/edgetpu/+/refs/heads/release-diploria/libedgetpu/ and try with these libraries ?\r\nAdditionally, try to use/modify one of our examples from https://coral.googlesource.com/edgetpu-native/+/refs/heads/release-diploria/edgetpu/cpp/examples/ and see if your model runs with it.", "@manoj7410 Thanks for the help, I was able to run the compiled model with the new libraries. For anyone interested, I replaced the libs on my system with the provided \r\n```\r\nedgetpu.h\r\nlibedgetpu_arm64.so\r\ndirect/aarch64-linux_gnu/libedgetpu.so.1\r\n```\r\n(Last is just a symbolic link).", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=31201\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=31201\">No</a>\n"]}, {"number": 31200, "title": "illegal instruction", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary):\r\n- TensorFlow version:\r\n- Python version:\r\n- Installed using virtualenv? pip? conda?:\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\n\r\n\r\n**Describe the problem**\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\n\r\n**Any other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n", "comments": ["import tensorflow as tf causes illegal instruction. on docker ", "@faizulhz ,\r\nCan you please provide all the details mentioned in the standard template?Thanks!", "@faizulhz if you build tensorflow on latest platform with latest instruction such as AVX512. Then use this version on a older platform without AVX instruction . You may get this error.\r\nPlease refer to this link: https://github.com/tensorflow/tensorflow/issues/17411", "Automatically closing due to lack of recent activity. Please update the issue when new information becomes available, and we will reopen the issue. Thanks!\r\n"]}, {"number": 31199, "title": "Adding AVX2 and FMA makes tensorflow slower on my CPUs", "body": "- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): CentOS 7\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: no\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version (use command below): 1.14\r\n- Python version: 3.6.8\r\n- Bazel version (if compiling from source): 0.24.1\r\n- GCC/Compiler version (if compiling from source): 4.8.5\r\n- CUDA/cuDNN version: none \r\n- GPU model and memory: none\r\n\r\nI have built several different tensorflow versions from source to compare the performance during inference. Two of my many versions are:\r\n- prebuilt TF 1.14 C API libpackage (with AVX)\r\n- self-built TF 1.14 CAPI libpackage  (with AVX,AVX2,FMA)\r\n\r\nStrangely, I experience that the prebuilt version reaches better latency and throughput for every single comparison. I am a bit confused about that as adding additional instruction set architectures during the build should rather result in improved performance...? I am not sure where the difference might be. The self-built version is without XLA JIT.\r\n\r\nMy question: is there an obvious reason why this might occur? The hardware i use is:\r\nIntel Xeon Gold 6130 GPU 2.10 GHz (on a cluster, starting with 24 cores up to 480 cores)", "comments": ["Not using XLA may be the reason making it slower. But I am not the expert on this topic.\r\n@sanjoy any ideas?", "I don't see an obvious reason.  Did you try using a profiler (like perf) to see if you spot a difference.\r\n\r\nIf you were using XLA in the prebuilt version but not in the self-built version, that could also explain the difference.", "No I  do the timing with C++'s high resolution clock. Still it is obvious because for 250 subsequent inferences, the pre-built TF 1.14 is faster in 90% of the cases. Indeed I built the version with AVX2 and FMA without XLA. However according to our current second discussion about XLA activation for the C API (see: #29878 ) I must assume that I did not activate XLA because I do not set the TF_XLA_FLAGS. As far as I understand that is a mandatory requirement to activate XLA?", "> As far as I understand that is a mandatory requirement to activate XLA?\r\n\r\nNo (there are other ways to enable XLA).  You can know for sure by setting `--v=1` and looking for logging messages from xla_compilation_cache.cc saying that we compiled a cluster.\r\n\r\nBut XLA is not on by default, so to enable it you or a library you're using will have to have done something explicit.", "How can I set ```--v=1```? ", "I'm not totally sure how it works in open source, but I'd expect you can pass it as a command line arg.", "Ok so my findings:\r\nI did definitely not use XLA and I still constantly get the result that my self-build version with AVX2 and FMA is slower than the pre-built 1.14. Is there anything additional special about the pre-built versions?", "Can you try pre-built vs. self-built with AVX?  That'll get rid of the build environment as a confounding factor.", "@el1995 \r\n\r\nHave a look on @sanjoy's suggestion and let us know if that helps to resolve the issue. Thanks!", "Hi,\r\n\r\nunfortunately I will not manage to rebuild further versions due to time constraints. However I meanwhile had some cases where the version with AVX2 and FMA was identically fast as the pre-built version. I guess that the reason for the varying performance is the continuously fluctuating load on the fileserver of our cluster. This may have caused the pre-built version to be faster."]}, {"number": 31198, "title": "[tflite] fix allow fp16 in tflite benchmark_model", "body": "interpreter_->SetAllowFp16PrecisionForFp32() should be called\r\nbefore setting delegate. Otherwise, it won't work.", "comments": ["Can one of the admins verify this patch?", "This is used to tell NNAPI delegate to allow fp16 to be used to run fp32 models. On any NNAPI enabled platform having fp16 capable accelerator(s), e.g., phones with [Snapdragon 855](https://www.qualcomm.com/products/snapdragon-855-mobile-platform) and NNAPI driver for its GPU, Huawei phones with [Kirin 980](https://consumer.huawei.com/en/campaign/kirin980/), and phones with [MediaTek P90](https://www.mediatek.com/products/smartphones/mediatek-helio-p90), changing the order of code is necessary (after new NNAPI delegate introduced). This is not a model specific problem. Any floating point model supported by TFLite, e.g., ones at [TFLite Hosted Models](https://www.tensorflow.org/lite/guide/hosted_models) has this problem.", "Got it, thanks! "]}, {"number": 31197, "title": "contrib.graph_editor maintenance after Contrib module sunset", "body": "Hi all, i would like to know if there is a pro-vision to where these functionalities, of graph_editor such as subgraph_view, will be maintained. Or it won't? \r\n\r\nThey are very handy to architecture/comp-graph engineering. It is of particular interest for me to do research in many directions.\r\n\r\nThank you in advance.", "comments": ["This questions extends to contrib.copy_graph too, since TensorFlow dosnt seem to have this capabilities and i found very handy to model comp graphs", "@jvishnuvardhan i will be opting to open a RFC in the case that this features requires any changes in the presente APIs/SIGs  or i will be filling a SIG. That's my view now, feel free to re-open if you think that there is more discussion on the topic i issued.\r\n\r\nthanks"]}, {"number": 31196, "title": "Multiple builds of zlib library", "body": "During compilation of TF, `tensorflow_framework` target (`libtensorflow_framework.so`) will end up with multiple definitions of zlib. The reason is that `protobuf` will bring `zlib`\r\n\r\n whereas the rest of the system is using `zlib_archive`. There is a patch `//third_party/protobuf/protobuf.patch` to force the `protobuf` to use `zlib_archive` but it is not working because the logic introduced in `thrid_party/repo.bzl` to use `git apply` command instead of `patch -p1` on Unix machine is not working.\r\n\r\n**System information**\r\n- OS Platform and Distribution: Linux Ubuntu 18.04.2 LTS\r\n- TensorFlow: Branch # master, Commit # 7ab1171547f9c52b7f467604a5c13c98947dac1c \r\n- Python version: python3.6\r\n- Bazel version: 0.24.1\r\n- GCC/Compiler version: 7.3.1 \r\n\r\n**Diff view**\r\n```\r\ndiff --git a/third_party/repo.bzl b/third_party/repo.bzl\r\nindex a7506b4efe..083ebf9d6a 100644\r\n--- a/third_party/repo.bzl\r\n+++ b/third_party/repo.bzl\r\n@@ -62,13 +62,15 @@ def _repos_are_siblings():\r\n     return Label(\"@foo//bar\").workspace_root.startswith(\"../\")\r\n \r\n # Apply a patch_file to the repository root directory\r\n-# Runs 'git apply' on Unix, 'patch -p1' on Windows.\r\n+# Runs 'patch -p1'\r\n def _apply_patch(ctx, patch_file):\r\n-    if _is_windows(ctx):\r\n-        patch_command = [\"patch\", \"-p1\", \"-d\", ctx.path(\".\"), \"-i\", ctx.path(patch_file)]\r\n-    else:\r\n-        patch_command = [\"git\", \"apply\", \"-v\", ctx.path(patch_file)]\r\n-    cmd = _wrap_bash_cmd(ctx, patch_command)\r\n+    # Don't check patch on Windows, because patch is only available under bash.\r\n+    if not _is_windows(ctx) and not ctx.which(\"patch\"):\r\n+        fail(\"patch command is not found, please install it\")\r\n+    cmd = _wrap_bash_cmd(\r\n+        ctx,\r\n+        [\"patch\", \"-p1\", \"-d\", ctx.path(\".\"), \"-i\", ctx.path(patch_file)],\r\n+    )\r\n     _execute_and_check_ret_code(ctx, cmd)\r\n \r\n def _apply_delete(ctx, paths):\r\n```\r\n\r\n", "comments": ["@perfinion may have some ideas about this.", "Same problem when building tensorflow under 1.14 devel docker using `--output_base` flags to specify cache dir.\r\n\r\nAny news?", "@angersson  any news?", "Hmm, switching protobuf to use zlib_archive (or switch TF to use the other name) would work in the shorter term yeah. I think the better solution is to change how protobuf is used directly. bazel has its own rules to build protobuf targets, we should switch to that instead but I havent had a chance to look at it yet.\r\n\r\nHere is related discussion in protobuf: https://github.com/protocolbuffers/protobuf/issues/5402\r\nI'll want to test this carefully tho to make sure both the bundled and unbundled (ie export TF_SYSTEM_LIBS) builds work.\r\n\r\nhow are you testing this and what exactly caused the issue to come up? how can I reproduce it? were you linking to libtensorflow_framework with something else that used zlib?", "I'm experiency the same issue. Please help.\r\nHow can I switch protobuf to  @use zlib_archive?\r\n\r\nSystem information\r\nOS Platform and Distribution: Linux Ubuntu 18.04.1 LTS\r\nTensorFlow: v1.14.0\r\nPython version: 3.7\r\nBazel version: 0.26.1\r\nGCC/Compiler version: 7.4.0\r\n\r\nCommand: \r\nbazel build --config=mkl --config=noaws --config=nogcp --copt=\"-fPIC\" --verbose_failures //tensorflow/tools/pip_package:build_pip_package\r\n\r\nDuplicate of #31196\r\n\r\n[BUILD.20190813.log](https://github.com/tensorflow/tensorflow/files/3499654/BUILD.20190813.log)\r\n\r\n", "@stancosti, see the patch (as a diff view) in the problem description to fix your problem.", "> how are you testing this and what exactly caused the issue to come up? how can I reproduce it? were you linking to libtensorflow_framework with something else that used zlib?\r\n@perfinion, you will find this issue on by doing standard tensorflow build from the commandline for the specified revision. Mine build command was\r\n```\r\nbazel build -c opt \\\r\n  --config=noaws \\\r\n  --define=build_with_mkl=false \\\r\n  //tensorflow:libtensorflow.so \\\r\n  //tensorflow:libtensorflow_cc.so \\\r\n  //tensorflow:libtensorflow_framework.so \\\r\n  //tensorflow/lite:libtensorflowlite.so \\\r\n  //tensorflow/tools/pip_package:build_pip_package \\\r\n  //tensorflow/examples/label_image:label_image \\\r\n  //tensorflow/tools/benchmark:benchmark_model\r\n```\r\n\r\n", "> @stancosti, see the patch (as a diff view) in the problem description to fix your problem.\r\n\r\n@aakbar5, I saw the instructions (//third_party/protobuf/protobuf.patch) that are meant to replace @zllib with @zlib_archive. Why would the build fail even with these instructions? \r\n\r\nHow can I verify the patch is applied correctly and in the correct sequence (before the multiple definition error)? \r\n\r\nYou must be referring to these instructions:\r\ndiff --git a/BUILD b/BUILD\r\nindex 2fb26050..c2744d5b 100644\r\n--- a/BUILD\r\n+++ b/BUILD\r\n@@ -19,7 +19,7 @@ config_setting(\r\n # ZLIB configuration\r\n################################################################################\r\n-ZLIB_DEPS = [\"@zlib//:zlib\"]\r\n+ZLIB_DEPS = [\"@zlib_archive//:zlib\"]\r\n################################################################################\r\n\r\nI apreciate your help. Thanks", "@aakbar5 , this could be an indication of a problem applying the patch\r\n\r\nCommand: git apply --check third_party/protobuf/protobuf.patch\r\nResult:\r\nerror: patch failed: BUILD:19\r\nerror: BUILD: patch does not apply\r\n", "@stancosti I couldn't recall exactly what was the error message however problem was that `protobuf.patch` was not applied to protobuf source code so it was having dependency on `@zlib//:zlib` instead of `@zlib_archive//:zlib`. \r\n", "@aakbar5 Thank you for the explanation. Your assessment appears to be correct. However, I will not be able to test it out because I downloaded v1.14.0 again and built it fine. As a matter of fact, I don't see the protobuf.patch file in the downloaded code.\r\nThanks again for your help. I will move on as my build went fine.", "@stancosti Yes, you won't find in 1.14.0 as it is introduced later commits.", "But when  building tensorflow under 1.14 devel docker using `--output_base` flags to specify cache dir, also has this problem. Without redirect the cache to other dir, works fine.", "> But when building tensorflow under 1.14 devel docker using `--output_base` flags to specify cache dir, also has this problem. Without redirect the cache to other dir, works fine.\r\n\r\n@zh794390558 Can you give me the exact commandline to reproduce it? `bazel build --output_base=what..?` ", "@perfinion Like this \r\n\r\n`bazel --output_base=/delta/dpl/../tools/.cache/bazel build -c opt --verbose_failures //tensorflow:libtensorflow_cc.so`\r\n```\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:243:11:   required from 'static void Eigen::internal::EvalRange<Evaluator, StorageIndex, true>::run(Evaluator*, StorageIndex, StorageIndex) [with Evaluator = Eigen::Tensor/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/gzread.pic.o: multiple definition of 'gzgetc'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/gzread.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/gzread.pic.o: multiple definition of 'gzgetc_'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/gzread.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/gzread.pic.o: multiple definition of 'gzungetc'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/gzread.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/gzread.pic.o: multiple definition of 'gzgets'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/gzread.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/gzread.pic.o: multiple definition of 'gzdirect'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/gzread.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/gzread.pic.o: multiple definition of 'gzclose_r'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/gzread.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/gzwrite.pic.o: multiple definition of 'gzwrite'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/gzwrite.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/gzwrite.pic.o: multiple definition of 'gzfwrite'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/gzwrite.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/gzwrite.pic.o: multiple definition of 'gzputc'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/gzwrite.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/gzwrite.pic.o: multiple definition of 'gzputs'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/gzwrite.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/gzwrite.pic.o: multiple definition of 'gzvprintf'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/gzwrite.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/gzwrite.pic.o: multiple definition of 'gzprintf'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/gzwrite.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/gzwrite.pic.o: multiple definition of 'gzflush'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/gzwrite.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/gzwrite.pic.o: multiple definition of 'gzsetparams'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/gzwrite.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/gzwrite.pic.o: multiple definition of 'gzclose_w'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/gzwrite.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/infback.pic.o: multiple definition of 'inflateBackInit_'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/infback.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/infback.pic.o: multiple definition of 'inflateBack'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/infback.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/infback.pic.o: multiple definition of 'inflateBackEnd'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/infback.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inffast.pic.o: multiple definition of 'inflate_fast'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inffast.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflateResetKeep'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflateReset'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflateReset2'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflateInit2_'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflateInit_'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflatePrime'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflate'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflateEnd'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflateGetDictionary'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflateSetDictionary'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflateGetHeader'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflateSync'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflateSyncPoint'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflateCopy'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflateUndermine'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflateValidate'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflateMark'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inflate.pic.o: multiple definition of 'inflateCodesUsed'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inflate.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inftrees.pic.o: multiple definition of 'inflate_table'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inftrees.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/inftrees.pic.o: multiple definition of 'inflate_copyright'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/inftrees.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/trees.pic.o: multiple definition of '_length_code'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/trees.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/trees.pic.o: multiple definition of '_dist_code'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/trees.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/trees.pic.o: multiple definition of '_tr_init'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/trees.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/trees.pic.o: multiple definition of '_tr_stored_block'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/trees.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/trees.pic.o: multiple definition of '_tr_flush_bits'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/trees.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/trees.pic.o: multiple definition of '_tr_align'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/trees.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/trees.pic.o: multiple definition of '_tr_flush_block'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/trees.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/trees.pic.o: multiple definition of '_tr_tally'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/trees.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/uncompr.pic.o: multiple definition of 'uncompress2'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/uncompr.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/uncompr.pic.o: multiple definition of 'uncompress'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/uncompr.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/zutil.pic.o: multiple definition of 'zlibVersion'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/zutil.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/zutil.pic.o: multiple definition of 'zlibCompileFlags'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/zutil.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/zutil.pic.o: multiple definition of 'zError'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/zutil.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/zutil.pic.o: multiple definition of 'z_errmsg'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/zutil.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/zutil.pic.o: multiple definition of 'zcalloc'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/zutil.pic.o: previous definition here\r\n/usr/bin/ld.gold: error: bazel-out/host/bin/external/zlib_archive/_objs/zlib/zutil.pic.o: multiple definition of 'zcfree'\r\n/usr/bin/ld.gold: bazel-out/host/bin/external/zlib/_objs/zlib/zutil.pic.o: previous definition here\r\ncollect2: error: ld returned 1 exit status\r\nTarget //tensorflow:libtensorflow_cc.so failed to build\r\nINFO: Elapsed time: 608.855s, Critical Path: 74.91s\r\nINFO: 3663 processes: 3663 local.\r\n```\r\n\r\nusing this, everthing is ok:\r\n`bazel build -c opt --verbose_failures //tensorflow:libtensorflow_cc.so`", "Hi all, I experience the same issue on various TF commits after (but not including) r1.14 and various docker images. Currently I'm on deepo docker image, using  `r1.15` version of TF, all-default configure, and I'm using bazel `0.26.1`. \r\n\r\nHere are some information:\r\n\r\n1. `protobuf.patch` is included into TF sources\r\n2. `.cache/bazel $ ag ZLIB_DEPS` shows that this patch is NOT applied (I see `ZLIB_DEPS = [\"@zlib//:zlib\"]`, no mentions of `zlib_archive`)\r\n3. `--define=grpc_no_ares=true ` mentioned in #23402 is already set\r\n4. Removing `~/.cache` and `git clean -f` has no effect\r\n5. **if I change `apply_patch` function from `third_party/repo.bzl` to use `patch` instead of `git apply`unconditionally as suggested by @aakbar5 , the error dissappears.** \r\n6. After this fix `.cache/bazel $ ag ZLIB_DEPS` shows `22:ZLIB_DEPS = [\"@zlib_archive//:zlib\"]` as expected and I am able to build TF.\r\n7. Some colleagues don't see `ZLIB_DEPS` at all in their `.cache`. Probably there are system conditions which make bazel to bypass this path entirely.\r\n\r\nPlease, consider investigating git-apply VS patch compatibility.\r\n\r\nAlso, I feel I should say it again: IMO Bazel is overcomplicated and barely-usable build system. Client-server architecture may be OK for heavily loaded places like Google, but for end-users its a hell to configure it.", "Is this still an issue now that #32177 landed?", "Closing as there has been no activity after #32177 landed. Please reopen if it is still an issue.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=31196\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=31196\">No</a>\n"]}, {"number": 31195, "title": "Can not build //tensorflow/core/kernels:cwise_ops_test", "body": "**System information**\r\n- OS Platform and Distribution ( Linux Ubuntu 18.04):\r\n- TensorFlow installed from (source ):\r\n- TensorFlow version: r2.0\r\n- Python version: Python 3.6.8 (default, Jan 14 2019, 11:02:34) \r\n- Installed using virtualenv? pip? conda?: build test binary with bazel\r\n- Bazel version (if compiling from source):Build label: 0.24.1\r\n- GCC/Compiler version (if compiling from source): gcc version 7.4.0 (Ubuntu 7.4.0-1ubuntu1~18.04.1) \r\n- CUDA/cuDNN version: cuda 10.0/ cudnn 7.6\r\n- GPU model and memory: GeForce GTX 1050 / 2000M\r\n\r\n\r\n\r\n**Describe the problem**\r\nI am trying to build cwise_ops_test with bazel test -c opt --strip=never --config=cuda_clang -s //tensorflow/core/kernels:cwise_ops_test command , but failed with below error message. \r\nHow to add --expt-relaxed-constexpr for clang? I saw this compiler option added with nvcc, so I guess clang also need a similar option, where I can add this option?\r\n\r\n```\r\nWARNING: The following configs were expanded more than once: [cuda_clang, using_cuda]. For repeatable flags, repeats are counted twice and may lead to unexpected behavior.\r\nINFO: Options provided by the client:\r\n  Inherited 'common' options: --isatty=0 --terminal_columns=80\r\nINFO: Reading rc options for 'test' from /home/chengleiwang/code/tensorflow/.bazelrc:\r\n  Inherited 'build' options: --apple_platform_type=macos --define framework_shared_object=true --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone --strategy=Genrule=standalone -c opt --announce_rc --define=grpc_no_ares=true --define=PREFIX=/usr --define=LIBDIR=$(PREFIX)/lib --define=INCLUDEDIR=$(PREFIX)/include\r\nINFO: Reading rc options for 'test' from /home/chengleiwang/code/tensorflow/.tf_configure.bazelrc:\r\n  Inherited 'build' options: --action_env PYTHON_BIN_PATH=/usr/bin/python3 --action_env PYTHON_LIB_PATH=/usr/lib/python3/dist-packages --python_path=/usr/bin/python3 --action_env CUDA_TOOLKIT_PATH=/usr/local/cuda --action_env TF_CUDA_COMPUTE_CAPABILITIES=6.1 --config=cuda_clang --action_env CLANG_CUDA_COMPILER_PATH=/usr/bin/clang --config=cuda_clang --action_env TF_CONFIGURE_IOS=0\r\nINFO: Reading rc options for 'test' from /home/chengleiwang/code/tensorflow/.tf_configure.bazelrc:\r\n  'test' options: --flaky_test_attempts=3 --test_size_filters=small,medium --test_tag_filters=-benchmark-test,-no_oss,-oss_serial --build_tag_filters=-benchmark-test,-no_oss --test_tag_filters=-gpu --build_tag_filters=-gpu\r\nINFO: Found applicable config definition build:cuda_clang in file /home/chengleiwang/code/tensorflow/.bazelrc: --config=using_cuda --define=using_cuda_clang=true --define=using_clang=true\r\nINFO: Found applicable config definition build:using_cuda in file /home/chengleiwang/code/tensorflow/.bazelrc: --define=using_cuda=true --action_env TF_NEED_CUDA=1 --crosstool_top=@local_config_cuda//crosstool:toolchain\r\nINFO: Found applicable config definition build:cuda_clang in file /home/chengleiwang/code/tensorflow/.bazelrc: --config=using_cuda --define=using_cuda_clang=true --define=using_clang=true\r\nINFO: Found applicable config definition build:using_cuda in file /home/chengleiwang/code/tensorflow/.bazelrc: --define=using_cuda=true --action_env TF_NEED_CUDA=1 --crosstool_top=@local_config_cuda//crosstool:toolchain\r\nINFO: Found applicable config definition build:cuda_clang in file /home/chengleiwang/code/tensorflow/.bazelrc: --config=using_cuda --define=using_cuda_clang=true --define=using_clang=true\r\nINFO: Found applicable config definition build:using_cuda in file /home/chengleiwang/code/tensorflow/.bazelrc: --define=using_cuda=true --action_env TF_NEED_CUDA=1 --crosstool_top=@local_config_cuda//crosstool:toolchain\r\nLoading: \r\nLoading: 0 packages loaded\r\nAnalyzing: target //tensorflow/core/kernels:cwise_ops_test (0 packages loaded, 0 targets configured)\r\nINFO: Analysed target //tensorflow/core/kernels:cwise_ops_test (2 packages loaded, 143 targets configured).\r\nINFO: Found 1 test target...\r\n[0 / 4] [-----] BazelWorkspaceStatusAction stable-status.txt\r\nSUBCOMMAND: # //tensorflow/stream_executor:plugin_registry [action 'Linking tensorflow/stream_executor/libplugin_registry.so']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -shared -o bazel-out/k8-opt/bin/tensorflow/stream_executor/libplugin_registry.so -Wl,-no-as-needed -Wl,-z,relro,-z,now '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -no-canonical-prefixes -fno-canonical-system-headers -B/usr/bin -Wl,--gc-sections -Wl,@bazel-out/k8-opt/bin/tensorflow/stream_executor/libplugin_registry.so-2.params)\r\nSUBCOMMAND: # //tensorflow/stream_executor:dnn [action 'Linking tensorflow/stream_executor/libdnn.so']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -shared -o bazel-out/k8-opt/bin/tensorflow/stream_executor/libdnn.so -Wl,-no-as-needed -Wl,-z,relro,-z,now '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -no-canonical-prefixes -fno-canonical-system-headers -B/usr/bin -Wl,--gc-sections -Wl,@bazel-out/k8-opt/bin/tensorflow/stream_executor/libdnn.so-2.params)\r\nSUBCOMMAND: # //tensorflow/stream_executor:blas [action 'Linking tensorflow/stream_executor/libblas.so']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -shared -o bazel-out/k8-opt/bin/tensorflow/stream_executor/libblas.so -Wl,-no-as-needed -Wl,-z,relro,-z,now '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -no-canonical-prefixes -fno-canonical-system-headers -B/usr/bin -Wl,--gc-sections -Wl,@bazel-out/k8-opt/bin/tensorflow/stream_executor/libblas.so-2.params)\r\nSUBCOMMAND: # //tensorflow/core/grappler/optimizers:loop_optimizer [action 'Linking tensorflow/core/grappler/optimizers/libloop_optimizer.so']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -shared -o bazel-out/k8-opt/bin/tensorflow/core/grappler/optimizers/libloop_optimizer.so -Wl,-no-as-needed -Wl,-z,relro,-z,now '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -no-canonical-prefixes -fno-canonical-system-headers -B/usr/bin -Wl,--gc-sections -Wl,@bazel-out/k8-opt/bin/tensorflow/core/grappler/optimizers/libloop_optimizer.so-2.params)\r\nSUBCOMMAND: # //tensorflow/core/kernels:depthwise_conv_op_gpu [action 'Compiling tensorflow/core/kernels/depthwise_conv_op_gpu_float.cu.cc']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_float.cu.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_float.cu.pic.o' -D__CLANG_SUPPORT_DYN_ANNOTATION__ -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' '-DEIGEN_HAS_TYPE_TRAITS=0' -DTENSORFLOW_USE_CUSTOM_CONTRACTION_KERNEL -DTENSORFLOW_USE_MKLDNN_CONTRACTION_KERNEL -DTF_USE_SNAPPY -DCURL_STATICLIB -DPLATFORM_LINUX -DENABLE_CURL_CLIENT -DENABLE_NO_ENCRYPTION -iquote . -iquote bazel-out/k8-opt/genfiles -iquote bazel-out/k8-opt/bin -iquote external/com_google_absl -iquote bazel-out/k8-opt/genfiles/external/com_google_absl -iquote bazel-out/k8-opt/bin/external/com_google_absl -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote bazel-out/k8-opt/bin/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote bazel-out/k8-opt/bin/external/local_config_sycl -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -iquote external/nsync -iquote bazel-out/k8-opt/genfiles/external/nsync -iquote bazel-out/k8-opt/bin/external/nsync -iquote external/gif_archive -iquote bazel-out/k8-opt/genfiles/external/gif_archive -iquote bazel-out/k8-opt/bin/external/gif_archive -iquote external/jpeg -iquote bazel-out/k8-opt/genfiles/external/jpeg -iquote bazel-out/k8-opt/bin/external/jpeg -iquote external/protobuf_archive -iquote bazel-out/k8-opt/genfiles/external/protobuf_archive -iquote bazel-out/k8-opt/bin/external/protobuf_archive -iquote external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/genfiles/external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/bin/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/k8-opt/genfiles/external/farmhash_archive -iquote bazel-out/k8-opt/bin/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/k8-opt/genfiles/external/fft2d -iquote bazel-out/k8-opt/bin/external/fft2d -iquote external/highwayhash -iquote bazel-out/k8-opt/genfiles/external/highwayhash -iquote bazel-out/k8-opt/bin/external/highwayhash -iquote external/zlib_archive -iquote bazel-out/k8-opt/genfiles/external/zlib_archive -iquote bazel-out/k8-opt/bin/external/zlib_archive -iquote external/local_config_cuda -iquote bazel-out/k8-opt/genfiles/external/local_config_cuda -iquote bazel-out/k8-opt/bin/external/local_config_cuda -iquote external/double_conversion -iquote bazel-out/k8-opt/genfiles/external/double_conversion -iquote bazel-out/k8-opt/bin/external/double_conversion -iquote external/curl -iquote bazel-out/k8-opt/genfiles/external/curl -iquote bazel-out/k8-opt/bin/external/curl -iquote external/boringssl -iquote bazel-out/k8-opt/genfiles/external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -iquote external/jsoncpp_git -iquote bazel-out/k8-opt/genfiles/external/jsoncpp_git -iquote bazel-out/k8-opt/bin/external/jsoncpp_git -iquote external/aws -iquote bazel-out/k8-opt/genfiles/external/aws -iquote bazel-out/k8-opt/bin/external/aws -iquote external/cub_archive -iquote bazel-out/k8-opt/genfiles/external/cub_archive -iquote bazel-out/k8-opt/bin/external/cub_archive -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cuda_headers_virtual -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cudnn_header -Ibazel-out/k8-opt/bin/external/cub_archive/_virtual_includes/cub -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak -isystem external/nsync/public -isystem bazel-out/k8-opt/genfiles/external/nsync/public -isystem bazel-out/k8-opt/bin/external/nsync/public -isystem external/gif_archive/lib -isystem bazel-out/k8-opt/genfiles/external/gif_archive/lib -isystem bazel-out/k8-opt/bin/external/gif_archive/lib -isystem external/protobuf_archive/src -isystem bazel-out/k8-opt/genfiles/external/protobuf_archive/src -isystem bazel-out/k8-opt/bin/external/protobuf_archive/src -isystem external/farmhash_archive/src -isystem bazel-out/k8-opt/genfiles/external/farmhash_archive/src -isystem bazel-out/k8-opt/bin/external/farmhash_archive/src -isystem external/zlib_archive -isystem bazel-out/k8-opt/genfiles/external/zlib_archive -isystem bazel-out/k8-opt/bin/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda/cuda/include -isystem external/double_conversion -isystem bazel-out/k8-opt/genfiles/external/double_conversion -isystem bazel-out/k8-opt/bin/external/double_conversion -isystem external/curl/include -isystem bazel-out/k8-opt/genfiles/external/curl/include -isystem bazel-out/k8-opt/bin/external/curl/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/genfiles/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem external/jsoncpp_git/include -isystem bazel-out/k8-opt/genfiles/external/jsoncpp_git/include -isystem bazel-out/k8-opt/bin/external/jsoncpp_git/include -isystem external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-core/include -isystem external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-kinesis/include -isystem external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-s3/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions '-ftemplate-depth=900' '-DGOOGLE_CUDA=1' -msse3 -pthread -x cuda '-DGOOGLE_CUDA=1' -fcuda-flush-denormals-to-zero -c tensorflow/core/kernels/depthwise_conv_op_gpu_float.cu.cc -o bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_float.cu.pic.o)\r\nSUBCOMMAND: # //tensorflow/core/kernels:depthwise_conv_op_gpu [action 'Compiling tensorflow/core/kernels/depthwise_conv_op_gpu_half.cu.cc']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_half.cu.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_half.cu.pic.o' -D__CLANG_SUPPORT_DYN_ANNOTATION__ -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' '-DEIGEN_HAS_TYPE_TRAITS=0' -DTENSORFLOW_USE_CUSTOM_CONTRACTION_KERNEL -DTENSORFLOW_USE_MKLDNN_CONTRACTION_KERNEL -DTF_USE_SNAPPY -DCURL_STATICLIB -DPLATFORM_LINUX -DENABLE_CURL_CLIENT -DENABLE_NO_ENCRYPTION -iquote . -iquote bazel-out/k8-opt/genfiles -iquote bazel-out/k8-opt/bin -iquote external/com_google_absl -iquote bazel-out/k8-opt/genfiles/external/com_google_absl -iquote bazel-out/k8-opt/bin/external/com_google_absl -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote bazel-out/k8-opt/bin/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote bazel-out/k8-opt/bin/external/local_config_sycl -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -iquote external/nsync -iquote bazel-out/k8-opt/genfiles/external/nsync -iquote bazel-out/k8-opt/bin/external/nsync -iquote external/gif_archive -iquote bazel-out/k8-opt/genfiles/external/gif_archive -iquote bazel-out/k8-opt/bin/external/gif_archive -iquote external/jpeg -iquote bazel-out/k8-opt/genfiles/external/jpeg -iquote bazel-out/k8-opt/bin/external/jpeg -iquote external/protobuf_archive -iquote bazel-out/k8-opt/genfiles/external/protobuf_archive -iquote bazel-out/k8-opt/bin/external/protobuf_archive -iquote external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/genfiles/external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/bin/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/k8-opt/genfiles/external/farmhash_archive -iquote bazel-out/k8-opt/bin/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/k8-opt/genfiles/external/fft2d -iquote bazel-out/k8-opt/bin/external/fft2d -iquote external/highwayhash -iquote bazel-out/k8-opt/genfiles/external/highwayhash -iquote bazel-out/k8-opt/bin/external/highwayhash -iquote external/zlib_archive -iquote bazel-out/k8-opt/genfiles/external/zlib_archive -iquote bazel-out/k8-opt/bin/external/zlib_archive -iquote external/local_config_cuda -iquote bazel-out/k8-opt/genfiles/external/local_config_cuda -iquote bazel-out/k8-opt/bin/external/local_config_cuda -iquote external/double_conversion -iquote bazel-out/k8-opt/genfiles/external/double_conversion -iquote bazel-out/k8-opt/bin/external/double_conversion -iquote external/curl -iquote bazel-out/k8-opt/genfiles/external/curl -iquote bazel-out/k8-opt/bin/external/curl -iquote external/boringssl -iquote bazel-out/k8-opt/genfiles/external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -iquote external/jsoncpp_git -iquote bazel-out/k8-opt/genfiles/external/jsoncpp_git -iquote bazel-out/k8-opt/bin/external/jsoncpp_git -iquote external/aws -iquote bazel-out/k8-opt/genfiles/external/aws -iquote bazel-out/k8-opt/bin/external/aws -iquote external/cub_archive -iquote bazel-out/k8-opt/genfiles/external/cub_archive -iquote bazel-out/k8-opt/bin/external/cub_archive -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cuda_headers_virtual -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cudnn_header -Ibazel-out/k8-opt/bin/external/cub_archive/_virtual_includes/cub -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak -isystem external/nsync/public -isystem bazel-out/k8-opt/genfiles/external/nsync/public -isystem bazel-out/k8-opt/bin/external/nsync/public -isystem external/gif_archive/lib -isystem bazel-out/k8-opt/genfiles/external/gif_archive/lib -isystem bazel-out/k8-opt/bin/external/gif_archive/lib -isystem external/protobuf_archive/src -isystem bazel-out/k8-opt/genfiles/external/protobuf_archive/src -isystem bazel-out/k8-opt/bin/external/protobuf_archive/src -isystem external/farmhash_archive/src -isystem bazel-out/k8-opt/genfiles/external/farmhash_archive/src -isystem bazel-out/k8-opt/bin/external/farmhash_archive/src -isystem external/zlib_archive -isystem bazel-out/k8-opt/genfiles/external/zlib_archive -isystem bazel-out/k8-opt/bin/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda/cuda/include -isystem external/double_conversion -isystem bazel-out/k8-opt/genfiles/external/double_conversion -isystem bazel-out/k8-opt/bin/external/double_conversion -isystem external/curl/include -isystem bazel-out/k8-opt/genfiles/external/curl/include -isystem bazel-out/k8-opt/bin/external/curl/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/genfiles/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem external/jsoncpp_git/include -isystem bazel-out/k8-opt/genfiles/external/jsoncpp_git/include -isystem bazel-out/k8-opt/bin/external/jsoncpp_git/include -isystem external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-core/include -isystem external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-kinesis/include -isystem external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-s3/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions '-ftemplate-depth=900' '-DGOOGLE_CUDA=1' -msse3 -pthread -x cuda '-DGOOGLE_CUDA=1' -fcuda-flush-denormals-to-zero -c tensorflow/core/kernels/depthwise_conv_op_gpu_half.cu.cc -o bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_half.cu.pic.o)\r\nSUBCOMMAND: # //tensorflow/core/kernels:depthwise_conv_op_gpu [action 'Compiling tensorflow/core/kernels/depthwise_conv_op_gpu_double.cu.cc']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_double.cu.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_double.cu.pic.o' -D__CLANG_SUPPORT_DYN_ANNOTATION__ -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' '-DEIGEN_HAS_TYPE_TRAITS=0' -DTENSORFLOW_USE_CUSTOM_CONTRACTION_KERNEL -DTENSORFLOW_USE_MKLDNN_CONTRACTION_KERNEL -DTF_USE_SNAPPY -DCURL_STATICLIB -DPLATFORM_LINUX -DENABLE_CURL_CLIENT -DENABLE_NO_ENCRYPTION -iquote . -iquote bazel-out/k8-opt/genfiles -iquote bazel-out/k8-opt/bin -iquote external/com_google_absl -iquote bazel-out/k8-opt/genfiles/external/com_google_absl -iquote bazel-out/k8-opt/bin/external/com_google_absl -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote bazel-out/k8-opt/bin/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote bazel-out/k8-opt/bin/external/local_config_sycl -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -iquote external/nsync -iquote bazel-out/k8-opt/genfiles/external/nsync -iquote bazel-out/k8-opt/bin/external/nsync -iquote external/gif_archive -iquote bazel-out/k8-opt/genfiles/external/gif_archive -iquote bazel-out/k8-opt/bin/external/gif_archive -iquote external/jpeg -iquote bazel-out/k8-opt/genfiles/external/jpeg -iquote bazel-out/k8-opt/bin/external/jpeg -iquote external/protobuf_archive -iquote bazel-out/k8-opt/genfiles/external/protobuf_archive -iquote bazel-out/k8-opt/bin/external/protobuf_archive -iquote external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/genfiles/external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/bin/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/k8-opt/genfiles/external/farmhash_archive -iquote bazel-out/k8-opt/bin/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/k8-opt/genfiles/external/fft2d -iquote bazel-out/k8-opt/bin/external/fft2d -iquote external/highwayhash -iquote bazel-out/k8-opt/genfiles/external/highwayhash -iquote bazel-out/k8-opt/bin/external/highwayhash -iquote external/zlib_archive -iquote bazel-out/k8-opt/genfiles/external/zlib_archive -iquote bazel-out/k8-opt/bin/external/zlib_archive -iquote external/local_config_cuda -iquote bazel-out/k8-opt/genfiles/external/local_config_cuda -iquote bazel-out/k8-opt/bin/external/local_config_cuda -iquote external/double_conversion -iquote bazel-out/k8-opt/genfiles/external/double_conversion -iquote bazel-out/k8-opt/bin/external/double_conversion -iquote external/curl -iquote bazel-out/k8-opt/genfiles/external/curl -iquote bazel-out/k8-opt/bin/external/curl -iquote external/boringssl -iquote bazel-out/k8-opt/genfiles/external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -iquote external/jsoncpp_git -iquote bazel-out/k8-opt/genfiles/external/jsoncpp_git -iquote bazel-out/k8-opt/bin/external/jsoncpp_git -iquote external/aws -iquote bazel-out/k8-opt/genfiles/external/aws -iquote bazel-out/k8-opt/bin/external/aws -iquote external/cub_archive -iquote bazel-out/k8-opt/genfiles/external/cub_archive -iquote bazel-out/k8-opt/bin/external/cub_archive -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cuda_headers_virtual -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cudnn_header -Ibazel-out/k8-opt/bin/external/cub_archive/_virtual_includes/cub -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak -isystem external/nsync/public -isystem bazel-out/k8-opt/genfiles/external/nsync/public -isystem bazel-out/k8-opt/bin/external/nsync/public -isystem external/gif_archive/lib -isystem bazel-out/k8-opt/genfiles/external/gif_archive/lib -isystem bazel-out/k8-opt/bin/external/gif_archive/lib -isystem external/protobuf_archive/src -isystem bazel-out/k8-opt/genfiles/external/protobuf_archive/src -isystem bazel-out/k8-opt/bin/external/protobuf_archive/src -isystem external/farmhash_archive/src -isystem bazel-out/k8-opt/genfiles/external/farmhash_archive/src -isystem bazel-out/k8-opt/bin/external/farmhash_archive/src -isystem external/zlib_archive -isystem bazel-out/k8-opt/genfiles/external/zlib_archive -isystem bazel-out/k8-opt/bin/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda/cuda/include -isystem external/double_conversion -isystem bazel-out/k8-opt/genfiles/external/double_conversion -isystem bazel-out/k8-opt/bin/external/double_conversion -isystem external/curl/include -isystem bazel-out/k8-opt/genfiles/external/curl/include -isystem bazel-out/k8-opt/bin/external/curl/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/genfiles/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem external/jsoncpp_git/include -isystem bazel-out/k8-opt/genfiles/external/jsoncpp_git/include -isystem bazel-out/k8-opt/bin/external/jsoncpp_git/include -isystem external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-core/include -isystem external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-kinesis/include -isystem external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-s3/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions '-ftemplate-depth=900' '-DGOOGLE_CUDA=1' -msse3 -pthread -x cuda '-DGOOGLE_CUDA=1' -fcuda-flush-denormals-to-zero -c tensorflow/core/kernels/depthwise_conv_op_gpu_double.cu.cc -o bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_double.cu.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/rnn/cell_common.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/cell_common.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/cell_common.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/rnn/cell_common.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/cell_common.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/rnn/cell_gru_lbr.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/cell_gru_lbr.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/cell_gru_lbr.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/rnn/cell_gru_lbr.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/cell_gru_lbr.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/ref_shuffle.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_shuffle.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_shuffle.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/ref_shuffle.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_shuffle.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/rnn/cell_rnn.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/cell_rnn.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/cell_rnn.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/rnn/cell_rnn.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/cell_rnn.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/rnn/cell_lstm.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/cell_lstm.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/cell_lstm.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/rnn/cell_lstm.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/cell_lstm.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/rnn/ref_rnn.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_rnn.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_rnn.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/rnn/ref_rnn.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_rnn.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/ref_softmax.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_softmax.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_softmax.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/ref_softmax.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_softmax.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/rnn/rnn_utils.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/rnn_utils.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/rnn_utils.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/rnn/rnn_utils.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/rnn_utils.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/simple_concat.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/simple_concat.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/simple_concat.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/simple_concat.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/simple_concat.pic.o)\r\n[25 / 42] Compiling tensorflow/core/kernels/depthwise_conv_op_gpu_float.cu.cc; 1s local ... (11 actions running)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/simple_sum.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/simple_sum.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/simple_sum.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/simple_sum.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/simple_sum.pic.o)\r\nINFO: From Compiling external/mkl_dnn/src/cpu/rnn/cell_gru_lbr.cpp:\r\nexternal/mkl_dnn/src/cpu/rnn/cell_gru_lbr.cpp:45:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n         PRAGMA_OMP_SIMD()\r\n \r\nexternal/mkl_dnn/src/cpu/rnn/cell_gru_lbr.cpp:104:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n         PRAGMA_OMP_SIMD()\r\n \r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/ref_lrn.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_lrn.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_lrn.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/ref_lrn.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_lrn.pic.o)\r\nINFO: From Compiling external/mkl_dnn/src/cpu/rnn/cell_lstm.cpp:\r\nexternal/mkl_dnn/src/cpu/rnn/cell_lstm.cpp:44:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n         PRAGMA_OMP_SIMD()\r\n \r\nexternal/mkl_dnn/src/cpu/rnn/cell_lstm.cpp:85:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n         PRAGMA_OMP_SIMD()\r\n \r\nexternal/mkl_dnn/src/cpu/rnn/cell_lstm.cpp:113:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n         PRAGMA_OMP_SIMD()\r\n \r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/ref_eltwise.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_eltwise.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_eltwise.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/ref_eltwise.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_eltwise.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/ref_inner_product.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_inner_product.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_inner_product.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/ref_inner_product.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_inner_product.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/jit_uni_lrn_kernel_f32.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_lrn_kernel_f32.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_lrn_kernel_f32.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/jit_uni_lrn_kernel_f32.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_lrn_kernel_f32.pic.o)\r\nINFO: From Compiling external/mkl_dnn/src/cpu/ref_softmax.cpp:\r\nexternal/mkl_dnn/src/cpu/ref_softmax.cpp:146:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n         PRAGMA_OMP_SIMD()\r\n \r\nexternal/mkl_dnn/src/cpu/ref_softmax.cpp:151:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n     PRAGMA_OMP_SIMD()\r\n \r\nexternal/mkl_dnn/src/cpu/ref_softmax.cpp:181:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n     PRAGMA_OMP_SIMD(reduction(+ : tsum))\r\n \r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/ref_convolution.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_convolution.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_convolution.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/ref_convolution.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_convolution.pic.o)\r\nINFO: From Compiling external/mkl_dnn/src/cpu/ref_shuffle.cpp:\r\nexternal/mkl_dnn/src/cpu/ref_shuffle.cpp:96:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n             PRAGMA_OMP_SIMD()\r\n \r\nexternal/mkl_dnn/src/cpu/ref_shuffle.cpp:104:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n             PRAGMA_OMP_SIMD()\r\n \r\n[31 / 48] Compiling tensorflow/core/kernels/depthwise_conv_op_gpu_float.cu.cc; 2s local ... (11 actions running)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/ref_batch_normalization.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_batch_normalization.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_batch_normalization.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/ref_batch_normalization.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/ref_batch_normalization.pic.o)\r\nINFO: From Compiling external/mkl_dnn/src/cpu/simple_sum.cpp:\r\nexternal/mkl_dnn/src/cpu/simple_sum.cpp:53:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n             PRAGMA_OMP_SIMD()\r\n \r\nexternal/mkl_dnn/src/cpu/simple_sum.cpp:58:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n                 PRAGMA_OMP_SIMD()\r\n \r\nexternal/mkl_dnn/src/cpu/simple_sum.cpp:69:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n             PRAGMA_OMP_SIMD()\r\n \r\nexternal/mkl_dnn/src/cpu/simple_sum.cpp:74:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n                 PRAGMA_OMP_SIMD()\r\n \r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/common/inner_product.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/inner_product.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/inner_product.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/common/inner_product.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/inner_product.pic.o)\r\nINFO: From Compiling external/mkl_dnn/src/cpu/ref_lrn.cpp:\r\nexternal/mkl_dnn/src/cpu/ref_lrn.cpp:124:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n             PRAGMA_OMP_SIMD()\r\n \r\nexternal/mkl_dnn/src/cpu/ref_lrn.cpp:215:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n             PRAGMA_OMP_SIMD()\r\n \r\nINFO: From Compiling external/mkl_dnn/src/cpu/simple_concat.cpp:\r\nexternal/mkl_dnn/src/cpu/simple_concat.cpp:98:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n             PRAGMA_OMP_SIMD()\r\n \r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/gemm_x8s8s32x_convolution.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/gemm_x8s8s32x_convolution.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/gemm_x8s8s32x_convolution.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/gemm_x8s8s32x_convolution.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/gemm_x8s8s32x_convolution.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/nhwc_pooling.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/nhwc_pooling.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/nhwc_pooling.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/nhwc_pooling.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/nhwc_pooling.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/jit_uni_reorder_utils.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_reorder_utils.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_reorder_utils.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/jit_uni_reorder_utils.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_reorder_utils.pic.o)\r\n[35 / 52] Compiling tensorflow/core/kernels/depthwise_conv_op_gpu_float.cu.cc; 3s local ... (12 actions running)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/nchw_pooling.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/nchw_pooling.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/nchw_pooling.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/nchw_pooling.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/nchw_pooling.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/jit_uni_pooling.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_pooling.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_pooling.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/jit_uni_pooling.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_pooling.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/common/batch_normalization.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/batch_normalization.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/batch_normalization.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/common/batch_normalization.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/batch_normalization.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/common/primitive_attr.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/primitive_attr.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/primitive_attr.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/common/primitive_attr.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/primitive_attr.pic.o)\r\n[41 / 58] Compiling tensorflow/core/kernels/depthwise_conv_op_gpu_float.cu.cc; 4s local ... (11 actions running)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/common/memory_desc_wrapper.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/memory_desc_wrapper.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/memory_desc_wrapper.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/common/memory_desc_wrapper.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/memory_desc_wrapper.pic.o)\r\nINFO: From Compiling external/mkl_dnn/src/cpu/nhwc_pooling.cpp:\r\nIn file included from external/mkl_dnn/src/cpu/nhwc_pooling.cpp:26:0:\r\nexternal/mkl_dnn/src/cpu/nhwc_pooling.hpp:115:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n         PRAGMA_OMP_SIMD()\r\n \r\nexternal/mkl_dnn/src/cpu/nhwc_pooling.cpp:336:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n                 PRAGMA_OMP_SIMD()\r\n \r\nexternal/mkl_dnn/src/cpu/nhwc_pooling.cpp:372:0: warning: ignoring #pragma omp simd [-Wunknown-pragmas]\r\n                 PRAGMA_OMP_SIMD()\r\n \r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/jit_uni_eltwise.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_eltwise.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_eltwise.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/jit_uni_eltwise.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_eltwise.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/jit_transpose_src_utils.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_transpose_src_utils.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_transpose_src_utils.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/jit_transpose_src_utils.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_transpose_src_utils.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/jit_uni_i8i8_pooling.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_i8i8_pooling.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_i8i8_pooling.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/jit_uni_i8i8_pooling.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_i8i8_pooling.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/jit_avx512_core_x8s8s32x_convolution.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_avx512_core_x8s8s32x_convolution.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_avx512_core_x8s8s32x_convolution.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/jit_avx512_core_x8s8s32x_convolution.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_avx512_core_x8s8s32x_convolution.pic.o)\r\n[46 / 63] Compiling tensorflow/core/kernels/depthwise_conv_op_gpu_float.cu.cc; 6s local ... (11 actions running)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/jit_uni_dw_conv_kernel_f32.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_dw_conv_kernel_f32.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_dw_conv_kernel_f32.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/jit_uni_dw_conv_kernel_f32.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_dw_conv_kernel_f32.pic.o)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/cpu/jit_uni_batch_normalization.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_batch_normalization.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_batch_normalization.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/cpu/jit_uni_batch_normalization.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/jit_uni_batch_normalization.pic.o)\r\n[47 / 64] Compiling tensorflow/core/kernels/depthwise_conv_op_gpu_float.cu.cc; 7s local ... (12 actions running)\r\nSUBCOMMAND: # @mkl_dnn//:mkldnn_single_threaded [action 'Compiling external/mkl_dnn/src/common/deconvolution.cpp']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/deconvolution.pic.d '-frandom-seed=bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/deconvolution.pic.o' -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -fexceptions '-DMKLDNN_THR=MKLDNN_THR_SEQ' -c external/mkl_dnn/src/common/deconvolution.cpp -o bazel-out/k8-opt/bin/external/mkl_dnn/_objs/mkldnn_single_threaded/deconvolution.pic.o)\r\nINFO: From Compiling tensorflow/core/kernels/depthwise_conv_op_gpu_half.cu.cc:\r\n./tensorflow/core/lib/bfloat16/bfloat16.h(74): warning: calling a constexpr __host__ function(\"real\") from a __host__ __device__ function(\"bfloat16\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/lib/bfloat16/bfloat16.h(74): warning: calling a constexpr __host__ function from a __host__ __device__ function is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/lib/bfloat16/bfloat16.h(77): warning: calling a constexpr __host__ function(\"real\") from a __host__ __device__ function(\"bfloat16\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/lib/bfloat16/bfloat16.h(77): warning: calling a constexpr __host__ function from a __host__ __device__ function is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/lib/bfloat16/bfloat16.h(166): warning: calling a constexpr __host__ function from a __host__ __device__ function is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/lib/bfloat16/bfloat16.h(170): warning: calling a constexpr __host__ function from a __host__ __device__ function is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\nexternal/com_google_absl/absl/strings/string_view.h(495): warning: expression has no effect\r\n\r\n./tensorflow/core/util/tensor_format.h(127): warning: missing return statement at end of non-void function \"tensorflow::GetTensorSpatialDims\"\r\n\r\n./tensorflow/core/util/tensor_format.h(151): warning: missing return statement at end of non-void function \"tensorflow::GetTensorDimsFromSpatialDims\"\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(480): warning: calling a constexpr __host__ function from a __host__ __device__ function is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(490): warning: calling a constexpr __host__ function from a __host__ __device__ function is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(648): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"GpuAtomicAdd\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(649): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"GpuAtomicAdd\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(655): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"GpuAtomicAdd\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(656): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"GpuAtomicAdd\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(826): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator+\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(826): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator+\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(827): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator+\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(827): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator+\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(833): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator-\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(833): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator-\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(834): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator-\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(834): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator-\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(840): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator*\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(840): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator*\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(841): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator*\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(841): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator*\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(847): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator/\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(847): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator/\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(848): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator/\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(848): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator/\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(854): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator+\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(854): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator+\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(855): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator+\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(855): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator+\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(861): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator-\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(861): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator-\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(862): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator-\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(862): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator-\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(868): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator*\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(868): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator*\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(869): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator*\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(869): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator*\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(875): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator/\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(875): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator/\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(876): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator/\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(876): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator/\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\nexternal/com_google_absl/absl/types/optional.h(425): warning: expression has no effect\r\n          detected during instantiation of \"const T &absl::optional<T>::operator*() const & [with T=stream_executor::dnn::AlgorithmDesc]\" \r\n./tensorflow/stream_executor/dnn.h(802): here\r\n\r\n36 errors detected in the compilation of \"/tmp/tmpxft_00001be0_00000000-6_depthwise_conv_op_gpu_half.cu.cpp1.ii\".\r\nERROR: /home/chengleiwang/code/tensorflow/tensorflow/core/kernels/BUILD:4094:1: output 'tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_half.cu.pic.o' was not created\r\nERROR: /home/chengleiwang/code/tensorflow/tensorflow/core/kernels/BUILD:4094:1: not all outputs were created or valid\r\nTarget //tensorflow/core/kernels:cwise_ops_test failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 9.246s, Critical Path: 8.82s\r\nINFO: 28 processes: 28 local.\r\nFAILED: Build did NOT complete successfully\r\nFAILED: Build did NOT complete successfully\r\n```", "comments": ["Can you add the --verbose_failures to the bazel build line you used to start the build and post that output as well?", "```\r\nWARNING: The following configs were expanded more than once: [cuda_clang, using_cuda]. For repeatable flags, repeats are counted twice and may lead to unexpected behavior.\r\nINFO: Options provided by the client:\r\n  Inherited 'common' options: --isatty=0 --terminal_columns=80\r\nINFO: Reading rc options for 'test' from /home/chengleiwang/code/tensorflow/.bazelrc:\r\n  Inherited 'build' options: --apple_platform_type=macos --define framework_shared_object=true --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone --strategy=Genrule=standalone -c opt --announce_rc --define=grpc_no_ares=true --define=PREFIX=/usr --define=LIBDIR=$(PREFIX)/lib --define=INCLUDEDIR=$(PREFIX)/include\r\nINFO: Reading rc options for 'test' from /home/chengleiwang/code/tensorflow/.tf_configure.bazelrc:\r\n  Inherited 'build' options: --action_env PYTHON_BIN_PATH=/usr/bin/python3 --action_env PYTHON_LIB_PATH=/usr/lib/python3/dist-packages --python_path=/usr/bin/python3 --action_env CUDA_TOOLKIT_PATH=/usr/local/cuda --action_env TF_CUDA_COMPUTE_CAPABILITIES=6.1 --config=cuda_clang --action_env CLANG_CUDA_COMPILER_PATH=/usr/bin/clang --config=cuda_clang --action_env TF_CONFIGURE_IOS=0\r\nINFO: Reading rc options for 'test' from /home/chengleiwang/code/tensorflow/.tf_configure.bazelrc:\r\n  'test' options: --flaky_test_attempts=3 --test_size_filters=small,medium --test_tag_filters=-benchmark-test,-no_oss,-oss_serial --build_tag_filters=-benchmark-test,-no_oss --test_tag_filters=-gpu --build_tag_filters=-gpu\r\nINFO: Found applicable config definition build:cuda_clang in file /home/chengleiwang/code/tensorflow/.bazelrc: --config=using_cuda --define=using_cuda_clang=true --define=using_clang=true\r\nINFO: Found applicable config definition build:using_cuda in file /home/chengleiwang/code/tensorflow/.bazelrc: --define=using_cuda=true --action_env TF_NEED_CUDA=1 --crosstool_top=@local_config_cuda//crosstool:toolchain\r\nINFO: Found applicable config definition build:cuda_clang in file /home/chengleiwang/code/tensorflow/.bazelrc: --config=using_cuda --define=using_cuda_clang=true --define=using_clang=true\r\nINFO: Found applicable config definition build:using_cuda in file /home/chengleiwang/code/tensorflow/.bazelrc: --define=using_cuda=true --action_env TF_NEED_CUDA=1 --crosstool_top=@local_config_cuda//crosstool:toolchain\r\nINFO: Found applicable config definition build:cuda_clang in file /home/chengleiwang/code/tensorflow/.bazelrc: --config=using_cuda --define=using_cuda_clang=true --define=using_clang=true\r\nINFO: Found applicable config definition build:using_cuda in file /home/chengleiwang/code/tensorflow/.bazelrc: --define=using_cuda=true --action_env TF_NEED_CUDA=1 --crosstool_top=@local_config_cuda//crosstool:toolchain\r\nLoading: \r\nLoading: 0 packages loaded\r\nAnalyzing: target //tensorflow/core/kernels:cwise_ops_test (0 packages loaded, 0 targets configured)\r\nINFO: Analysed target //tensorflow/core/kernels:cwise_ops_test (1 packages loaded, 19 targets configured).\r\nINFO: Found 1 test target...\r\n[0 / 29] [-----] BazelWorkspaceStatusAction stable-status.txt\r\nSUBCOMMAND: # //tensorflow/core/kernels:relu_op_gpu [action 'Compiling tensorflow/core/kernels/relu_op_gpu.cu.cc']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/relu_op_gpu/relu_op_gpu.cu.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/relu_op_gpu/relu_op_gpu.cu.pic.o' -D__CLANG_SUPPORT_DYN_ANNOTATION__ -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' '-DEIGEN_HAS_TYPE_TRAITS=0' -DTENSORFLOW_USE_CUSTOM_CONTRACTION_KERNEL -DTENSORFLOW_USE_MKLDNN_CONTRACTION_KERNEL -DTF_USE_SNAPPY -DCURL_STATICLIB -DPLATFORM_LINUX -DENABLE_CURL_CLIENT -DENABLE_NO_ENCRYPTION -iquote . -iquote bazel-out/k8-opt/genfiles -iquote bazel-out/k8-opt/bin -iquote external/com_google_absl -iquote bazel-out/k8-opt/genfiles/external/com_google_absl -iquote bazel-out/k8-opt/bin/external/com_google_absl -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote bazel-out/k8-opt/bin/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote bazel-out/k8-opt/bin/external/local_config_sycl -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -iquote external/nsync -iquote bazel-out/k8-opt/genfiles/external/nsync -iquote bazel-out/k8-opt/bin/external/nsync -iquote external/gif_archive -iquote bazel-out/k8-opt/genfiles/external/gif_archive -iquote bazel-out/k8-opt/bin/external/gif_archive -iquote external/jpeg -iquote bazel-out/k8-opt/genfiles/external/jpeg -iquote bazel-out/k8-opt/bin/external/jpeg -iquote external/protobuf_archive -iquote bazel-out/k8-opt/genfiles/external/protobuf_archive -iquote bazel-out/k8-opt/bin/external/protobuf_archive -iquote external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/genfiles/external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/bin/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/k8-opt/genfiles/external/farmhash_archive -iquote bazel-out/k8-opt/bin/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/k8-opt/genfiles/external/fft2d -iquote bazel-out/k8-opt/bin/external/fft2d -iquote external/highwayhash -iquote bazel-out/k8-opt/genfiles/external/highwayhash -iquote bazel-out/k8-opt/bin/external/highwayhash -iquote external/zlib_archive -iquote bazel-out/k8-opt/genfiles/external/zlib_archive -iquote bazel-out/k8-opt/bin/external/zlib_archive -iquote external/local_config_cuda -iquote bazel-out/k8-opt/genfiles/external/local_config_cuda -iquote bazel-out/k8-opt/bin/external/local_config_cuda -iquote external/double_conversion -iquote bazel-out/k8-opt/genfiles/external/double_conversion -iquote bazel-out/k8-opt/bin/external/double_conversion -iquote external/curl -iquote bazel-out/k8-opt/genfiles/external/curl -iquote bazel-out/k8-opt/bin/external/curl -iquote external/boringssl -iquote bazel-out/k8-opt/genfiles/external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -iquote external/jsoncpp_git -iquote bazel-out/k8-opt/genfiles/external/jsoncpp_git -iquote bazel-out/k8-opt/bin/external/jsoncpp_git -iquote external/aws -iquote bazel-out/k8-opt/genfiles/external/aws -iquote bazel-out/k8-opt/bin/external/aws -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cuda_headers_virtual -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cudnn_header -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak -isystem external/nsync/public -isystem bazel-out/k8-opt/genfiles/external/nsync/public -isystem bazel-out/k8-opt/bin/external/nsync/public -isystem external/gif_archive/lib -isystem bazel-out/k8-opt/genfiles/external/gif_archive/lib -isystem bazel-out/k8-opt/bin/external/gif_archive/lib -isystem external/protobuf_archive/src -isystem bazel-out/k8-opt/genfiles/external/protobuf_archive/src -isystem bazel-out/k8-opt/bin/external/protobuf_archive/src -isystem external/farmhash_archive/src -isystem bazel-out/k8-opt/genfiles/external/farmhash_archive/src -isystem bazel-out/k8-opt/bin/external/farmhash_archive/src -isystem external/zlib_archive -isystem bazel-out/k8-opt/genfiles/external/zlib_archive -isystem bazel-out/k8-opt/bin/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda/cuda/include -isystem external/double_conversion -isystem bazel-out/k8-opt/genfiles/external/double_conversion -isystem bazel-out/k8-opt/bin/external/double_conversion -isystem external/curl/include -isystem bazel-out/k8-opt/genfiles/external/curl/include -isystem bazel-out/k8-opt/bin/external/curl/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/genfiles/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem external/jsoncpp_git/include -isystem bazel-out/k8-opt/genfiles/external/jsoncpp_git/include -isystem bazel-out/k8-opt/bin/external/jsoncpp_git/include -isystem external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-core/include -isystem external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-kinesis/include -isystem external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-s3/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions '-ftemplate-depth=900' '-DGOOGLE_CUDA=1' -msse3 -pthread -x cuda '-DGOOGLE_CUDA=1' -fcuda-flush-denormals-to-zero -c tensorflow/core/kernels/relu_op_gpu.cu.cc -o bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/relu_op_gpu/relu_op_gpu.cu.pic.o)\r\nSUBCOMMAND: # //tensorflow/core/kernels:l2loss_op_gpu [action 'Compiling tensorflow/core/kernels/l2loss_op_gpu.cu.cc']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/l2loss_op_gpu/l2loss_op_gpu.cu.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/l2loss_op_gpu/l2loss_op_gpu.cu.pic.o' -D__CLANG_SUPPORT_DYN_ANNOTATION__ -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' '-DEIGEN_HAS_TYPE_TRAITS=0' -DTF_USE_SNAPPY -DCURL_STATICLIB -DPLATFORM_LINUX -DENABLE_CURL_CLIENT -DENABLE_NO_ENCRYPTION -DTENSORFLOW_USE_CUSTOM_CONTRACTION_KERNEL -DTENSORFLOW_USE_MKLDNN_CONTRACTION_KERNEL -iquote . -iquote bazel-out/k8-opt/genfiles -iquote bazel-out/k8-opt/bin -iquote external/com_google_absl -iquote bazel-out/k8-opt/genfiles/external/com_google_absl -iquote bazel-out/k8-opt/bin/external/com_google_absl -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote bazel-out/k8-opt/bin/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote bazel-out/k8-opt/bin/external/local_config_sycl -iquote external/nsync -iquote bazel-out/k8-opt/genfiles/external/nsync -iquote bazel-out/k8-opt/bin/external/nsync -iquote external/gif_archive -iquote bazel-out/k8-opt/genfiles/external/gif_archive -iquote bazel-out/k8-opt/bin/external/gif_archive -iquote external/jpeg -iquote bazel-out/k8-opt/genfiles/external/jpeg -iquote bazel-out/k8-opt/bin/external/jpeg -iquote external/protobuf_archive -iquote bazel-out/k8-opt/genfiles/external/protobuf_archive -iquote bazel-out/k8-opt/bin/external/protobuf_archive -iquote external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/genfiles/external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/bin/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/k8-opt/genfiles/external/farmhash_archive -iquote bazel-out/k8-opt/bin/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/k8-opt/genfiles/external/fft2d -iquote bazel-out/k8-opt/bin/external/fft2d -iquote external/highwayhash -iquote bazel-out/k8-opt/genfiles/external/highwayhash -iquote bazel-out/k8-opt/bin/external/highwayhash -iquote external/zlib_archive -iquote bazel-out/k8-opt/genfiles/external/zlib_archive -iquote bazel-out/k8-opt/bin/external/zlib_archive -iquote external/local_config_cuda -iquote bazel-out/k8-opt/genfiles/external/local_config_cuda -iquote bazel-out/k8-opt/bin/external/local_config_cuda -iquote external/double_conversion -iquote bazel-out/k8-opt/genfiles/external/double_conversion -iquote bazel-out/k8-opt/bin/external/double_conversion -iquote external/curl -iquote bazel-out/k8-opt/genfiles/external/curl -iquote bazel-out/k8-opt/bin/external/curl -iquote external/boringssl -iquote bazel-out/k8-opt/genfiles/external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -iquote external/jsoncpp_git -iquote bazel-out/k8-opt/genfiles/external/jsoncpp_git -iquote bazel-out/k8-opt/bin/external/jsoncpp_git -iquote external/aws -iquote bazel-out/k8-opt/genfiles/external/aws -iquote bazel-out/k8-opt/bin/external/aws -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -iquote external/cub_archive -iquote bazel-out/k8-opt/genfiles/external/cub_archive -iquote bazel-out/k8-opt/bin/external/cub_archive -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cuda_headers_virtual -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cudnn_header -Ibazel-out/k8-opt/bin/external/cub_archive/_virtual_includes/cub -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem external/nsync/public -isystem bazel-out/k8-opt/genfiles/external/nsync/public -isystem bazel-out/k8-opt/bin/external/nsync/public -isystem external/gif_archive/lib -isystem bazel-out/k8-opt/genfiles/external/gif_archive/lib -isystem bazel-out/k8-opt/bin/external/gif_archive/lib -isystem external/protobuf_archive/src -isystem bazel-out/k8-opt/genfiles/external/protobuf_archive/src -isystem bazel-out/k8-opt/bin/external/protobuf_archive/src -isystem external/farmhash_archive/src -isystem bazel-out/k8-opt/genfiles/external/farmhash_archive/src -isystem bazel-out/k8-opt/bin/external/farmhash_archive/src -isystem external/zlib_archive -isystem bazel-out/k8-opt/genfiles/external/zlib_archive -isystem bazel-out/k8-opt/bin/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda/cuda/include -isystem external/double_conversion -isystem bazel-out/k8-opt/genfiles/external/double_conversion -isystem bazel-out/k8-opt/bin/external/double_conversion -isystem external/curl/include -isystem bazel-out/k8-opt/genfiles/external/curl/include -isystem bazel-out/k8-opt/bin/external/curl/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/genfiles/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem external/jsoncpp_git/include -isystem bazel-out/k8-opt/genfiles/external/jsoncpp_git/include -isystem bazel-out/k8-opt/bin/external/jsoncpp_git/include -isystem external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-core/include -isystem external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-kinesis/include -isystem external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-s3/include -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions '-ftemplate-depth=900' '-DGOOGLE_CUDA=1' -msse3 -pthread -x cuda '-DGOOGLE_CUDA=1' -fcuda-flush-denormals-to-zero -c tensorflow/core/kernels/l2loss_op_gpu.cu.cc -o bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/l2loss_op_gpu/l2loss_op_gpu.cu.pic.o)\r\nSUBCOMMAND: # //tensorflow/core/kernels:data_format_ops_gpu [action 'Compiling tensorflow/core/kernels/data_format_ops_gpu.cu.cc']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/data_format_ops_gpu/data_format_ops_gpu.cu.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/data_format_ops_gpu/data_format_ops_gpu.cu.pic.o' -D__CLANG_SUPPORT_DYN_ANNOTATION__ -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' '-DEIGEN_HAS_TYPE_TRAITS=0' -DTENSORFLOW_USE_CUSTOM_CONTRACTION_KERNEL -DTENSORFLOW_USE_MKLDNN_CONTRACTION_KERNEL -DTF_USE_SNAPPY -DCURL_STATICLIB -DPLATFORM_LINUX -DENABLE_CURL_CLIENT -DENABLE_NO_ENCRYPTION -iquote . -iquote bazel-out/k8-opt/genfiles -iquote bazel-out/k8-opt/bin -iquote external/com_google_absl -iquote bazel-out/k8-opt/genfiles/external/com_google_absl -iquote bazel-out/k8-opt/bin/external/com_google_absl -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote bazel-out/k8-opt/bin/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote bazel-out/k8-opt/bin/external/local_config_sycl -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -iquote external/nsync -iquote bazel-out/k8-opt/genfiles/external/nsync -iquote bazel-out/k8-opt/bin/external/nsync -iquote external/gif_archive -iquote bazel-out/k8-opt/genfiles/external/gif_archive -iquote bazel-out/k8-opt/bin/external/gif_archive -iquote external/jpeg -iquote bazel-out/k8-opt/genfiles/external/jpeg -iquote bazel-out/k8-opt/bin/external/jpeg -iquote external/protobuf_archive -iquote bazel-out/k8-opt/genfiles/external/protobuf_archive -iquote bazel-out/k8-opt/bin/external/protobuf_archive -iquote external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/genfiles/external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/bin/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/k8-opt/genfiles/external/farmhash_archive -iquote bazel-out/k8-opt/bin/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/k8-opt/genfiles/external/fft2d -iquote bazel-out/k8-opt/bin/external/fft2d -iquote external/highwayhash -iquote bazel-out/k8-opt/genfiles/external/highwayhash -iquote bazel-out/k8-opt/bin/external/highwayhash -iquote external/zlib_archive -iquote bazel-out/k8-opt/genfiles/external/zlib_archive -iquote bazel-out/k8-opt/bin/external/zlib_archive -iquote external/local_config_cuda -iquote bazel-out/k8-opt/genfiles/external/local_config_cuda -iquote bazel-out/k8-opt/bin/external/local_config_cuda -iquote external/double_conversion -iquote bazel-out/k8-opt/genfiles/external/double_conversion -iquote bazel-out/k8-opt/bin/external/double_conversion -iquote external/curl -iquote bazel-out/k8-opt/genfiles/external/curl -iquote bazel-out/k8-opt/bin/external/curl -iquote external/boringssl -iquote bazel-out/k8-opt/genfiles/external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -iquote external/jsoncpp_git -iquote bazel-out/k8-opt/genfiles/external/jsoncpp_git -iquote bazel-out/k8-opt/bin/external/jsoncpp_git -iquote external/aws -iquote bazel-out/k8-opt/genfiles/external/aws -iquote bazel-out/k8-opt/bin/external/aws -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cuda_headers_virtual -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cudnn_header -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak -isystem external/nsync/public -isystem bazel-out/k8-opt/genfiles/external/nsync/public -isystem bazel-out/k8-opt/bin/external/nsync/public -isystem external/gif_archive/lib -isystem bazel-out/k8-opt/genfiles/external/gif_archive/lib -isystem bazel-out/k8-opt/bin/external/gif_archive/lib -isystem external/protobuf_archive/src -isystem bazel-out/k8-opt/genfiles/external/protobuf_archive/src -isystem bazel-out/k8-opt/bin/external/protobuf_archive/src -isystem external/farmhash_archive/src -isystem bazel-out/k8-opt/genfiles/external/farmhash_archive/src -isystem bazel-out/k8-opt/bin/external/farmhash_archive/src -isystem external/zlib_archive -isystem bazel-out/k8-opt/genfiles/external/zlib_archive -isystem bazel-out/k8-opt/bin/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda/cuda/include -isystem external/double_conversion -isystem bazel-out/k8-opt/genfiles/external/double_conversion -isystem bazel-out/k8-opt/bin/external/double_conversion -isystem external/curl/include -isystem bazel-out/k8-opt/genfiles/external/curl/include -isystem bazel-out/k8-opt/bin/external/curl/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/genfiles/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem external/jsoncpp_git/include -isystem bazel-out/k8-opt/genfiles/external/jsoncpp_git/include -isystem bazel-out/k8-opt/bin/external/jsoncpp_git/include -isystem external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-core/include -isystem external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-kinesis/include -isystem external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-s3/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions '-ftemplate-depth=900' '-DGOOGLE_CUDA=1' -msse3 -pthread -x cuda '-DGOOGLE_CUDA=1' -fcuda-flush-denormals-to-zero -c tensorflow/core/kernels/data_format_ops_gpu.cu.cc -o bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/data_format_ops_gpu/data_format_ops_gpu.cu.pic.o)\r\nSUBCOMMAND: # //tensorflow/core/kernels:softplus_op_gpu [action 'Compiling tensorflow/core/kernels/softplus_op_gpu.cu.cc']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/softplus_op_gpu/softplus_op_gpu.cu.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/softplus_op_gpu/softplus_op_gpu.cu.pic.o' -D__CLANG_SUPPORT_DYN_ANNOTATION__ -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' '-DEIGEN_HAS_TYPE_TRAITS=0' -DTENSORFLOW_USE_CUSTOM_CONTRACTION_KERNEL -DTENSORFLOW_USE_MKLDNN_CONTRACTION_KERNEL -DTF_USE_SNAPPY -DCURL_STATICLIB -DPLATFORM_LINUX -DENABLE_CURL_CLIENT -DENABLE_NO_ENCRYPTION -iquote . -iquote bazel-out/k8-opt/genfiles -iquote bazel-out/k8-opt/bin -iquote external/com_google_absl -iquote bazel-out/k8-opt/genfiles/external/com_google_absl -iquote bazel-out/k8-opt/bin/external/com_google_absl -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote bazel-out/k8-opt/bin/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote bazel-out/k8-opt/bin/external/local_config_sycl -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -iquote external/nsync -iquote bazel-out/k8-opt/genfiles/external/nsync -iquote bazel-out/k8-opt/bin/external/nsync -iquote external/gif_archive -iquote bazel-out/k8-opt/genfiles/external/gif_archive -iquote bazel-out/k8-opt/bin/external/gif_archive -iquote external/jpeg -iquote bazel-out/k8-opt/genfiles/external/jpeg -iquote bazel-out/k8-opt/bin/external/jpeg -iquote external/protobuf_archive -iquote bazel-out/k8-opt/genfiles/external/protobuf_archive -iquote bazel-out/k8-opt/bin/external/protobuf_archive -iquote external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/genfiles/external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/bin/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/k8-opt/genfiles/external/farmhash_archive -iquote bazel-out/k8-opt/bin/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/k8-opt/genfiles/external/fft2d -iquote bazel-out/k8-opt/bin/external/fft2d -iquote external/highwayhash -iquote bazel-out/k8-opt/genfiles/external/highwayhash -iquote bazel-out/k8-opt/bin/external/highwayhash -iquote external/zlib_archive -iquote bazel-out/k8-opt/genfiles/external/zlib_archive -iquote bazel-out/k8-opt/bin/external/zlib_archive -iquote external/local_config_cuda -iquote bazel-out/k8-opt/genfiles/external/local_config_cuda -iquote bazel-out/k8-opt/bin/external/local_config_cuda -iquote external/double_conversion -iquote bazel-out/k8-opt/genfiles/external/double_conversion -iquote bazel-out/k8-opt/bin/external/double_conversion -iquote external/curl -iquote bazel-out/k8-opt/genfiles/external/curl -iquote bazel-out/k8-opt/bin/external/curl -iquote external/boringssl -iquote bazel-out/k8-opt/genfiles/external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -iquote external/jsoncpp_git -iquote bazel-out/k8-opt/genfiles/external/jsoncpp_git -iquote bazel-out/k8-opt/bin/external/jsoncpp_git -iquote external/aws -iquote bazel-out/k8-opt/genfiles/external/aws -iquote bazel-out/k8-opt/bin/external/aws -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cuda_headers_virtual -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cudnn_header -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak -isystem external/nsync/public -isystem bazel-out/k8-opt/genfiles/external/nsync/public -isystem bazel-out/k8-opt/bin/external/nsync/public -isystem external/gif_archive/lib -isystem bazel-out/k8-opt/genfiles/external/gif_archive/lib -isystem bazel-out/k8-opt/bin/external/gif_archive/lib -isystem external/protobuf_archive/src -isystem bazel-out/k8-opt/genfiles/external/protobuf_archive/src -isystem bazel-out/k8-opt/bin/external/protobuf_archive/src -isystem external/farmhash_archive/src -isystem bazel-out/k8-opt/genfiles/external/farmhash_archive/src -isystem bazel-out/k8-opt/bin/external/farmhash_archive/src -isystem external/zlib_archive -isystem bazel-out/k8-opt/genfiles/external/zlib_archive -isystem bazel-out/k8-opt/bin/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda/cuda/include -isystem external/double_conversion -isystem bazel-out/k8-opt/genfiles/external/double_conversion -isystem bazel-out/k8-opt/bin/external/double_conversion -isystem external/curl/include -isystem bazel-out/k8-opt/genfiles/external/curl/include -isystem bazel-out/k8-opt/bin/external/curl/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/genfiles/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem external/jsoncpp_git/include -isystem bazel-out/k8-opt/genfiles/external/jsoncpp_git/include -isystem bazel-out/k8-opt/bin/external/jsoncpp_git/include -isystem external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-core/include -isystem external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-kinesis/include -isystem external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-s3/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions '-ftemplate-depth=900' '-DGOOGLE_CUDA=1' -msse3 -pthread -x cuda '-DGOOGLE_CUDA=1' -fcuda-flush-denormals-to-zero -c tensorflow/core/kernels/softplus_op_gpu.cu.cc -o bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/softplus_op_gpu/softplus_op_gpu.cu.pic.o)\r\nSUBCOMMAND: # //tensorflow/core/kernels:softmax_op_gpu [action 'Compiling tensorflow/core/kernels/softmax_op_gpu.cu.cc']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/softmax_op_gpu/softmax_op_gpu.cu.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/softmax_op_gpu/softmax_op_gpu.cu.pic.o' -D__CLANG_SUPPORT_DYN_ANNOTATION__ -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' '-DEIGEN_HAS_TYPE_TRAITS=0' -DTENSORFLOW_USE_CUSTOM_CONTRACTION_KERNEL -DTENSORFLOW_USE_MKLDNN_CONTRACTION_KERNEL -DTF_USE_SNAPPY -DCURL_STATICLIB -DPLATFORM_LINUX -DENABLE_CURL_CLIENT -DENABLE_NO_ENCRYPTION -iquote . -iquote bazel-out/k8-opt/genfiles -iquote bazel-out/k8-opt/bin -iquote external/com_google_absl -iquote bazel-out/k8-opt/genfiles/external/com_google_absl -iquote bazel-out/k8-opt/bin/external/com_google_absl -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote bazel-out/k8-opt/bin/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote bazel-out/k8-opt/bin/external/local_config_sycl -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -iquote external/nsync -iquote bazel-out/k8-opt/genfiles/external/nsync -iquote bazel-out/k8-opt/bin/external/nsync -iquote external/gif_archive -iquote bazel-out/k8-opt/genfiles/external/gif_archive -iquote bazel-out/k8-opt/bin/external/gif_archive -iquote external/jpeg -iquote bazel-out/k8-opt/genfiles/external/jpeg -iquote bazel-out/k8-opt/bin/external/jpeg -iquote external/protobuf_archive -iquote bazel-out/k8-opt/genfiles/external/protobuf_archive -iquote bazel-out/k8-opt/bin/external/protobuf_archive -iquote external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/genfiles/external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/bin/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/k8-opt/genfiles/external/farmhash_archive -iquote bazel-out/k8-opt/bin/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/k8-opt/genfiles/external/fft2d -iquote bazel-out/k8-opt/bin/external/fft2d -iquote external/highwayhash -iquote bazel-out/k8-opt/genfiles/external/highwayhash -iquote bazel-out/k8-opt/bin/external/highwayhash -iquote external/zlib_archive -iquote bazel-out/k8-opt/genfiles/external/zlib_archive -iquote bazel-out/k8-opt/bin/external/zlib_archive -iquote external/local_config_cuda -iquote bazel-out/k8-opt/genfiles/external/local_config_cuda -iquote bazel-out/k8-opt/bin/external/local_config_cuda -iquote external/double_conversion -iquote bazel-out/k8-opt/genfiles/external/double_conversion -iquote bazel-out/k8-opt/bin/external/double_conversion -iquote external/curl -iquote bazel-out/k8-opt/genfiles/external/curl -iquote bazel-out/k8-opt/bin/external/curl -iquote external/boringssl -iquote bazel-out/k8-opt/genfiles/external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -iquote external/jsoncpp_git -iquote bazel-out/k8-opt/genfiles/external/jsoncpp_git -iquote bazel-out/k8-opt/bin/external/jsoncpp_git -iquote external/aws -iquote bazel-out/k8-opt/genfiles/external/aws -iquote bazel-out/k8-opt/bin/external/aws -iquote external/cub_archive -iquote bazel-out/k8-opt/genfiles/external/cub_archive -iquote bazel-out/k8-opt/bin/external/cub_archive -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cuda_headers_virtual -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cudnn_header -Ibazel-out/k8-opt/bin/external/cub_archive/_virtual_includes/cub -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak -isystem external/nsync/public -isystem bazel-out/k8-opt/genfiles/external/nsync/public -isystem bazel-out/k8-opt/bin/external/nsync/public -isystem external/gif_archive/lib -isystem bazel-out/k8-opt/genfiles/external/gif_archive/lib -isystem bazel-out/k8-opt/bin/external/gif_archive/lib -isystem external/protobuf_archive/src -isystem bazel-out/k8-opt/genfiles/external/protobuf_archive/src -isystem bazel-out/k8-opt/bin/external/protobuf_archive/src -isystem external/farmhash_archive/src -isystem bazel-out/k8-opt/genfiles/external/farmhash_archive/src -isystem bazel-out/k8-opt/bin/external/farmhash_archive/src -isystem external/zlib_archive -isystem bazel-out/k8-opt/genfiles/external/zlib_archive -isystem bazel-out/k8-opt/bin/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda/cuda/include -isystem external/double_conversion -isystem bazel-out/k8-opt/genfiles/external/double_conversion -isystem bazel-out/k8-opt/bin/external/double_conversion -isystem external/curl/include -isystem bazel-out/k8-opt/genfiles/external/curl/include -isystem bazel-out/k8-opt/bin/external/curl/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/genfiles/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem external/jsoncpp_git/include -isystem bazel-out/k8-opt/genfiles/external/jsoncpp_git/include -isystem bazel-out/k8-opt/bin/external/jsoncpp_git/include -isystem external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-core/include -isystem external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-kinesis/include -isystem external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-s3/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions '-ftemplate-depth=900' '-DGOOGLE_CUDA=1' -msse3 -pthread -x cuda '-DGOOGLE_CUDA=1' -fcuda-flush-denormals-to-zero -c tensorflow/core/kernels/softmax_op_gpu.cu.cc -o bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/softmax_op_gpu/softmax_op_gpu.cu.pic.o)\r\nSUBCOMMAND: # //tensorflow/cc:scope [action 'Compiling tensorflow/cc/framework/scope.cc']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/cc/_objs/scope/scope.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/cc/_objs/scope/scope.pic.o' -D__CLANG_SUPPORT_DYN_ANNOTATION__ -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' '-DEIGEN_HAS_TYPE_TRAITS=0' -DTF_USE_SNAPPY -DCURL_STATICLIB -DPLATFORM_LINUX -DENABLE_CURL_CLIENT -DENABLE_NO_ENCRYPTION -iquote . -iquote bazel-out/k8-opt/genfiles -iquote bazel-out/k8-opt/bin -iquote external/com_google_absl -iquote bazel-out/k8-opt/genfiles/external/com_google_absl -iquote bazel-out/k8-opt/bin/external/com_google_absl -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote bazel-out/k8-opt/bin/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote bazel-out/k8-opt/bin/external/local_config_sycl -iquote external/nsync -iquote bazel-out/k8-opt/genfiles/external/nsync -iquote bazel-out/k8-opt/bin/external/nsync -iquote external/gif_archive -iquote bazel-out/k8-opt/genfiles/external/gif_archive -iquote bazel-out/k8-opt/bin/external/gif_archive -iquote external/jpeg -iquote bazel-out/k8-opt/genfiles/external/jpeg -iquote bazel-out/k8-opt/bin/external/jpeg -iquote external/protobuf_archive -iquote bazel-out/k8-opt/genfiles/external/protobuf_archive -iquote bazel-out/k8-opt/bin/external/protobuf_archive -iquote external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/genfiles/external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/bin/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/k8-opt/genfiles/external/farmhash_archive -iquote bazel-out/k8-opt/bin/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/k8-opt/genfiles/external/fft2d -iquote bazel-out/k8-opt/bin/external/fft2d -iquote external/highwayhash -iquote bazel-out/k8-opt/genfiles/external/highwayhash -iquote bazel-out/k8-opt/bin/external/highwayhash -iquote external/zlib_archive -iquote bazel-out/k8-opt/genfiles/external/zlib_archive -iquote bazel-out/k8-opt/bin/external/zlib_archive -iquote external/local_config_cuda -iquote bazel-out/k8-opt/genfiles/external/local_config_cuda -iquote bazel-out/k8-opt/bin/external/local_config_cuda -iquote external/double_conversion -iquote bazel-out/k8-opt/genfiles/external/double_conversion -iquote bazel-out/k8-opt/bin/external/double_conversion -iquote external/curl -iquote bazel-out/k8-opt/genfiles/external/curl -iquote bazel-out/k8-opt/bin/external/curl -iquote external/boringssl -iquote bazel-out/k8-opt/genfiles/external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -iquote external/jsoncpp_git -iquote bazel-out/k8-opt/genfiles/external/jsoncpp_git -iquote bazel-out/k8-opt/bin/external/jsoncpp_git -iquote external/aws -iquote bazel-out/k8-opt/genfiles/external/aws -iquote bazel-out/k8-opt/bin/external/aws -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cuda_headers_virtual -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cudnn_header -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem external/nsync/public -isystem bazel-out/k8-opt/genfiles/external/nsync/public -isystem bazel-out/k8-opt/bin/external/nsync/public -isystem external/gif_archive/lib -isystem bazel-out/k8-opt/genfiles/external/gif_archive/lib -isystem bazel-out/k8-opt/bin/external/gif_archive/lib -isystem external/protobuf_archive/src -isystem bazel-out/k8-opt/genfiles/external/protobuf_archive/src -isystem bazel-out/k8-opt/bin/external/protobuf_archive/src -isystem external/farmhash_archive/src -isystem bazel-out/k8-opt/genfiles/external/farmhash_archive/src -isystem bazel-out/k8-opt/bin/external/farmhash_archive/src -isystem external/zlib_archive -isystem bazel-out/k8-opt/genfiles/external/zlib_archive -isystem bazel-out/k8-opt/bin/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda/cuda/include -isystem external/double_conversion -isystem bazel-out/k8-opt/genfiles/external/double_conversion -isystem bazel-out/k8-opt/bin/external/double_conversion -isystem external/curl/include -isystem bazel-out/k8-opt/genfiles/external/curl/include -isystem bazel-out/k8-opt/bin/external/curl/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/genfiles/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem external/jsoncpp_git/include -isystem bazel-out/k8-opt/genfiles/external/jsoncpp_git/include -isystem bazel-out/k8-opt/bin/external/jsoncpp_git/include -isystem external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-core/include -isystem external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-kinesis/include -isystem external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-s3/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions '-ftemplate-depth=900' '-DGOOGLE_CUDA=1' -msse3 -pthread -c tensorflow/cc/framework/scope.cc -o bazel-out/k8-opt/bin/tensorflow/cc/_objs/scope/scope.pic.o)\r\nSUBCOMMAND: # //tensorflow/core/kernels:bias_op_gpu [action 'Compiling tensorflow/core/kernels/bias_op_gpu.cu.cc']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/bias_op_gpu/bias_op_gpu.cu.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/bias_op_gpu/bias_op_gpu.cu.pic.o' -D__CLANG_SUPPORT_DYN_ANNOTATION__ -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' '-DEIGEN_HAS_TYPE_TRAITS=0' -DTENSORFLOW_USE_CUSTOM_CONTRACTION_KERNEL -DTENSORFLOW_USE_MKLDNN_CONTRACTION_KERNEL -DTF_USE_SNAPPY -DCURL_STATICLIB -DPLATFORM_LINUX -DENABLE_CURL_CLIENT -DENABLE_NO_ENCRYPTION -iquote . -iquote bazel-out/k8-opt/genfiles -iquote bazel-out/k8-opt/bin -iquote external/com_google_absl -iquote bazel-out/k8-opt/genfiles/external/com_google_absl -iquote bazel-out/k8-opt/bin/external/com_google_absl -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote bazel-out/k8-opt/bin/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote bazel-out/k8-opt/bin/external/local_config_sycl -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -iquote external/nsync -iquote bazel-out/k8-opt/genfiles/external/nsync -iquote bazel-out/k8-opt/bin/external/nsync -iquote external/gif_archive -iquote bazel-out/k8-opt/genfiles/external/gif_archive -iquote bazel-out/k8-opt/bin/external/gif_archive -iquote external/jpeg -iquote bazel-out/k8-opt/genfiles/external/jpeg -iquote bazel-out/k8-opt/bin/external/jpeg -iquote external/protobuf_archive -iquote bazel-out/k8-opt/genfiles/external/protobuf_archive -iquote bazel-out/k8-opt/bin/external/protobuf_archive -iquote external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/genfiles/external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/bin/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/k8-opt/genfiles/external/farmhash_archive -iquote bazel-out/k8-opt/bin/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/k8-opt/genfiles/external/fft2d -iquote bazel-out/k8-opt/bin/external/fft2d -iquote external/highwayhash -iquote bazel-out/k8-opt/genfiles/external/highwayhash -iquote bazel-out/k8-opt/bin/external/highwayhash -iquote external/zlib_archive -iquote bazel-out/k8-opt/genfiles/external/zlib_archive -iquote bazel-out/k8-opt/bin/external/zlib_archive -iquote external/local_config_cuda -iquote bazel-out/k8-opt/genfiles/external/local_config_cuda -iquote bazel-out/k8-opt/bin/external/local_config_cuda -iquote external/double_conversion -iquote bazel-out/k8-opt/genfiles/external/double_conversion -iquote bazel-out/k8-opt/bin/external/double_conversion -iquote external/curl -iquote bazel-out/k8-opt/genfiles/external/curl -iquote bazel-out/k8-opt/bin/external/curl -iquote external/boringssl -iquote bazel-out/k8-opt/genfiles/external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -iquote external/jsoncpp_git -iquote bazel-out/k8-opt/genfiles/external/jsoncpp_git -iquote bazel-out/k8-opt/bin/external/jsoncpp_git -iquote external/aws -iquote bazel-out/k8-opt/genfiles/external/aws -iquote bazel-out/k8-opt/bin/external/aws -iquote external/cub_archive -iquote bazel-out/k8-opt/genfiles/external/cub_archive -iquote bazel-out/k8-opt/bin/external/cub_archive -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cuda_headers_virtual -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cudnn_header -Ibazel-out/k8-opt/bin/external/cub_archive/_virtual_includes/cub -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak -isystem external/nsync/public -isystem bazel-out/k8-opt/genfiles/external/nsync/public -isystem bazel-out/k8-opt/bin/external/nsync/public -isystem external/gif_archive/lib -isystem bazel-out/k8-opt/genfiles/external/gif_archive/lib -isystem bazel-out/k8-opt/bin/external/gif_archive/lib -isystem external/protobuf_archive/src -isystem bazel-out/k8-opt/genfiles/external/protobuf_archive/src -isystem bazel-out/k8-opt/bin/external/protobuf_archive/src -isystem external/farmhash_archive/src -isystem bazel-out/k8-opt/genfiles/external/farmhash_archive/src -isystem bazel-out/k8-opt/bin/external/farmhash_archive/src -isystem external/zlib_archive -isystem bazel-out/k8-opt/genfiles/external/zlib_archive -isystem bazel-out/k8-opt/bin/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda/cuda/include -isystem external/double_conversion -isystem bazel-out/k8-opt/genfiles/external/double_conversion -isystem bazel-out/k8-opt/bin/external/double_conversion -isystem external/curl/include -isystem bazel-out/k8-opt/genfiles/external/curl/include -isystem bazel-out/k8-opt/bin/external/curl/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/genfiles/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem external/jsoncpp_git/include -isystem bazel-out/k8-opt/genfiles/external/jsoncpp_git/include -isystem bazel-out/k8-opt/bin/external/jsoncpp_git/include -isystem external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-core/include -isystem external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-kinesis/include -isystem external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-s3/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions '-ftemplate-depth=900' '-DGOOGLE_CUDA=1' -msse3 -pthread -x cuda '-DGOOGLE_CUDA=1' -fcuda-flush-denormals-to-zero -c tensorflow/core/kernels/bias_op_gpu.cu.cc -o bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/bias_op_gpu/bias_op_gpu.cu.pic.o)\r\nSUBCOMMAND: # //tensorflow/core/kernels:dilation_ops_gpu [action 'Compiling tensorflow/core/kernels/dilation_ops_gpu.cu.cc']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/dilation_ops_gpu/dilation_ops_gpu.cu.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/dilation_ops_gpu/dilation_ops_gpu.cu.pic.o' -D__CLANG_SUPPORT_DYN_ANNOTATION__ -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' '-DEIGEN_HAS_TYPE_TRAITS=0' -DTF_USE_SNAPPY -DCURL_STATICLIB -DPLATFORM_LINUX -DENABLE_CURL_CLIENT -DENABLE_NO_ENCRYPTION -iquote . -iquote bazel-out/k8-opt/genfiles -iquote bazel-out/k8-opt/bin -iquote external/com_google_absl -iquote bazel-out/k8-opt/genfiles/external/com_google_absl -iquote bazel-out/k8-opt/bin/external/com_google_absl -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote bazel-out/k8-opt/bin/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote bazel-out/k8-opt/bin/external/local_config_sycl -iquote external/nsync -iquote bazel-out/k8-opt/genfiles/external/nsync -iquote bazel-out/k8-opt/bin/external/nsync -iquote external/gif_archive -iquote bazel-out/k8-opt/genfiles/external/gif_archive -iquote bazel-out/k8-opt/bin/external/gif_archive -iquote external/jpeg -iquote bazel-out/k8-opt/genfiles/external/jpeg -iquote bazel-out/k8-opt/bin/external/jpeg -iquote external/protobuf_archive -iquote bazel-out/k8-opt/genfiles/external/protobuf_archive -iquote bazel-out/k8-opt/bin/external/protobuf_archive -iquote external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/genfiles/external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/bin/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/k8-opt/genfiles/external/farmhash_archive -iquote bazel-out/k8-opt/bin/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/k8-opt/genfiles/external/fft2d -iquote bazel-out/k8-opt/bin/external/fft2d -iquote external/highwayhash -iquote bazel-out/k8-opt/genfiles/external/highwayhash -iquote bazel-out/k8-opt/bin/external/highwayhash -iquote external/zlib_archive -iquote bazel-out/k8-opt/genfiles/external/zlib_archive -iquote bazel-out/k8-opt/bin/external/zlib_archive -iquote external/local_config_cuda -iquote bazel-out/k8-opt/genfiles/external/local_config_cuda -iquote bazel-out/k8-opt/bin/external/local_config_cuda -iquote external/double_conversion -iquote bazel-out/k8-opt/genfiles/external/double_conversion -iquote bazel-out/k8-opt/bin/external/double_conversion -iquote external/curl -iquote bazel-out/k8-opt/genfiles/external/curl -iquote bazel-out/k8-opt/bin/external/curl -iquote external/boringssl -iquote bazel-out/k8-opt/genfiles/external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -iquote external/jsoncpp_git -iquote bazel-out/k8-opt/genfiles/external/jsoncpp_git -iquote bazel-out/k8-opt/bin/external/jsoncpp_git -iquote external/aws -iquote bazel-out/k8-opt/genfiles/external/aws -iquote bazel-out/k8-opt/bin/external/aws -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cuda_headers_virtual -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cudnn_header -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem external/nsync/public -isystem bazel-out/k8-opt/genfiles/external/nsync/public -isystem bazel-out/k8-opt/bin/external/nsync/public -isystem external/gif_archive/lib -isystem bazel-out/k8-opt/genfiles/external/gif_archive/lib -isystem bazel-out/k8-opt/bin/external/gif_archive/lib -isystem external/protobuf_archive/src -isystem bazel-out/k8-opt/genfiles/external/protobuf_archive/src -isystem bazel-out/k8-opt/bin/external/protobuf_archive/src -isystem external/farmhash_archive/src -isystem bazel-out/k8-opt/genfiles/external/farmhash_archive/src -isystem bazel-out/k8-opt/bin/external/farmhash_archive/src -isystem external/zlib_archive -isystem bazel-out/k8-opt/genfiles/external/zlib_archive -isystem bazel-out/k8-opt/bin/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda/cuda/include -isystem external/double_conversion -isystem bazel-out/k8-opt/genfiles/external/double_conversion -isystem bazel-out/k8-opt/bin/external/double_conversion -isystem external/curl/include -isystem bazel-out/k8-opt/genfiles/external/curl/include -isystem bazel-out/k8-opt/bin/external/curl/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/genfiles/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem external/jsoncpp_git/include -isystem bazel-out/k8-opt/genfiles/external/jsoncpp_git/include -isystem bazel-out/k8-opt/bin/external/jsoncpp_git/include -isystem external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-core/include -isystem external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-kinesis/include -isystem external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-s3/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions '-ftemplate-depth=900' '-DGOOGLE_CUDA=1' -msse3 -pthread -x cuda '-DGOOGLE_CUDA=1' -fcuda-flush-denormals-to-zero -c tensorflow/core/kernels/dilation_ops_gpu.cu.cc -o bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/dilation_ops_gpu/dilation_ops_gpu.cu.pic.o)\r\nSUBCOMMAND: # //tensorflow/core/kernels:depthwise_conv_op_gpu [action 'Compiling tensorflow/core/kernels/depthwise_conv_op_gpu_half.cu.cc']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_half.cu.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_half.cu.pic.o' -D__CLANG_SUPPORT_DYN_ANNOTATION__ -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' '-DEIGEN_HAS_TYPE_TRAITS=0' -DTENSORFLOW_USE_CUSTOM_CONTRACTION_KERNEL -DTENSORFLOW_USE_MKLDNN_CONTRACTION_KERNEL -DTF_USE_SNAPPY -DCURL_STATICLIB -DPLATFORM_LINUX -DENABLE_CURL_CLIENT -DENABLE_NO_ENCRYPTION -iquote . -iquote bazel-out/k8-opt/genfiles -iquote bazel-out/k8-opt/bin -iquote external/com_google_absl -iquote bazel-out/k8-opt/genfiles/external/com_google_absl -iquote bazel-out/k8-opt/bin/external/com_google_absl -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote bazel-out/k8-opt/bin/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote bazel-out/k8-opt/bin/external/local_config_sycl -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -iquote external/nsync -iquote bazel-out/k8-opt/genfiles/external/nsync -iquote bazel-out/k8-opt/bin/external/nsync -iquote external/gif_archive -iquote bazel-out/k8-opt/genfiles/external/gif_archive -iquote bazel-out/k8-opt/bin/external/gif_archive -iquote external/jpeg -iquote bazel-out/k8-opt/genfiles/external/jpeg -iquote bazel-out/k8-opt/bin/external/jpeg -iquote external/protobuf_archive -iquote bazel-out/k8-opt/genfiles/external/protobuf_archive -iquote bazel-out/k8-opt/bin/external/protobuf_archive -iquote external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/genfiles/external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/bin/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/k8-opt/genfiles/external/farmhash_archive -iquote bazel-out/k8-opt/bin/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/k8-opt/genfiles/external/fft2d -iquote bazel-out/k8-opt/bin/external/fft2d -iquote external/highwayhash -iquote bazel-out/k8-opt/genfiles/external/highwayhash -iquote bazel-out/k8-opt/bin/external/highwayhash -iquote external/zlib_archive -iquote bazel-out/k8-opt/genfiles/external/zlib_archive -iquote bazel-out/k8-opt/bin/external/zlib_archive -iquote external/local_config_cuda -iquote bazel-out/k8-opt/genfiles/external/local_config_cuda -iquote bazel-out/k8-opt/bin/external/local_config_cuda -iquote external/double_conversion -iquote bazel-out/k8-opt/genfiles/external/double_conversion -iquote bazel-out/k8-opt/bin/external/double_conversion -iquote external/curl -iquote bazel-out/k8-opt/genfiles/external/curl -iquote bazel-out/k8-opt/bin/external/curl -iquote external/boringssl -iquote bazel-out/k8-opt/genfiles/external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -iquote external/jsoncpp_git -iquote bazel-out/k8-opt/genfiles/external/jsoncpp_git -iquote bazel-out/k8-opt/bin/external/jsoncpp_git -iquote external/aws -iquote bazel-out/k8-opt/genfiles/external/aws -iquote bazel-out/k8-opt/bin/external/aws -iquote external/cub_archive -iquote bazel-out/k8-opt/genfiles/external/cub_archive -iquote bazel-out/k8-opt/bin/external/cub_archive -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cuda_headers_virtual -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cudnn_header -Ibazel-out/k8-opt/bin/external/cub_archive/_virtual_includes/cub -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak -isystem external/nsync/public -isystem bazel-out/k8-opt/genfiles/external/nsync/public -isystem bazel-out/k8-opt/bin/external/nsync/public -isystem external/gif_archive/lib -isystem bazel-out/k8-opt/genfiles/external/gif_archive/lib -isystem bazel-out/k8-opt/bin/external/gif_archive/lib -isystem external/protobuf_archive/src -isystem bazel-out/k8-opt/genfiles/external/protobuf_archive/src -isystem bazel-out/k8-opt/bin/external/protobuf_archive/src -isystem external/farmhash_archive/src -isystem bazel-out/k8-opt/genfiles/external/farmhash_archive/src -isystem bazel-out/k8-opt/bin/external/farmhash_archive/src -isystem external/zlib_archive -isystem bazel-out/k8-opt/genfiles/external/zlib_archive -isystem bazel-out/k8-opt/bin/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda/cuda/include -isystem external/double_conversion -isystem bazel-out/k8-opt/genfiles/external/double_conversion -isystem bazel-out/k8-opt/bin/external/double_conversion -isystem external/curl/include -isystem bazel-out/k8-opt/genfiles/external/curl/include -isystem bazel-out/k8-opt/bin/external/curl/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/genfiles/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem external/jsoncpp_git/include -isystem bazel-out/k8-opt/genfiles/external/jsoncpp_git/include -isystem bazel-out/k8-opt/bin/external/jsoncpp_git/include -isystem external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-core/include -isystem external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-kinesis/include -isystem external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-s3/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions '-ftemplate-depth=900' '-DGOOGLE_CUDA=1' -msse3 -pthread -x cuda '-DGOOGLE_CUDA=1' -fcuda-flush-denormals-to-zero -c tensorflow/core/kernels/depthwise_conv_op_gpu_half.cu.cc -o bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_half.cu.pic.o)\r\nSUBCOMMAND: # //tensorflow/core/kernels:depthwise_conv_op_gpu [action 'Compiling tensorflow/core/kernels/depthwise_conv_op_gpu_double.cu.cc']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_double.cu.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_double.cu.pic.o' -D__CLANG_SUPPORT_DYN_ANNOTATION__ -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' '-DEIGEN_HAS_TYPE_TRAITS=0' -DTENSORFLOW_USE_CUSTOM_CONTRACTION_KERNEL -DTENSORFLOW_USE_MKLDNN_CONTRACTION_KERNEL -DTF_USE_SNAPPY -DCURL_STATICLIB -DPLATFORM_LINUX -DENABLE_CURL_CLIENT -DENABLE_NO_ENCRYPTION -iquote . -iquote bazel-out/k8-opt/genfiles -iquote bazel-out/k8-opt/bin -iquote external/com_google_absl -iquote bazel-out/k8-opt/genfiles/external/com_google_absl -iquote bazel-out/k8-opt/bin/external/com_google_absl -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote bazel-out/k8-opt/bin/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote bazel-out/k8-opt/bin/external/local_config_sycl -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -iquote external/nsync -iquote bazel-out/k8-opt/genfiles/external/nsync -iquote bazel-out/k8-opt/bin/external/nsync -iquote external/gif_archive -iquote bazel-out/k8-opt/genfiles/external/gif_archive -iquote bazel-out/k8-opt/bin/external/gif_archive -iquote external/jpeg -iquote bazel-out/k8-opt/genfiles/external/jpeg -iquote bazel-out/k8-opt/bin/external/jpeg -iquote external/protobuf_archive -iquote bazel-out/k8-opt/genfiles/external/protobuf_archive -iquote bazel-out/k8-opt/bin/external/protobuf_archive -iquote external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/genfiles/external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/bin/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/k8-opt/genfiles/external/farmhash_archive -iquote bazel-out/k8-opt/bin/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/k8-opt/genfiles/external/fft2d -iquote bazel-out/k8-opt/bin/external/fft2d -iquote external/highwayhash -iquote bazel-out/k8-opt/genfiles/external/highwayhash -iquote bazel-out/k8-opt/bin/external/highwayhash -iquote external/zlib_archive -iquote bazel-out/k8-opt/genfiles/external/zlib_archive -iquote bazel-out/k8-opt/bin/external/zlib_archive -iquote external/local_config_cuda -iquote bazel-out/k8-opt/genfiles/external/local_config_cuda -iquote bazel-out/k8-opt/bin/external/local_config_cuda -iquote external/double_conversion -iquote bazel-out/k8-opt/genfiles/external/double_conversion -iquote bazel-out/k8-opt/bin/external/double_conversion -iquote external/curl -iquote bazel-out/k8-opt/genfiles/external/curl -iquote bazel-out/k8-opt/bin/external/curl -iquote external/boringssl -iquote bazel-out/k8-opt/genfiles/external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -iquote external/jsoncpp_git -iquote bazel-out/k8-opt/genfiles/external/jsoncpp_git -iquote bazel-out/k8-opt/bin/external/jsoncpp_git -iquote external/aws -iquote bazel-out/k8-opt/genfiles/external/aws -iquote bazel-out/k8-opt/bin/external/aws -iquote external/cub_archive -iquote bazel-out/k8-opt/genfiles/external/cub_archive -iquote bazel-out/k8-opt/bin/external/cub_archive -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cuda_headers_virtual -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cudnn_header -Ibazel-out/k8-opt/bin/external/cub_archive/_virtual_includes/cub -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak -isystem external/nsync/public -isystem bazel-out/k8-opt/genfiles/external/nsync/public -isystem bazel-out/k8-opt/bin/external/nsync/public -isystem external/gif_archive/lib -isystem bazel-out/k8-opt/genfiles/external/gif_archive/lib -isystem bazel-out/k8-opt/bin/external/gif_archive/lib -isystem external/protobuf_archive/src -isystem bazel-out/k8-opt/genfiles/external/protobuf_archive/src -isystem bazel-out/k8-opt/bin/external/protobuf_archive/src -isystem external/farmhash_archive/src -isystem bazel-out/k8-opt/genfiles/external/farmhash_archive/src -isystem bazel-out/k8-opt/bin/external/farmhash_archive/src -isystem external/zlib_archive -isystem bazel-out/k8-opt/genfiles/external/zlib_archive -isystem bazel-out/k8-opt/bin/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda/cuda/include -isystem external/double_conversion -isystem bazel-out/k8-opt/genfiles/external/double_conversion -isystem bazel-out/k8-opt/bin/external/double_conversion -isystem external/curl/include -isystem bazel-out/k8-opt/genfiles/external/curl/include -isystem bazel-out/k8-opt/bin/external/curl/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/genfiles/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem external/jsoncpp_git/include -isystem bazel-out/k8-opt/genfiles/external/jsoncpp_git/include -isystem bazel-out/k8-opt/bin/external/jsoncpp_git/include -isystem external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-core/include -isystem external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-kinesis/include -isystem external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-s3/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions '-ftemplate-depth=900' '-DGOOGLE_CUDA=1' -msse3 -pthread -x cuda '-DGOOGLE_CUDA=1' -fcuda-flush-denormals-to-zero -c tensorflow/core/kernels/depthwise_conv_op_gpu_double.cu.cc -o bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_double.cu.pic.o)\r\nSUBCOMMAND: # //tensorflow/core/kernels:depthwise_conv_op_gpu [action 'Compiling tensorflow/core/kernels/depthwise_conv_op_gpu_float.cu.cc']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_float.cu.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_float.cu.pic.o' -D__CLANG_SUPPORT_DYN_ANNOTATION__ -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' '-DEIGEN_HAS_TYPE_TRAITS=0' -DTENSORFLOW_USE_CUSTOM_CONTRACTION_KERNEL -DTENSORFLOW_USE_MKLDNN_CONTRACTION_KERNEL -DTF_USE_SNAPPY -DCURL_STATICLIB -DPLATFORM_LINUX -DENABLE_CURL_CLIENT -DENABLE_NO_ENCRYPTION -iquote . -iquote bazel-out/k8-opt/genfiles -iquote bazel-out/k8-opt/bin -iquote external/com_google_absl -iquote bazel-out/k8-opt/genfiles/external/com_google_absl -iquote bazel-out/k8-opt/bin/external/com_google_absl -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote bazel-out/k8-opt/bin/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote bazel-out/k8-opt/bin/external/local_config_sycl -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -iquote external/nsync -iquote bazel-out/k8-opt/genfiles/external/nsync -iquote bazel-out/k8-opt/bin/external/nsync -iquote external/gif_archive -iquote bazel-out/k8-opt/genfiles/external/gif_archive -iquote bazel-out/k8-opt/bin/external/gif_archive -iquote external/jpeg -iquote bazel-out/k8-opt/genfiles/external/jpeg -iquote bazel-out/k8-opt/bin/external/jpeg -iquote external/protobuf_archive -iquote bazel-out/k8-opt/genfiles/external/protobuf_archive -iquote bazel-out/k8-opt/bin/external/protobuf_archive -iquote external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/genfiles/external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/bin/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/k8-opt/genfiles/external/farmhash_archive -iquote bazel-out/k8-opt/bin/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/k8-opt/genfiles/external/fft2d -iquote bazel-out/k8-opt/bin/external/fft2d -iquote external/highwayhash -iquote bazel-out/k8-opt/genfiles/external/highwayhash -iquote bazel-out/k8-opt/bin/external/highwayhash -iquote external/zlib_archive -iquote bazel-out/k8-opt/genfiles/external/zlib_archive -iquote bazel-out/k8-opt/bin/external/zlib_archive -iquote external/local_config_cuda -iquote bazel-out/k8-opt/genfiles/external/local_config_cuda -iquote bazel-out/k8-opt/bin/external/local_config_cuda -iquote external/double_conversion -iquote bazel-out/k8-opt/genfiles/external/double_conversion -iquote bazel-out/k8-opt/bin/external/double_conversion -iquote external/curl -iquote bazel-out/k8-opt/genfiles/external/curl -iquote bazel-out/k8-opt/bin/external/curl -iquote external/boringssl -iquote bazel-out/k8-opt/genfiles/external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -iquote external/jsoncpp_git -iquote bazel-out/k8-opt/genfiles/external/jsoncpp_git -iquote bazel-out/k8-opt/bin/external/jsoncpp_git -iquote external/aws -iquote bazel-out/k8-opt/genfiles/external/aws -iquote bazel-out/k8-opt/bin/external/aws -iquote external/cub_archive -iquote bazel-out/k8-opt/genfiles/external/cub_archive -iquote bazel-out/k8-opt/bin/external/cub_archive -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cuda_headers_virtual -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cudnn_header -Ibazel-out/k8-opt/bin/external/cub_archive/_virtual_includes/cub -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak -isystem external/nsync/public -isystem bazel-out/k8-opt/genfiles/external/nsync/public -isystem bazel-out/k8-opt/bin/external/nsync/public -isystem external/gif_archive/lib -isystem bazel-out/k8-opt/genfiles/external/gif_archive/lib -isystem bazel-out/k8-opt/bin/external/gif_archive/lib -isystem external/protobuf_archive/src -isystem bazel-out/k8-opt/genfiles/external/protobuf_archive/src -isystem bazel-out/k8-opt/bin/external/protobuf_archive/src -isystem external/farmhash_archive/src -isystem bazel-out/k8-opt/genfiles/external/farmhash_archive/src -isystem bazel-out/k8-opt/bin/external/farmhash_archive/src -isystem external/zlib_archive -isystem bazel-out/k8-opt/genfiles/external/zlib_archive -isystem bazel-out/k8-opt/bin/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda/cuda/include -isystem external/double_conversion -isystem bazel-out/k8-opt/genfiles/external/double_conversion -isystem bazel-out/k8-opt/bin/external/double_conversion -isystem external/curl/include -isystem bazel-out/k8-opt/genfiles/external/curl/include -isystem bazel-out/k8-opt/bin/external/curl/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/genfiles/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem external/jsoncpp_git/include -isystem bazel-out/k8-opt/genfiles/external/jsoncpp_git/include -isystem bazel-out/k8-opt/bin/external/jsoncpp_git/include -isystem external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-core/include -isystem external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-kinesis/include -isystem external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-s3/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions '-ftemplate-depth=900' '-DGOOGLE_CUDA=1' -msse3 -pthread -x cuda '-DGOOGLE_CUDA=1' -fcuda-flush-denormals-to-zero -c tensorflow/core/kernels/depthwise_conv_op_gpu_float.cu.cc -o bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_float.cu.pic.o)\r\nSUBCOMMAND: # //tensorflow/core/kernels:xent_op_gpu [action 'Compiling tensorflow/core/kernels/xent_op_gpu.cu.cc']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/xent_op_gpu/xent_op_gpu.cu.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/xent_op_gpu/xent_op_gpu.cu.pic.o' -D__CLANG_SUPPORT_DYN_ANNOTATION__ -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' '-DEIGEN_HAS_TYPE_TRAITS=0' -DTENSORFLOW_USE_CUSTOM_CONTRACTION_KERNEL -DTENSORFLOW_USE_MKLDNN_CONTRACTION_KERNEL -DTF_USE_SNAPPY -DCURL_STATICLIB -DPLATFORM_LINUX -DENABLE_CURL_CLIENT -DENABLE_NO_ENCRYPTION -iquote . -iquote bazel-out/k8-opt/genfiles -iquote bazel-out/k8-opt/bin -iquote external/com_google_absl -iquote bazel-out/k8-opt/genfiles/external/com_google_absl -iquote bazel-out/k8-opt/bin/external/com_google_absl -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote bazel-out/k8-opt/bin/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote bazel-out/k8-opt/bin/external/local_config_sycl -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -iquote external/nsync -iquote bazel-out/k8-opt/genfiles/external/nsync -iquote bazel-out/k8-opt/bin/external/nsync -iquote external/gif_archive -iquote bazel-out/k8-opt/genfiles/external/gif_archive -iquote bazel-out/k8-opt/bin/external/gif_archive -iquote external/jpeg -iquote bazel-out/k8-opt/genfiles/external/jpeg -iquote bazel-out/k8-opt/bin/external/jpeg -iquote external/protobuf_archive -iquote bazel-out/k8-opt/genfiles/external/protobuf_archive -iquote bazel-out/k8-opt/bin/external/protobuf_archive -iquote external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/genfiles/external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/bin/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/k8-opt/genfiles/external/farmhash_archive -iquote bazel-out/k8-opt/bin/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/k8-opt/genfiles/external/fft2d -iquote bazel-out/k8-opt/bin/external/fft2d -iquote external/highwayhash -iquote bazel-out/k8-opt/genfiles/external/highwayhash -iquote bazel-out/k8-opt/bin/external/highwayhash -iquote external/zlib_archive -iquote bazel-out/k8-opt/genfiles/external/zlib_archive -iquote bazel-out/k8-opt/bin/external/zlib_archive -iquote external/local_config_cuda -iquote bazel-out/k8-opt/genfiles/external/local_config_cuda -iquote bazel-out/k8-opt/bin/external/local_config_cuda -iquote external/double_conversion -iquote bazel-out/k8-opt/genfiles/external/double_conversion -iquote bazel-out/k8-opt/bin/external/double_conversion -iquote external/curl -iquote bazel-out/k8-opt/genfiles/external/curl -iquote bazel-out/k8-opt/bin/external/curl -iquote external/boringssl -iquote bazel-out/k8-opt/genfiles/external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -iquote external/jsoncpp_git -iquote bazel-out/k8-opt/genfiles/external/jsoncpp_git -iquote bazel-out/k8-opt/bin/external/jsoncpp_git -iquote external/aws -iquote bazel-out/k8-opt/genfiles/external/aws -iquote bazel-out/k8-opt/bin/external/aws -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cuda_headers_virtual -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cudnn_header -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak -isystem external/nsync/public -isystem bazel-out/k8-opt/genfiles/external/nsync/public -isystem bazel-out/k8-opt/bin/external/nsync/public -isystem external/gif_archive/lib -isystem bazel-out/k8-opt/genfiles/external/gif_archive/lib -isystem bazel-out/k8-opt/bin/external/gif_archive/lib -isystem external/protobuf_archive/src -isystem bazel-out/k8-opt/genfiles/external/protobuf_archive/src -isystem bazel-out/k8-opt/bin/external/protobuf_archive/src -isystem external/farmhash_archive/src -isystem bazel-out/k8-opt/genfiles/external/farmhash_archive/src -isystem bazel-out/k8-opt/bin/external/farmhash_archive/src -isystem external/zlib_archive -isystem bazel-out/k8-opt/genfiles/external/zlib_archive -isystem bazel-out/k8-opt/bin/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda/cuda/include -isystem external/double_conversion -isystem bazel-out/k8-opt/genfiles/external/double_conversion -isystem bazel-out/k8-opt/bin/external/double_conversion -isystem external/curl/include -isystem bazel-out/k8-opt/genfiles/external/curl/include -isystem bazel-out/k8-opt/bin/external/curl/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/genfiles/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem external/jsoncpp_git/include -isystem bazel-out/k8-opt/genfiles/external/jsoncpp_git/include -isystem bazel-out/k8-opt/bin/external/jsoncpp_git/include -isystem external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-core/include -isystem external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-kinesis/include -isystem external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-s3/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions '-ftemplate-depth=900' '-DGOOGLE_CUDA=1' -msse3 -pthread -x cuda '-DGOOGLE_CUDA=1' -fcuda-flush-denormals-to-zero -c tensorflow/core/kernels/xent_op_gpu.cu.cc -o bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/xent_op_gpu/xent_op_gpu.cu.pic.o)\r\n[376 / 410] Compiling tensorflow/core/kernels/relu_op_gpu.cu.cc; 1s local ... (12 actions running)\r\n[377 / 410] Compiling tensorflow/core/kernels/relu_op_gpu.cu.cc; 8s local ... (12 actions, 11 running)\r\nSUBCOMMAND: # //tensorflow/cc:scope [action 'Linking tensorflow/cc/libscope.so']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -shared -o bazel-out/k8-opt/bin/tensorflow/cc/libscope.so -Wl,-no-as-needed -Wl,-z,relro,-z,now '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -no-canonical-prefixes -fno-canonical-system-headers -B/usr/bin -Wl,--gc-sections -Wl,@bazel-out/k8-opt/bin/tensorflow/cc/libscope.so-2.params)\r\nSUBCOMMAND: # //tensorflow/core/kernels:fused_batch_norm_op_gpu [action 'Compiling tensorflow/core/kernels/fused_batch_norm_op.cu.cc']\r\n(cd /home/chengleiwang/.cache/bazel/_bazel_chengleiwang/2f444a5606241cb2da19b329364d6093/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    CLANG_CUDA_COMPILER_PATH=/usr/bin/clang \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    PATH=/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/home/chengleiwang/.local/bin:/home/chengleiwang/bin:/home/chengleiwang/.vscode-server/bin/2213894ea0415ee8c85c5eea0d0ff81ecc191529/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/lib/python3/dist-packages \\\r\n    TF_CONFIGURE_IOS=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n    TF_NEED_CUDA=1 \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/fused_batch_norm_op_gpu/fused_batch_norm_op.cu.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/fused_batch_norm_op_gpu/fused_batch_norm_op.cu.pic.o' -D__CLANG_SUPPORT_DYN_ANNOTATION__ -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' '-DEIGEN_HAS_TYPE_TRAITS=0' -DTENSORFLOW_USE_CUSTOM_CONTRACTION_KERNEL -DTENSORFLOW_USE_MKLDNN_CONTRACTION_KERNEL -DTF_USE_SNAPPY -DCURL_STATICLIB -DPLATFORM_LINUX -DENABLE_CURL_CLIENT -DENABLE_NO_ENCRYPTION -iquote . -iquote bazel-out/k8-opt/genfiles -iquote bazel-out/k8-opt/bin -iquote external/com_google_absl -iquote bazel-out/k8-opt/genfiles/external/com_google_absl -iquote bazel-out/k8-opt/bin/external/com_google_absl -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote bazel-out/k8-opt/bin/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote bazel-out/k8-opt/bin/external/local_config_sycl -iquote external/mkl_dnn -iquote bazel-out/k8-opt/genfiles/external/mkl_dnn -iquote bazel-out/k8-opt/bin/external/mkl_dnn -iquote external/nsync -iquote bazel-out/k8-opt/genfiles/external/nsync -iquote bazel-out/k8-opt/bin/external/nsync -iquote external/gif_archive -iquote bazel-out/k8-opt/genfiles/external/gif_archive -iquote bazel-out/k8-opt/bin/external/gif_archive -iquote external/jpeg -iquote bazel-out/k8-opt/genfiles/external/jpeg -iquote bazel-out/k8-opt/bin/external/jpeg -iquote external/protobuf_archive -iquote bazel-out/k8-opt/genfiles/external/protobuf_archive -iquote bazel-out/k8-opt/bin/external/protobuf_archive -iquote external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/genfiles/external/com_googlesource_code_re2 -iquote bazel-out/k8-opt/bin/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/k8-opt/genfiles/external/farmhash_archive -iquote bazel-out/k8-opt/bin/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/k8-opt/genfiles/external/fft2d -iquote bazel-out/k8-opt/bin/external/fft2d -iquote external/highwayhash -iquote bazel-out/k8-opt/genfiles/external/highwayhash -iquote bazel-out/k8-opt/bin/external/highwayhash -iquote external/zlib_archive -iquote bazel-out/k8-opt/genfiles/external/zlib_archive -iquote bazel-out/k8-opt/bin/external/zlib_archive -iquote external/local_config_cuda -iquote bazel-out/k8-opt/genfiles/external/local_config_cuda -iquote bazel-out/k8-opt/bin/external/local_config_cuda -iquote external/double_conversion -iquote bazel-out/k8-opt/genfiles/external/double_conversion -iquote bazel-out/k8-opt/bin/external/double_conversion -iquote external/curl -iquote bazel-out/k8-opt/genfiles/external/curl -iquote bazel-out/k8-opt/bin/external/curl -iquote external/boringssl -iquote bazel-out/k8-opt/genfiles/external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -iquote external/jsoncpp_git -iquote bazel-out/k8-opt/genfiles/external/jsoncpp_git -iquote bazel-out/k8-opt/bin/external/jsoncpp_git -iquote external/aws -iquote bazel-out/k8-opt/genfiles/external/aws -iquote bazel-out/k8-opt/bin/external/aws -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cuda_headers_virtual -Ibazel-out/k8-opt/bin/external/local_config_cuda/cuda/_virtual_includes/cudnn_header -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem external/mkl_dnn/include -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/include -isystem bazel-out/k8-opt/bin/external/mkl_dnn/include -isystem external/mkl_dnn/src -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src -isystem external/mkl_dnn/src/common -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/common -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/common -isystem external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu -isystem external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/gemm -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/gemm -isystem external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/genfiles/external/mkl_dnn/src/cpu/xbyak -isystem bazel-out/k8-opt/bin/external/mkl_dnn/src/cpu/xbyak -isystem external/nsync/public -isystem bazel-out/k8-opt/genfiles/external/nsync/public -isystem bazel-out/k8-opt/bin/external/nsync/public -isystem external/gif_archive/lib -isystem bazel-out/k8-opt/genfiles/external/gif_archive/lib -isystem bazel-out/k8-opt/bin/external/gif_archive/lib -isystem external/protobuf_archive/src -isystem bazel-out/k8-opt/genfiles/external/protobuf_archive/src -isystem bazel-out/k8-opt/bin/external/protobuf_archive/src -isystem external/farmhash_archive/src -isystem bazel-out/k8-opt/genfiles/external/farmhash_archive/src -isystem bazel-out/k8-opt/bin/external/farmhash_archive/src -isystem external/zlib_archive -isystem bazel-out/k8-opt/genfiles/external/zlib_archive -isystem bazel-out/k8-opt/bin/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/include -isystem bazel-out/k8-opt/bin/external/local_config_cuda/cuda/cuda/include -isystem external/double_conversion -isystem bazel-out/k8-opt/genfiles/external/double_conversion -isystem bazel-out/k8-opt/bin/external/double_conversion -isystem external/curl/include -isystem bazel-out/k8-opt/genfiles/external/curl/include -isystem bazel-out/k8-opt/bin/external/curl/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/genfiles/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem external/jsoncpp_git/include -isystem bazel-out/k8-opt/genfiles/external/jsoncpp_git/include -isystem bazel-out/k8-opt/bin/external/jsoncpp_git/include -isystem external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-core/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-core/include -isystem external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-kinesis/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-kinesis/include -isystem external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/genfiles/external/aws/aws-cpp-sdk-s3/include -isystem bazel-out/k8-opt/bin/external/aws/aws-cpp-sdk-s3/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -fno-canonical-system-headers -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions '-ftemplate-depth=900' '-DGOOGLE_CUDA=1' -msse3 -pthread -x cuda '-DGOOGLE_CUDA=1' -fcuda-flush-denormals-to-zero -c tensorflow/core/kernels/fused_batch_norm_op.cu.cc -o bazel-out/k8-opt/bin/tensorflow/core/kernels/_objs/fused_batch_norm_op_gpu/fused_batch_norm_op.cu.pic.o)\r\nINFO: From Compiling tensorflow/core/kernels/depthwise_conv_op_gpu_double.cu.cc:\r\n./tensorflow/core/lib/bfloat16/bfloat16.h(74): warning: calling a constexpr __host__ function(\"real\") from a __host__ __device__ function(\"bfloat16\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/lib/bfloat16/bfloat16.h(74): warning: calling a constexpr __host__ function from a __host__ __device__ function is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/lib/bfloat16/bfloat16.h(77): warning: calling a constexpr __host__ function(\"real\") from a __host__ __device__ function(\"bfloat16\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/lib/bfloat16/bfloat16.h(77): warning: calling a constexpr __host__ function from a __host__ __device__ function is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/lib/bfloat16/bfloat16.h(166): warning: calling a constexpr __host__ function from a __host__ __device__ function is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/lib/bfloat16/bfloat16.h(170): warning: calling a constexpr __host__ function from a __host__ __device__ function is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\nexternal/com_google_absl/absl/strings/string_view.h(495): warning: expression has no effect\r\n\r\n./tensorflow/core/util/tensor_format.h(127): warning: missing return statement at end of non-void function \"tensorflow::GetTensorSpatialDims\"\r\n\r\n./tensorflow/core/util/tensor_format.h(151): warning: missing return statement at end of non-void function \"tensorflow::GetTensorDimsFromSpatialDims\"\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(480): warning: calling a constexpr __host__ function from a __host__ __device__ function is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(490): warning: calling a constexpr __host__ function from a __host__ __device__ function is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(648): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"GpuAtomicAdd\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(649): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"GpuAtomicAdd\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(655): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"GpuAtomicAdd\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(656): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"GpuAtomicAdd\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(826): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator+\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(826): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator+\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(827): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator+\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(827): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator+\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(833): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator-\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(833): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator-\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(834): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator-\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(834): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator-\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(840): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator*\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(840): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator*\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(841): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator*\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(841): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator*\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(847): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator/\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(847): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator/\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(848): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator/\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(848): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator/\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(854): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator+\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(854): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator+\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(855): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator+\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(855): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator+\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(861): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator-\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(861): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator-\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(862): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator-\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(862): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator-\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(868): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator*\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(868): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator*\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(869): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator*\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(869): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator*\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(875): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator/\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(875): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator/\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(876): error: calling a constexpr __host__ function(\"real\") from a __device__ function(\"operator/\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\n./tensorflow/core/util/gpu_device_functions.h(876): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator/\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n\r\nexternal/com_google_absl/absl/types/optional.h(425): warning: expression has no effect\r\n          detected during instantiation of \"const T &absl::optional<T>::operator*() const & [with T=stream_executor::dnn::AlgorithmDesc]\" \r\n./tensorflow/stream_executor/dnn.h(802): here\r\n\r\n36 errors detected in the compilation of \"/tmp/tmpxft_00004ccb_00000000-6_depthwise_conv_op_gpu_double.cu.cpp1.ii\".\r\nERROR: /home/chengleiwang/code/tensorflow/tensorflow/core/kernels/BUILD:4094:1: output 'tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_double.cu.pic.o' was not created\r\nERROR: /home/chengleiwang/code/tensorflow/tensorflow/core/kernels/BUILD:4094:1: not all outputs were created or valid\r\nERROR: /home/chengleiwang/code/tensorflow/tensorflow/core/kernels/BUILD:4094:1: output 'tensorflow/core/kernels/_objs/depthwise_conv_op_gpu/depthwise_conv_op_gpu_half.cu.pic.o' was not created\r\n[396 / 418] 1 / 1 tests, 1 failed; checking cached actions\r\nTarget //tensorflow/core/kernels:cwise_ops_test failed to build\r\nINFO: Elapsed time: 10.033s, Critical Path: 9.76s\r\nINFO: 4 processes: 4 local.\r\nFAILED: Build did NOT complete successfully\r\nFAILED: Build did NOT complete successfully\r\n```", "@jbalma, please help check if the log is ok, thanks.\r\nBTW, I can build cwise_ops_test with nvcc. ", "@gunan Any update? ", "Looks like an issue specific to cuda_clang?\r\nI am the wrong assignee for this. Please reassign.\r\n", "@chengleiwang \r\nProvide the exact sequence of commands / steps that you executed before running into the problem", "1. Get tensorflow source code follow tensorflow document and checkout to r2.0 branch.\r\n2. run ./configure. \r\n   use python3, with cuda support, use clang as cuda compiler.\r\n3. run command bazel test -c opt --strip=never --config=cuda_clang -s //tensorflow/core/kernels:cwise_ops_test\r\n4, see error message.\r\n   ", "@gadagashwini, I'm afraid I don't know much about this. Can you find a more appropriate reviewer?", "Any update? Thanks.", "Bumping this again, I am having the same issue when building with the bundled clang, and I got a bunch of errors like \r\n```\r\n./tensorflow/core/util/gpu_device_functions.h(868): error: calling a constexpr __host__ function(\"imag\") from a __device__ function(\"operator*\") is not allowed. The experimental flag '--expt-relaxed-constexpr' can be used to allow this.\r\n```\r\n", "bump.  Happens on r2.0 branch with cuda_clang ", "I also got the same issue on 1.14 with cuda and clang... \r\nHas anyone found a solution?", "Is this still an issue? Thanks!", "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you.\n", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/31195\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/31195\">No</a>\n"]}, {"number": 31194, "title": "Removing deprecated array_ops.where() in Keras backend", "body": "`array_ops.where()` is deprecated in TF2; updating to get rid of warnings", "comments": ["@habernal Could you please address Ubuntu Sanity errors? Thanks!", "@gbaned From what I see in the logs, there are these two failures:\r\n\r\n```\r\n...\r\n2. do_pylint PYTHON2: Python 2 pylint\r\n  FAIL\r\n3. do_pylint PYTHON3: Python 3 pylint\r\n  FAIL\r\n...\r\n2 failed; 12 passed.\r\nSanity checks FAILED\r\n```\r\n\r\nTo be honest, I don't know how to address that (do I have to install the whole CI locally and run it?).\r\n\r\n-- update --\r\n\r\nMy bad, there is a detailed log from PyLint. Will have a look at it!", "Can one of the admins verify this patch?", "Sorry for the late reply, I was on holiday for a few weeks."]}, {"number": 31193, "title": "Add multi-class classification on tflite", "body": "As of now, I believe tensorflowlite can only return predictions belonging to one class. But,it would be great if there was  away to add 2 or more labels in the models. For example, if I want to classify whether a given image is a vegetable or fruit, and also what type of vegetable or fruit, that would be multi label classification.\r\n\r\n\r\n**System information**\r\n- TensorFlow lite:\r\n- Are you willing to contribute it (No):\r\n\r\n\r\n\r\n**Describe the feature and the current behavior/state.**\r\n\r\n**Will this change the current api? How?**\r\nProblems requiring more than 1 label can be solved with higher accuracy and ease.\r\n\r\n**Who will benefit with this feature?**\r\nUsers of TensorflowLite\r\n\r\n", "comments": ["@Vanrap \r\n\r\nPlease, go through below links and see if it helps you.Thanks!\r\n\r\nhttps://stackoverflow.com/questions/57282364/building-a-tflite-model-for-multi-class-classification\r\n\r\nhttps://medium.com/towards-artificial-intelligence/testing-tensorflow-lite-image-classification-model-e9c0100d8de3\r\n\r\n", "Automatically closing due to lack of recent activity. Please update the issue when new information becomes available, and we will reopen the issue. Thanks!"]}, {"number": 31192, "title": "conv2d_transpose param tensor shapes differ from conv2d shapes", "body": "**System information**\r\n- Have I written custom code: yes\r\n- OS Platform and Distribution: Ubuntu 16.04\r\n- Mobile device: Not tested\r\n- TensorFlow installed from: binary\r\n- TensorFlow version: 1.13 and 1.12\r\n- Python version: 3.7.3 and 3.6.8\r\n- Bazel version:\r\n- GCC/Compiler version:\r\n- CUDA/cuDNN version: 10.0/7.3.1\r\n- GPU model and memory: Nvidia, driver 418.56, 11178MiB\r\n\r\n**Describe the current behavior**\r\nThe kernel tensor for conv2d and conv2d_transpose layers (in contrib.layers) behave differently. The number of outputs determines the number of featuremaps/filters and is at the last position (X,X,X,here) while for conv2d_transpose layers it is (X,X,here,X) as the following code example will show. Is this behaviour wanted? Because when building in model where the input_dimensions and out_put_dimensions differ I need to manually transpose the last 2 dimensions in Order for the model to be trainable.\r\n\r\n**Describe the expected behavior**\r\nThe expected Behaviour would be that the output number for conv2d_layers is at the same position as for usual conv2d_layers.\r\n\r\nThis problem is independent of the data_format and saving/loading procedures.\r\n\r\n**Code to reproduce the issue**\r\nThis is a small code snippet for reproduction. Please set the breakpoint at the last `print(...)` and evaluate the shapes-dictionary. You will see that `conv2d` layer 'conv1' has the kernel shape \r\n`(3, 3, 1, 32)`, indicating that 1 is the depth/number of channels for the input. \r\n32 is the number of filters/outputs/feature maps. \r\n\r\nIf you look at the `conv2d_transposed` layer 'up1' the number of outputs is set to 16 but the kernel shape is `(3,3,16,32)` indicating that the input dimensions are 16 even though they are 32 from the `conv2d` layer 'conv3' preceding it. I believe that this shape should instead be `(3,3,32,16)` because the number of outputs for the `conv2d_transposed` layer is set to 16. \r\n\r\n\r\n```\r\nimport tensorflow as tf\r\nimport tensorflow.contrib.layers as layers\r\n\r\n\r\nfrom tensorflow.examples.tutorials.mnist import input_data\r\nmnist = input_data.read_data_sets(\"/tmp/data/\", one_hot=True)\r\ntrain_X = mnist.train.images\r\ntrain_Y = mnist.train.labels\r\ntest_X = mnist.test.images\r\n\r\n\r\ndef shapes_of_built_model(layer_names):\r\n    layer_names_and_shapes = {}\r\n    for name in layer_names:\r\n        layer_names_and_shapes[name] = tf.get_collection(tf.GraphKeys.GLOBAL_VARIABLES, scope=name)[0].shape\r\n    return layer_names_and_shapes\r\n\r\n\r\ndef model(inputs_):\r\n    # Encoder\r\n    conv1 = layers.conv2d(inputs_, num_outputs=32, kernel_size=(3, 3), scope='conv1')\r\n    conv_str2 = layers.conv2d(conv1, num_outputs=32, kernel_size=(3, 3), stride=2, scope='conv_str2')\r\n    conv2 = layers.conv2d(conv_str2, num_outputs=32, kernel_size=(3, 3), scope='conv2')\r\n    encoded = layers.conv2d(conv2, num_outputs=32, kernel_size=(3, 3), stride=2, scope='encoding')\r\n\r\n    conv3 = layers.conv2d(encoded, num_outputs=32, kernel_size=(3, 3), scope='conv3')\r\n    upsample1 = layers.conv2d_transpose(conv3, num_outputs=16, kernel_size=3, stride=2, scope='up1')\r\n    upsample2 = layers.conv2d_transpose(upsample1, num_outputs=32, kernel_size=3,  stride=2, scope='up2')\r\n    logits = layers.conv2d(upsample2, num_outputs=1, kernel_size=(3, 3),  scope='logits', padding='SAME')\r\n    decoded = tf.sigmoid(logits, name='reconstruct')\r\n    return decoded\r\n\r\n\r\nwith tf.name_scope('Input'):\r\n    x = tf.placeholder(tf.float32, shape=[None, 28, 28, 1], name='X')\r\n    y = tf.placeholder(tf.float32, shape=[None, 28, 28, 1], name='Y')\r\n\r\noutput_logits = model(x)\r\n\r\nwith tf.variable_scope('Train'):\r\n    with tf.variable_scope('Loss'):\r\n        loss = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(labels=y, logits=output_logits), name='loss')\r\n    tf.summary.scalar('loss', loss)\r\n    with tf.variable_scope('Optimizer'):\r\n        optimizer = tf.train.AdamOptimizer(learning_rate=0.05, name='Adam-op')\r\n        optimizer = optimizer.minimize(loss)\r\n    with tf.variable_scope('Accuracy'):\r\n        correct_prediction = tf.equal(tf.argmax(output_logits, 1), tf.argmax(y, 1), name='correct_pred')\r\n        accuracy = tf.reduce_mean(tf.cast(correct_prediction, tf.float32), name='accuracy')\r\n    tf.summary.scalar('accuracy', accuracy)\r\n    with tf.variable_scope('Prediction'):\r\n        cls_prediction = tf.argmax(output_logits, axis=1, name='predictions')\r\n\r\n\r\ninit = tf.global_variables_initializer()\r\nmerged = tf.summary.merge_all()\r\nsess = tf.InteractiveSession()\r\nsess.run(init)\r\n\r\nnames = ['conv1', 'conv_str2', 'conv2', 'encoding', 'conv3', 'up1', 'up2']\r\nshapes = shapes_of_built_model(names)\r\nprint('set breakpoint here')\r\n```", "comments": ["@kassemyu I executed the code and got the following error,\r\n`ValueError: Variable conv1/weights already exists, disallowed. Did you mean to set reuse=True or reuse=tf.AUTO_REUSE in VarScope? Originally defined at:` Thanks!", "Hey @gadagashwini thank you for the quick reply. I do not encounter this error and did not set anything additionally. When I run the supplied code-snippet in pycharm's debugging mode I get to evaluate the shapes-dictionary as described. ", "@kassemyu Will it be possible to execute the code in Colab and attache it here? Thanks!", "Hi @gadagashwini, I will give it a try and keep you informed. ", "I just tried it in Colab (new Python 3 notebook) and it worked with the following snippet: \r\nThe shapes that are outputted are as described in the original description of the problem.\r\n\r\nAfter the first run Colab seems to cache in the graph because if a second run is attempted I get the same error message you mentioned before 'ValueError: Variable conv1/weights already exists...'\r\n\r\nBut for the first run in a new python 3 notebook it should all be fine.\r\nThanks!\r\n\r\n```\r\nimport tensorflow as tf\r\nimport tensorflow.contrib.layers as layers\r\n\r\n\r\nfrom tensorflow.examples.tutorials.mnist import input_data\r\nmnist = input_data.read_data_sets(\"/tmp/data/\", one_hot=True)\r\ntrain_X = mnist.train.images\r\ntrain_Y = mnist.train.labels\r\ntest_X = mnist.test.images\r\n\r\n\r\ndef shapes_of_built_model(layer_names):\r\n    layer_names_and_shapes = {}\r\n    for name in layer_names:\r\n        layer_names_and_shapes[name] = tf.get_collection(tf.GraphKeys.GLOBAL_VARIABLES, scope=name)[0].shape\r\n    return layer_names_and_shapes\r\n\r\n\r\ndef model(inputs_):\r\n    # Encoder\r\n    conv1 = layers.conv2d(inputs_, num_outputs=32, kernel_size=(3, 3), scope='conv1')\r\n    conv_str2 = layers.conv2d(conv1, num_outputs=32, kernel_size=(3, 3), stride=2, scope='conv_str2')\r\n    conv2 = layers.conv2d(conv_str2, num_outputs=32, kernel_size=(3, 3), scope='conv2')\r\n    encoded = layers.conv2d(conv2, num_outputs=32, kernel_size=(3, 3), stride=2, scope='encoding')\r\n\r\n    conv3 = layers.conv2d(encoded, num_outputs=32, kernel_size=(3, 3), scope='conv3')\r\n    upsample1 = layers.conv2d_transpose(conv3, num_outputs=16, kernel_size=3, stride=2, scope='up1')\r\n    upsample2 = layers.conv2d_transpose(upsample1, num_outputs=32, kernel_size=3,  stride=2, scope='up2')\r\n    logits = layers.conv2d(upsample2, num_outputs=1, kernel_size=(3, 3),  scope='logits', padding='SAME')\r\n    decoded = tf.sigmoid(logits, name='reconstruct')\r\n    return decoded\r\n\r\n\r\nwith tf.name_scope('Input'):\r\n    x = tf.placeholder(tf.float32, shape=[None, 28, 28, 1], name='X')\r\n    y = tf.placeholder(tf.float32, shape=[None, 28, 28, 1], name='Y')\r\n\r\noutput_logits = model(x)\r\n\r\nwith tf.variable_scope('Train'):\r\n    with tf.variable_scope('Loss'):\r\n        loss = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(labels=y, logits=output_logits), name='loss')\r\n    tf.summary.scalar('loss', loss)\r\n    with tf.variable_scope('Optimizer'):\r\n        optimizer = tf.train.AdamOptimizer(learning_rate=0.05, name='Adam-op')\r\n        optimizer = optimizer.minimize(loss)\r\n    with tf.variable_scope('Accuracy'):\r\n        correct_prediction = tf.equal(tf.argmax(output_logits, 1), tf.argmax(y, 1), name='correct_pred')\r\n        accuracy = tf.reduce_mean(tf.cast(correct_prediction, tf.float32), name='accuracy')\r\n    tf.summary.scalar('accuracy', accuracy)\r\n    with tf.variable_scope('Prediction'):\r\n        cls_prediction = tf.argmax(output_logits, axis=1, name='predictions')\r\n\r\n\r\ninit = tf.global_variables_initializer()\r\nmerged = tf.summary.merge_all()\r\nsess = tf.InteractiveSession()\r\nsess.run(init)\r\n\r\nnames = ['conv1', 'conv_str2', 'conv2', 'encoding', 'conv3', 'up1', 'up2']\r\nshapes = shapes_of_built_model(names)\r\nprint('conv1 shape: ' + str(shapes['conv1']))\r\nprint('up1 shape: ' + str(shapes['up1']))\r\nprint('up2 shape: ' + str(shapes['up2']))\r\n\r\n```", "@kassemyu Yes you are right. For first, I could able to reproduce the issue and second run i got the error. Please see the gist [here](https://colab.research.google.com/drive/1lNplSpFek8DBS6X_Jzy68aWv5xXZX_jR). Thanks!", "Hey, thanks for the quick reply. \r\nGlad it is now reproducible. @ymodak, do you have any idea why the shapes of transposed layers behave like this?\r\n\r\nThanks in advance. ", "Apologies for the delay in response. ```contrib``` module is deprecated. Can you please try the example  using [```tf.keras.layers```](https://www.tensorflow.org/api_docs/python/tf/keras/layers) with latest ```tf-nightly``` build? Thanks!", "Hey, thanks for the input!\r\nI will give it a try and tell you about the results.", "Hey @ymodak , I read the documentation of various layers and ops and it seems to be intended for conv_2d layers and conv2d_transpose layers to have different kernels (i.e. the last dimensions being swapped, also for keras layers since they rely on nn.layers at the core). In Use-cases such as structured pruning this can be really confusing because the number of outputs, which corresponds to the number of prunable filters, is on a different position, making it necessary to keep track of which convolutional layer is transposed etc. and swapping when pruning a transposed one.\r\n\r\n- [filter_height, filter_width, in_channels, out_channels] for conv2d layers\r\n\r\n- [height, width, output_channels, in_channels] for conv2d_transpose (where in_channels have to be the same as the ones in input's [batch, in_channels, height, width] in_channel value, which I kept track of)\r\n\r\nEven when doing so, for transposed layers, errors such as `input depth must be evenly divisible by filter depth`, occur in cases where the transposed layers kernel looks something like this\r\n (3,3, 136 (outputs/filters), 256(in_channels)) \r\nwhile for conv2d (3,3, 256(input_depth), 136(outputs/filters)) would not yield any problems (despite the two values not being divisible (for keras layers)). Maybe this should not be reported as a bug since the documentation of nn.layers describes the filters in the way they are defined. But the error about the divisibility occurs only for transposed layers. \r\n\r\nIs there a particular reason for this behaviour? For now I stopped pruning transposed layers and hope for a solution to my problem.\r\nThanks in advance!\r\n\r\n\r\n\r\n", "Adding zhenyu who is an expert on this topic. ", "Hey @tanzhenyu , \r\n\r\ncould you please give me your opinion on the so far described problem? \r\nThank you very much in advance and thanks @ymodak for adding an expert.\r\n I am very grateful for this opportunity.\r\n ", "I also ran into this issue while writing a custom Wrapper object that takes both Conv2D and Conv2DTranspose. I checked the tensorflow source code and was surprised to see it always assumes the output depth is at `self.kernel[-1]`. For example, the kernel initializers will compute fanout variable to be [-1], when it should be [-2] for Conv2DTranspose. This isn't a problem for Glorot, since it just averages fanout/fanin, but for others, it will be initializing incorrectly.\r\n\r\nI don't know any other places in the main source code that this will be incorrect, personally. Though, I did see the Wrapper objects (e.g. WeightNormalization layer), also make this assumption.", "Contrib layers have been deprecated and removed from 2.x. Please take a look at the builtin Conv2D layers: https://www.tensorflow.org/api_docs/python/tf/keras/layers/Conv2D", "@karmel The main issue is that the code is assuming output depth at self.kernel[-1] when it is actually [-2] for Conv2DTranspose. So fanout kernel initializer is being computed incorrectly for Conv2DTranspose specifically.\r\n\r\nI was just mentioning that the Wrapper objects also have the bug, but since those are deprecated, no need to worry about that. But the bug persists in the builtin Conv2DTranspose layer (and maybe other parts of the code, as I said before).", "@kassemyu  Closing this issue as of now since it was the intended behavior. Please feel free to re-open the issue if you have any concern.Thanks!", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/31192\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/31192\">No</a>\n"]}, {"number": 31191, "title": "BaseDenseAttention now supports attention dropout", "body": "Added optional dropout applied to attention weights (scores)", "comments": ["\nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed (or fixed any issues), please reply here with `@googlebot I signed it!`) and we'll verify it.\n\n----\n\n#### What to do if you already signed the CLA\n\n##### Individual signers\n\n*   It's possible we don't have your GitHub username or you're using a different email address on your commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n\n##### Corporate signers\n\n*   Your company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to [go/cla#troubleshoot](http://go/cla#troubleshoot) ([Public version](https://opensource.google.com/docs/cla/#troubleshoot)).\n*   The email used to register you as an authorized contributor must be the email used for the Git commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n*   The email used to register you as an authorized contributor must also be [attached to your GitHub account](https://github.com/settings/emails).\n\t\t\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F31191) for more info**.\n\n<!-- need_sender_cla -->", "> @googlebot I signed it!\r\n\r\n", "CLAs look good, thanks!\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F31191) for more info**.\n\n<!-- ok -->", "I'm not sure I'm the best person to review this.\r\nCan you find the author of dense attention?\r\nhttps://github.com/tensorflow/community/blob/master/rfcs/20190115-dense-attention.md", "Can one of the admins verify this patch?", "Thanks for your contribution. My main concern is that I am not sure this is a good way to apply dropout. E.g. Transformer applies dropout to the DNN/CNN layers, but not to the attention layer. Do you have any pointers/papers where this technique was successful?\r\n\r\nOf course, you are free to try your idea in your projects. But before adding a new feature in a public API, we would like to understand its value. Thanks.", "@roumposg \r\n\r\nhttps://github.com/tensorflow/models/blob/master/official/transformer/v2/attention_layer.py\r\n\r\nI know it's not a paper, but the official TensorFlow implementation. I was just morroring it.\r\n\r\nEDIT: You can find it at line 172\r\n\r\nAnd the results are slightly different from the \"more conventional\" dropout, given that it's applied to the attention weights. Think of it as the recurrent dropout the RNNs have.\r\n\r\nOn the other hand, I was about to contribute the implementation of the Relative Encoding (https://arxiv.org/abs/1803.02155, and with a better explanation https://arxiv.org/abs/1809.04281). Would it be a good idea? ", "@claverru \r\nThanks for the pointer. I added some suggestions, please work on them. The pull request is good with me, but I don't think I have rights to approve it, so I will ask someone who can, thanks.", "@roumposg I can approve if it looks good to you", "@roumposg Thank you, I appreciate it. I will fix them as soon as I can. Also thanks to @tanzhenyu .", "@roumposg I think it should be finished now, let me know please. ", "@gbaned Is everything alright?", "@claverru Sorry for the late reply. It is pending with internal merging. Thanks! ", "Any news?", "> Any news?\r\n\r\n@gbaned ?", "@arthurflor23, @claverru  This is failing some internal tests, please stay tuned. Thanks!", "It broke internal tests so @roumposg submitted a separate commit [here](https://github.com/tensorflow/tensorflow/commit/2c0ab25cad67841e28218f3612801f9a2d673a0a)", "Thank you @tanzhenyu , @roumposg !", "Seems auto-merge is not happening but the changes are now committed so we can close this. Thank you for the PR."]}, {"number": 31190, "title": "external/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/darwin-x86_64/lib/gcc/arm-linux-androideabi/4.9.x/../../../../arm-linux-androideabi/bin/ld: error: cannot open Foundation: No such file or directory", "body": "\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):mac 10.12.6\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary):source\r\n- TensorFlow version:V1.14.0\r\n- Python version:3.7\r\n- Installed using virtualenv? pip? conda?:conda\r\n- Bazel version (if compiling from source):2.5.0\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\nConfigured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/usr/include/c++/4.2.1\r\nApple LLVM version 9.0.0 (clang-900.0.39.2)\r\nTarget: x86_64-apple-darwin16.7.0\r\nThread model: posix\r\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\r\n- GPU model and memory:\r\n\r\n\r\n\r\n**Describe the problem**\r\n\r\nI downloaded the tag 1.14.0 from git and found this problem after executing the following command\r\n\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\nbazel build -c opt //tensorflow/contrib/android:libtensorflow_inference.so \\\r\n   --crosstool_top=//external:android/crosstool \\\r\n   --host_crosstool_top=@bazel_tools//tools/cpp:toolchain \\\r\n   --cxxopt=-std=c++11 \\\r\n   --cpu=armeabi-v7a \r\n\r\n\r\n**Any other info / logs**\r\nERROR: /Users/qbq_wzk/zhangshexin/tensorflow-1.14.0/tensorflow/contrib/android/BUILD:60:1: Linking of rule '//tensorflow/contrib/android:libtensorflow_inference.so' failed (Exit 1)\r\nexternal/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/darwin-x86_64/lib/gcc/arm-linux-androideabi/4.9.x/../../../../arm-linux-androideabi/bin/ld: error: cannot open Foundation: No such file or directory\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nTarget //tensorflow/contrib/android:libtensorflow_inference.so failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 1318.638s, Critical Path: 169.36s\r\nINFO: 886 processes: 886 local.\r\nFAILED: Build did NOT complete successfully\r\n", "comments": ["What version of the NDK are you using?", "Also, make sure you run the the `tensorflow/configure` script from your checkout. This will let you properly configure the NDK.", "> What version of the NDK are you using?\r\nFirst of all, thank you very much.\r\n----------------------------------------------\r\nThe NDK version I used is configured as follows:\r\n# Uncomment and update the paths in these entries to build the Android demo.\r\nandroid_sdk_repository(\r\n     name = \"androidsdk\",\r\n     api_level = 28,\r\n     # Ensure that you have the build_tools_version below installed in the\r\n     # SDK manager as it updates periodically.\r\n     build_tools_version = \"28.0.3\",\r\n     # Replace with path to Android SDK on your system\r\n     path = \"/Users/qbq_wzk/Library/Android/sdk\",\r\n )\r\n#\r\nandroid_ndk_repository(\r\n    name=\"androidndk\",\r\n    path=\"/Users/qbq_wzk/zhangshexin/android_workspace/android-ndk-r14b\",\r\n#    path = \"/Users/qbq_wzk/Library/Android/sdk/ndk-bundle\",\r\n    # This needs to be 14 or higher to compile TensorFlow.\r\n    # Please specify API level to >= 21 to build for 64-bit\r\n    # archtectures or the Android NDK will automatically select biggest\r\n    # API level that it supports without notice.\r\n    # Note that the NDK version is not the API level.\r\n    api_level=21)\r\n\r\n--------------------------------------\r\nAnd I did configure, but I chose \u2018no\u2019\r\n\r\n-------------------------------------------\r\nThis problem has been bothering me for days. I was executing the command from the root of the project after checout, but it kept saying:\r\nExternal/androidndk/the NDK/toolchains/arm - Linux - androideabi - 4.9 / prebuilt/Darwin - x86_64 / lib/GCC/arm - Linux - 4.9 - / - androideabi x /.. /.. /.. /.. /arm-linux-androideabi/bin/ld: error: cannot open Foundation: No such file or directory", "> Also, make sure you run the the `tensorflow/configure` script from your checkout. This will let you properly configure the NDK.\r\n\r\nI re-executed the config file and set WORKSPACE as required. Now I reported the following error. I changed the environment as follows:\r\nPython: 2.7\r\nBazel: 0.25.0\r\n\r\nError content:\r\nINFO: Analyzed target //tensorflow/contrib/android:libtensorflow_inference.so (97 packages loaded, 16026 targets configured).\r\nINFO: Found 1 target...\r\nERROR: /private/var/tmp/_bazel_zhangshexin/7c06dad4510e833a8510d0c387ec292b/external/protobuf_archive/BUILD:388:1: C++ compilation of rule '@protobuf_archive//:protoc' failed: Unexpected IO error: Running '/var/tmp/_bazel_zhangshexin/install/1a037b6c0d8096293d1eecfde6528fbd/_embedded_binaries/xcode-locator 9.2.0.9C40b' failed.\r\nProcess terminated by signal 6\r\nstdout: \r\nstderr: 2019-08-02 11:27:55.890 xcode-locator[24110:525351] Found bundle com.apple.dt.Xcode in file:///Applications/Xcode.app/; contents on disk: (\r\n    \"file:///Applications/Xcode.app/Contents/\"\r\n)\r\n2019-08-02 11:27:55.892 xcode-locator[24110:525351] Version strings for file:///Applications/Xcode.app/: short=9.2, expanded=9.2.0\r\n2019-08-02 11:27:55.892 xcode-locator[24110:525351] -[__NSPlaceholderDictionary initWithContentsOfURL:error:]: unrecognized selector sent to instance 0x7fda46c020a0\r\n2019-08-02 11:27:55.892 xcode-locator[24110:525351] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[__NSPlaceholderDictionary initWithContentsOfURL:error:]: unrecognized selector sent to instance 0x7fda46c020a0'\r\n*** First throw call stack:\r\n(\r\n\t0   CoreFoundation                      0x00007fffbdc002cb __exceptionPreprocess + 171\r\n\t1   libobjc.A.dylib                     0x00007fffd2a1648d objc_exception_throw + 48\r\n\t2   CoreFoundation                      0x00007fffbdc81f04 -[NSObject(NSObject) doesNotRecognizeSelector:] + 132\r\n\t3   CoreFoundation                      0x00007fffbdb72755 ___forwarding___ + 1061\r\n\t4   CoreFoundation                      0x00007fffbdb722a8 _CF_forwarding_prep_0 + 120\r\n\t5   xcode-locator                       0x000000010f7f6c1c FindXcodes + 1692\r\n\t6   xcode-locator                       0x000000010f7f5c01 main + 289\r\n\t7   libdyld.dylib                       0x00007fffd32fc235 start + 1\r\n\t8   ???                                 0x0000000000000002 0x0 + 2\r\n)\r\nlibc++abi.dylib: terminating with uncaught exception of type NSException\r\nTarget //tensorflow/contrib/android:libtensorflow_inference.so failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 33.784s, Critical Path: 0.15s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully", "Can you try using the following build command?\r\n\r\n```\r\nbazel build -c opt //tensorflow/contrib/android:libtensorflow_inference.so \r\n  --cxxopt=-std=c++11 --config=android_arm64\r\n```", "> Can you try using the following build command?\r\n> \r\n> ```\r\n> bazel build -c opt //tensorflow/contrib/android:libtensorflow_inference.so \r\n>   --cxxopt=-std=c++11 --config=android_arm64\r\n> ```\r\n\r\nI tried this command but still got an error\r\n\r\n`ERROR: /Users/qbq_wzk/zhangshexin/dnn/tensorflow/tensorflow/contrib/android/BUILD:60:1: Linking of rule '//tensorflow/contrib/android:libtensorflow_inference.so' failed (Exit 1)\r\nexternal/androidndk/ndk/toolchains/aarch64-linux-android-4.9/prebuilt/darwin-x86_64/lib/gcc/aarch64-linux-android/4.9.x/../../../../aarch64-linux-android/bin/ld: cannot find Foundation: No such file or directory\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nTarget //tensorflow/contrib/android:libtensorflow_inference.so failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 1040.529s, Critical Path: 136.63s\r\nINFO: 987 processes: 987 local.\r\nFAILED: Build did NOT complete successfully\r\n`", "> Can you try using the following build command?\r\n> \r\n> ```\r\n> bazel build -c opt //tensorflow/contrib/android:libtensorflow_inference.so \r\n>   --cxxopt=-std=c++11 --config=android_arm64\r\n> ```\r\nI tried this command but still got an error\r\n\r\n`ERROR: /Users/qbq_wzk/zhangshexin/dnn/tensorflow/tensorflow/core/grappler/costs/BUILD:37:1: C++ compilation of rule '//tensorflow/core/grappler/costs:graph_properties' failed (Exit 1)\r\ntensorflow/core/grappler/costs/graph_properties.cc:226:34: error: expected '>'\r\n  if (x_root->rank < y_root->rank) {\r\n                                 ^\r\ntensorflow/core/grappler/costs/graph_properties.cc:226:34: error: expected unqualified-id\r\n2 errors generated.\r\nTarget //tensorflow/contrib/android:libtensorflow_inference.so failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 198.812s, Critical Path: 24.71s\r\nINFO: 894 processes: 894 local.\r\nFAILED: Build did NOT complete successfully\r\n`\r\n-----------\r\nIf I comment out the error where the code recompile still shows the following error\r\n\r\n`external/androidndk/ndk/toolchains/aarch64-linux-android-4.9/prebuilt/darwin-x86_64/lib/gcc/aarch64-linux-android/4.9.x/../../../../aarch64-linux-android/bin/ld: cannot find Foundation: No such file or directory`\r\n\r\n", "Hmm, it's possible this is a recent regression with some abseil dependencies (see also https://github.com/abseil/abseil-cpp/issues/326).", "Thank you very much. The problem has been solved. Just push the code back\r\n\r\n\r\n absl/time/internal/cctz/BUILD.bazel \r\nChange it to this\uff1a\r\n# Copyright 2016 Google Inc. All Rights Reserved.\r\n#\r\n# Licensed under the Apache License, Version 2.0 (the \"License\");\r\n# you may not use this file except in compliance with the License.\r\n# You may obtain a copy of the License at\r\n#\r\n#   https://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n#   Unless required by applicable law or agreed to in writing, software\r\n#   distributed under the License is distributed on an \"AS IS\" BASIS,\r\n#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n#   See the License for the specific language governing permissions and\r\n#   limitations under the License.\r\n\r\npackage(features = [\"-parse_headers\"])\r\n\r\nlicenses([\"notice\"])  # Apache License\r\n\r\n\r\n\r\n### libraries\r\n\r\ncc_library(\r\n    name = \"includes\",\r\n    textual_hdrs = [\r\n        \"include/cctz/civil_time.h\",\r\n        \"include/cctz/civil_time_detail.h\",\r\n        \"include/cctz/time_zone.h\",\r\n    ],\r\n    visibility = [\"//absl/time:__pkg__\"],\r\n)\r\n\r\ncc_library(\r\n    name = \"civil_time\",\r\n    srcs = [\"src/civil_time_detail.cc\"],\r\n    hdrs = [\r\n        \"include/cctz/civil_time.h\",\r\n    ],\r\n    textual_hdrs = [\"include/cctz/civil_time_detail.h\"],\r\n    visibility = [\"//visibility:public\"],\r\n)\r\n\r\ncc_library(\r\n    name = \"time_zone\",\r\n    srcs = [\r\n        \"src/time_zone_fixed.cc\",\r\n        \"src/time_zone_fixed.h\",\r\n        \"src/time_zone_format.cc\",\r\n        \"src/time_zone_if.cc\",\r\n        \"src/time_zone_if.h\",\r\n        \"src/time_zone_impl.cc\",\r\n        \"src/time_zone_impl.h\",\r\n        \"src/time_zone_info.cc\",\r\n        \"src/time_zone_info.h\",\r\n        \"src/time_zone_libc.cc\",\r\n        \"src/time_zone_libc.h\",\r\n        \"src/time_zone_lookup.cc\",\r\n        \"src/time_zone_posix.cc\",\r\n        \"src/time_zone_posix.h\",\r\n        \"src/tzfile.h\",\r\n        \"src/zone_info_source.cc\",\r\n    ],\r\n    hdrs = [\r\n        \"include/cctz/time_zone.h\",\r\n        \"include/cctz/zone_info_source.h\",\r\n    ],\r\n\r\n    visibility = [\"//visibility:public\"],\r\n    deps = [\":civil_time\"],\r\n)\r\n\r\n### tests\r\n\r\ncc_test(\r\n    name = \"civil_time_test\",\r\n    size = \"small\",\r\n    srcs = [\"src/civil_time_test.cc\"],\r\n    deps = [\r\n        \":civil_time\",\r\n        \"@com_google_googletest//:gtest_main\",\r\n    ],\r\n)\r\n\r\ncc_test(\r\n    name = \"time_zone_format_test\",\r\n    size = \"small\",\r\n    srcs = [\"src/time_zone_format_test.cc\"],\r\n    data = [\":zoneinfo\"],\r\n    tags = [\r\n        \"no_test_android_arm\",\r\n        \"no_test_android_arm64\",\r\n        \"no_test_android_x86\",\r\n    ],\r\n    deps = [\r\n        \":civil_time\",\r\n        \":time_zone\",\r\n        \"@com_google_googletest//:gtest_main\",\r\n    ],\r\n)\r\n\r\ncc_test(\r\n    name = \"time_zone_lookup_test\",\r\n    size = \"small\",\r\n    timeout = \"moderate\",\r\n    srcs = [\"src/time_zone_lookup_test.cc\"],\r\n    data = [\":zoneinfo\"],\r\n    tags = [\r\n        \"no_test_android_arm\",\r\n        \"no_test_android_arm64\",\r\n        \"no_test_android_x86\",\r\n    ],\r\n    deps = [\r\n        \":civil_time\",\r\n        \":time_zone\",\r\n        \"@com_google_googletest//:gtest_main\",\r\n    ],\r\n)\r\n\r\n### benchmarks\r\n\r\ncc_test(\r\n    name = \"cctz_benchmark\",\r\n    srcs = [\r\n        \"src/cctz_benchmark.cc\",\r\n        \"src/time_zone_if.h\",\r\n        \"src/time_zone_impl.h\",\r\n        \"src/time_zone_info.h\",\r\n        \"src/tzfile.h\",\r\n    ],\r\n    linkstatic = 1,\r\n    tags = [\"benchmark\"],\r\n    deps = [\r\n        \":civil_time\",\r\n        \":time_zone\",\r\n        \"@com_github_google_benchmark//:benchmark_main\",\r\n    ],\r\n)\r\n\r\n### examples\r\n\r\n### binaries\r\n\r\nfilegroup(\r\n    name = \"zoneinfo\",\r\n    srcs = glob([\"testdata/zoneinfo/**\"]),\r\n)\r\n\r\n", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=31190\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=31190\">No</a>\n", "**Solve this issue by commented the code blocks below**\r\n```\r\nvim bazel-tensorflow/external/com_google_absl/absl/time/internal/cctz/Build.bazel\r\nlicenses([\"notice\"])  # Apache License\r\n# Block 01\r\n# config_setting(\r\n#     name = \"osx\",\r\n#     constraint_values = [\r\n#         \"@bazel_tools//platforms:osx\",\r\n#     ],\r\n# )\r\n#\r\n# config_setting(\r\n#     name = \"ios\",\r\n#     constraint_values = [\r\n#         \"@bazel_tools//platforms:ios\",\r\n#     ],\r\n# )\r\n...\r\n# Block 02\r\n    # linkopts = select({\r\n    #     \":osx\": [\r\n    #         \"-framework Foundation\",\r\n    #     ],\r\n    #     \":ios\": [\r\n    #         \"-framework Foundation\",\r\n    #     ],\r\n    #     \"//conditions:default\": [],\r\n    # }),\r\n    visibility = [\"//visibility:public\"],\r\n    deps = [\":civil_time\"],\r\n)\r\n```", "Sorry, I'm a bit lost here. Which is the proper workaround for this? I'm trying to build tensorflow Lite \"with tf ops\" and is failing with this same error. Shall I comment the lines pointed out by @since2014? \r\n\r\n@zhangshexin would you mind pointing out exactly which was the code modification you made to \"BUILD.bazel\" so I can apply the same one?\r\n\r\nThanks!", "Just reviewing this again and I think that from @since2014 comment it's pretty clear what you need to comment. I just leave one more comment if someone encounters this. This fix has to be re-applied if you do `bazel clean`. Thanks!", "04e169a should fix this. Let me know if you still have issues."]}, {"number": 31189, "title": "Win 10 download mnist get SSL CERTIFICATE_VERIFY_FAILED error", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): No\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): win 10\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): 1.14.0\r\n- Python version: 3.6.5\r\n- Bazel version (if compiling from source): na\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: cuda 10.1\r\n- GPU model and memory:\r\n**Code to reproduce the issue**\r\nHere is the error I get:\r\n`>>> from tensorflow.examples.tutorials.mnist import input_data`\r\n`C:\\Anaconda\\lib\\site-packages\\h5py\\__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from float to np.floating is deprecated. In future, it will be treated as np.float64 == np.dtype(float).type.\r\n  from ._conv import register_converters as _register_converters`\r\n`>>> mnist = input_data.read_data_sets(\"MNIST_data/\", one_hot=True)`\r\n`WARNING: Logging before flag parsing goes to stderr.\r\nW0731 06:36:14.795812 11136 deprecation.py:323] From <stdin>:1: read_data_sets (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future version.`\r\n`Instructions for updating:\r\nPlease use alternatives such as official/mnist/dataset.py from tensorflow/models.\r\nW0731 06:36:14.795812 11136 deprecation.py:323] From C:\\Users\\demouser\\AppData\\Roaming\\Python\\Python36\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\mnist.py:260: maybe_download (from tensorflow.contrib.learn.python.learn.datasets.base) is deprecated and will be removed in a future version.`\r\n`Instructions for updating:\r\nPlease write your own downloading logic.`\r\n`W0731 06:36:14.795812 11136 deprecation.py:323] From C:\\Users\\demouser\\AppData\\Roaming\\Python\\Python36\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\base.py:252: _internal_retry.<locals>.wrap.<locals>.wrapped_fn (from tensorflow.contrib.learn.python.learn.datasets.base) is deprecated and will be removed in a future version.`\r\n`Instructions for updating:\r\nPlease use urllib or similar directly.\r\nTraceback (most recent call last):`\r\n  `File \"C:\\Anaconda\\lib\\urllib\\request.py\", line 1318, in do_open\r\n    encode_chunked=req.has_header('Transfer-encoding'))\r\n  File \"C:\\Anaconda\\lib\\http\\client.py\", line 1239, in request\r\n    self._send_request(method, url, body, headers, encode_chunked)\r\n  File \"C:\\Anaconda\\lib\\http\\client.py\", line 1285, in _send_request\r\n    self.endheaders(body, encode_chunked=encode_chunked)\r\n  File \"C:\\Anaconda\\lib\\http\\client.py\", line 1234, in endheaders\r\n    self._send_output(message_body, encode_chunked=encode_chunked)\r\n  File \"C:\\Anaconda\\lib\\http\\client.py\", line 1026, in _send_output\r\n    self.send(msg)\r\n  File \"C:\\Anaconda\\lib\\http\\client.py\", line 964, in send\r\n    self.connect()\r\n  File \"C:\\Anaconda\\lib\\http\\client.py\", line 1400, in connect\r\n    server_hostname=server_hostname)\r\n  File \"C:\\Anaconda\\lib\\ssl.py\", line 407, in wrap_socket\r\n    _context=self, _session=session)\r\n  File \"C:\\Anaconda\\lib\\ssl.py\", line 814, in __init__\r\n    self.do_handshake()\r\n  File \"C:\\Anaconda\\lib\\ssl.py\", line 1068, in do_handshake\r\n    self._sslobj.do_handshake()\r\n  File \"C:\\Anaconda\\lib\\ssl.py\", line 689, in do_handshake\r\n    self._sslobj.do_handshake()\r\nssl.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:833)`\r\n\r\n`During handling of the above exception, another exception occurred:`\r\n\r\n`Traceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\Users\\demouser\\AppData\\Roaming\\Python\\Python36\\site-packages\\tensorflow\\python\\util\\deprecation.py\", line 324, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\demouser\\AppData\\Roaming\\Python\\Python36\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\mnist.py\", line 260, in read_data_sets\r\n    source_url + TRAIN_IMAGES)\r\n  File \"C:\\Users\\demouser\\AppData\\Roaming\\Python\\Python36\\site-packages\\tensorflow\\python\\util\\deprecation.py\", line 324, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\demouser\\AppData\\Roaming\\Python\\Python36\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\base.py\", line 252, in maybe_download\r\n    temp_file_name, _ = urlretrieve_with_retry(source_url)\r\n  File \"C:\\Users\\demouser\\AppData\\Roaming\\Python\\Python36\\site-packages\\tensorflow\\python\\util\\deprecation.py\", line 324, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\demouser\\AppData\\Roaming\\Python\\Python36\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\base.py\", line 205, in wrapped_fn\r\n    return fn(*args, **kwargs)\r\n  File \"C:\\Users\\demouser\\AppData\\Roaming\\Python\\Python36\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\base.py\", line 233, in urlretrieve_with_retry\r\n    return urllib.request.urlretrieve(url, filename)\r\n  File \"C:\\Anaconda\\lib\\urllib\\request.py\", line 248, in urlretrieve\r\n    with contextlib.closing(urlopen(url, data)) as fp:\r\n  File \"C:\\Anaconda\\lib\\urllib\\request.py\", line 223, in urlopen\r\n    return opener.open(url, data, timeout)\r\n  File \"C:\\Anaconda\\lib\\urllib\\request.py\", line 526, in open\r\n    response = self._open(req, data)\r\n  File \"C:\\Anaconda\\lib\\urllib\\request.py\", line 544, in _open\r\n    '_open', req)\r\n  File \"C:\\Anaconda\\lib\\urllib\\request.py\", line 504, in _call_chain\r\n    result = func(*args)\r\n  File \"C:\\Anaconda\\lib\\urllib\\request.py\", line 1361, in https_open\r\n    context=self._context, check_hostname=self._check_hostname)\r\n  File \"C:\\Anaconda\\lib\\urllib\\request.py\", line 1320, in do_open\r\n    raise URLError(err)`\r\n`urllib.error.URLError: <urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:833)>`\r\n\r\n**Describe the current behavior**\r\nI reinstall the certifi, openssl, cryptography, ca-certificates. But it did not work.\r\nI changed the mnist url from https to http. It worked. But I don't think this is a good solution. it just bypass ssl.\r\nI use openssl s_client command checked the connect to the mnist url. I got the certificate information. So I guess the certification is installed and added to ssl. But why do I still get  SSL CERTIFICATE_VERIFY_FAILED error?\r\nI also checked: 'conda config --show ssl_verify'  It showed the accert.pem file path\r\n\r\n\r\n\r\n", "comments": ["@yaradong I executed the code on Colab and as well on local system it is working fine. Could you check once without changing http to https. Let us know how it progresses. Thanks!", "Automatically closing due to lack of recent activity. Please update the issue when new information becomes available, and we will reopen the issue. Thanks!\r\n"]}]