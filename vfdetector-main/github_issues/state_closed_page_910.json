[{"number": 26162, "title": "Add speech recognition while true with webcam", "body": "is there any way to add speech recognition so that it will respond to our emotions if we speak .please help me or else is there any alternative way to record the audio file and check the input then it will speak with us", "comments": ["@ArjunAJS143 This is not Build/Installation or Bug/Performance issue. Please post this kind of support questions at [Stackoverflow](https://stackoverflow.com/questions/tagged/tensorflow). There is a big community to support and learn from your questions. GitHub is mainly for addressing bugs in installation and performance. Thanks!\r\n"]}, {"number": 26161, "title": "Tensorflow Lite on GPU failed on Android Pi9.0", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\nAndroid Pi9.0 with NXP i.MX8QM\r\n- TensorFlow installed from (source or binary):\r\nBuild from source based on https://www.tensorflow.org/lite/performance/gpu_advanced\r\n- TensorFlow version (or github SHA if from source):\r\ncommit ad78d08bd1d03238d434d3d214a1de56f22d7601 (HEAD -> imx_r1.98, origin/r1.98)\r\nAuthor: A. Unique TensorFlower <gardener@tensorflow.org>\r\nDate:   Wed Feb 13 12:35:06 2019 -0800\r\n\r\n    [TF:XLA] Mark a test as not running on XLA due to different flows.\r\n\r\n    The test is not run because it is to test a part of grappler not used with XLA:GPU.\r\n\r\n    This is change is a no-op. It makes explicit a default value and adds comments.\r\n\r\n    PiperOrigin-RevId: 233807945\r\n\r\n**Any other info / logs**\r\n02-27 14:37:26.750  4532  4618 E AndroidRuntime: FATAL EXCEPTION: CameraBackground\r\n02-27 14:37:26.750  4532  4618 E AndroidRuntime: Process: android.example.com.tflitecamerademo, PID: 4532\r\n02-27 14:37:26.750  4532  4618 E AndroidRuntime: java.lang.IllegalArgumentException: Internal error: Failed to apply delegate: WARNING: op code #43 cannot be handled by this delegate.  Onl.\r\n02-27 14:37:26.750  4532  4618 E AndroidRuntime:\r\n02-27 14:37:26.750  4532  4618 E AndroidRuntime:        at org.tensorflow.lite.NativeInterpreterWrapper.applyDelegate(Native Method)\r\n02-27 14:37:26.750  4532  4618 E AndroidRuntime:        at org.tensorflow.lite.NativeInterpreterWrapper.init(NativeInterpreterWrapper.java:83)\r\n02-27 14:37:26.750  4532  4618 E AndroidRuntime:        at org.tensorflow.lite.NativeInterpreterWrapper.<init>(NativeInterpreterWrapper.java:60)\r\n02-27 14:37:26.750  4532  4618 E AndroidRuntime:        at org.tensorflow.lite.Interpreter.<init>(Interpreter.java:224)\r\n02-27 14:37:26.750  4532  4618 E AndroidRuntime:   at com.example.android.tflitecamerademo.ImageClassifier.recreateInterpreter(ImageClassifier.java:168)\r\n02-27 14:37:26.750  4532  4618 E AndroidRuntime:        at com.example.android.tflitecamerademo.ImageClassifier.useGpu(ImageClassifier.java:176)\r\n02-27 14:37:26.750  4532  4618 E AndroidRuntime:        at com.example.android.tflitecamerademo.Camera2BasicFragment.lambda$updateActiveModel$0$Camera2BasicFragment(Camera2BasicFragment.ja)\r\n02-27 14:37:26.750  4532  4618 E AndroidRuntime:        at com.example.android.tflitecamerademo.Camera2BasicFragment$$Lambda$0.run(Unknown Source:24)\r\n02-27 14:37:26.750  4532  4618 E AndroidRuntime:        at android.os.Handler.handleCallback(Handler.java:790)\r\n02-27 14:37:26.750  4532  4618 E AndroidRuntime:        at android.os.Handler.dispatchMessage(Handler.java:99)", "comments": ["Does the NXP i.MX8QM support OpenGL ES 3.1 Compute Shader?", "> Does the NXP i.MX8QM OpenGL ES 3.1 Compute Shader?\r\n\r\nYes. i.MX8QM support the ES3.1 compute shader. ", "@guoyinchen \r\n\r\nThanks for trying out the GPU delegate.  Well, the error message says that op #43 is SQUEEZE, so the first part of the graph (until SQUEEZE) is supposed to be run on GPU, and the rest on CPU.  TFLite framework is supposed to handle GPU / CPU transition smoothly, and I'm actually surprised that it gets a fatal error.  I wonder whether it has multiple subgraphs inside.\r\n\r\nIs it possible for you to share the TFLIte model with me?", "@impjdi \r\nI use the one mobilenet_v1_1.0_224.tflite which can be fetched from http://download.tensorflow.org/models/mobilenet_v1_2018_02_22/mobilenet_v1_1.0_224.tgz\r\nI used the default android app in tensorflow git as https://github.com/tensorflow/tensorflow/tree/r1.13/tensorflow/lite/java/demo", "@guoyinchen Some NXP materials, such as [this](https://www.nxp.com/products/processors-and-microcontrollers/arm-based-processors-and-mcus/i.mx-applications-processors/i.mx-8-processors/i.mx-8-family-arm-cortex-a53-cortex-a72-virtualization-vision-3d-graphics-4k-video:i.MX8), says OpenGL ES 3.0. So I am not sure if 3.1 Compute Shader is supported. I tried the GPU Delegate on various platforms and wrote a [quick-and-dirty benchmark](https://github.com/freedomtan/glDelegateBench) program before. On platforms with GL ES 3.1 Compute Shader, the only problem I met so far was https://github.com/tensorflow/tensorflow/issues/25759.  And as @impjdi said, SQUEEZE not supported should not be a problem.", "@freedomtan \r\nthe website dont have the correct info. we will have it updated. And actually we have es31 CTS to test our i.MX8QM. It can pass those CTS.  Do you have some sample code for us to check which API you use to query those GPU info?", "@guoyinchen I don't work for Google. @impjdi does. I just use GPU Delegate, don't have any query.", "Not officially announced yet, but FYI: GPU code is now visible at:\r\n\r\nhttps://github.com/tensorflow/tensorflow/tree/master/tensorflow/lite/delegates/gpu\r\n\r\nif you need the code for better insight what is happening.", "Let's close this issue. Please let me know if this is still happening with recent TFLite releases."]}, {"number": 26160, "title": "DataLossError: file is too short to be an sstable", "body": "<em>Hi, I am trying to build a custom object detector using Tensorflow. I tried to do it in my local computer but it took a long time as I have an Intel i3 processor and no GPU. But I was able to start the training after running the following code:\r\n`python train.py --logtostderr --train_dir=training/ --pipeline_config_path=training/ssd_inception_v2_coco.config`\r\nThe training continued for few epochs for some hours along with losses like it typically does after which I decided to stop and try it using Google Colab since there is GPU support there.\r\nBut when I copy all the tensorflow directory containing all the XMLs,Images,tf-records, pretrained models and config files and run in colab, the training starts but ends with an error.\r\n**Output line of Colab:**\r\nWARNING: The TensorFlow contrib module will not be included in TensorFlow 2.0.\r\nFor more information, please see:\r\n  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md\r\n  * https://github.com/tensorflow/addons\r\nIf you depend on functionality not listed there, please file an issue.\r\n\r\nWARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow/python/platform/app.py:125: main (from __main__) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse object_detection/model_main.py.\r\nWARNING:tensorflow:From /content/drive/My Drive/New Project/TensorFlow/models/research/object_detection/legacy/trainer.py:266: create_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nPlease switch to tf.train.create_global_step\r\nWARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nColocations handled automatically by placer.\r\nWARNING:tensorflow:num_readers has been reduced to 1 to match input file shards.\r\nWARNING:tensorflow:From /content/drive/My Drive/New Project/TensorFlow/models/research/object_detection/builders/dataset_builder.py:80: parallel_interleave (from tensorflow.contrib.data.python.ops.interleave_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.data.experimental.parallel_interleave(...)`.\r\nWARNING:tensorflow:From /content/drive/My Drive/New Project/TensorFlow/models/research/object_detection/legacy/trainer.py:65: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse tf.cast instead.\r\nWARNING:tensorflow:From /content/drive/My Drive/New Project/TensorFlow/models/research/object_detection/core/preprocessor.py:188: sample_distorted_bounding_box (from tensorflow.python.ops.image_ops_impl) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\n`seed2` arg is deprecated.Use sample_distorted_bounding_box_v2 instead.\r\nWARNING:tensorflow:From /content/drive/My Drive/New Project/TensorFlow/models/research/object_detection/core/preprocessor.py:1218: calling squeeze (from tensorflow.python.ops.array_ops) with squeeze_dims is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse the `axis` argument instead\r\nWARNING:tensorflow:From /content/drive/My Drive/New Project/TensorFlow/models/research/object_detection/core/batcher.py:96: batch (from tensorflow.python.training.input) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nQueue-based input pipelines have been replaced by `tf.data`. Use `tf.data.Dataset.batch(batch_size)` (or `padded_batch(...)` if `dynamic_pad=True`).\r\nWARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow/python/training/input.py:753: QueueRunner.__init__ (from tensorflow.python.training.queue_runner_impl) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nTo construct input pipelines, use the `tf.data` module.\r\nWARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow/python/training/input.py:753: add_queue_runner (from tensorflow.python.training.queue_runner_impl) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nTo construct input pipelines, use the `tf.data` module.\r\nINFO:tensorflow:depth of additional conv before box predictor: 0\r\nINFO:tensorflow:depth of additional conv before box predictor: 0\r\nINFO:tensorflow:depth of additional conv before box predictor: 0\r\nINFO:tensorflow:depth of additional conv before box predictor: 0\r\nINFO:tensorflow:depth of additional conv before box predictor: 0\r\nINFO:tensorflow:depth of additional conv before box predictor: 0\r\nWARNING:tensorflow:From /content/drive/My Drive/New Project/TensorFlow/models/research/object_detection/core/losses.py:664: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse tf.cast instead.\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 184, in <module>\r\n    tf.app.run()\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/platform/app.py\", line 125, in run\r\n    _sys.exit(main(argv))\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/util/deprecation.py\", line 324, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"train.py\", line 180, in main\r\n    graph_hook_fn=graph_rewriter_fn)\r\n  File \"/content/drive/My Drive/New Project/TensorFlow/models/research/object_detection/legacy/trainer.py\", line 397, in train\r\n    include_global_step=False))\r\n  File \"/content/drive/My Drive/New Project/TensorFlow/models/research/object_detection/utils/variables_helper.py\", line 126, in get_variables_available_in_checkpoint\r\n    ckpt_reader = tf.train.NewCheckpointReader(checkpoint_path)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 326, in NewCheckpointReader\r\n    return CheckpointReader(compat.as_bytes(filepattern), status)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/errors_impl.py\", line 528, in __exit__\r\n    c_api.TF_GetCode(self.status.status))\r\ntensorflow.python.framework.errors_impl.DataLossError: file is too short to be an sstable\r\n\r\n**The code i used is following:**\r\n`import os\r\n\r\nos.chdir('/content/drive/My Drive/New Project/TensorFlow/workspace/training_demo')\r\n\r\nos.environ['PYTHONPATH'] += ':/content/drive/My Drive/New Project/TensorFlow/models/research/:/content/drive/My Drive/New Project/TensorFlow/models/research/slim/'\r\n\r\n!python train.py --logtostderr --train_dir=training/ --pipeline_config_path=training/ssd_inception_v2_coco.config\r\n`\r\n\r\nPlease note that all the preprocessing related to generation of tf-records were done and the entire directory is in the Tensorflow folder.\r\nKindly help. Thank you.", "comments": ["\u795d\u541b\u597d\u8fd0", "It looks like you haven't used a template to create this issue. Please resubmit your issue using a template from [here](https://github.com/tensorflow/tensorflow/issues/new/choose). We ask users to use the template because it reduces overall time to resolve a new issue by avoiding extra communication to get to the root of the issue. We will close this issue in lieu of the new one you will create from the template. Thank you for your cooperation.\r\n", "Automatically closing due to lack of recent activity. Please update the issue when new information becomes available, and we will reopen the issue. Thanks!\r\n", "Hi @ymodak @ankur-venge, i am also getting the same error as above. I am using Google Colab to train an object detector using Tensorflow. All my data is on google drive and i successfully done all the pre-processing including generating tf.record files for both training and test data. My training command is as follows: \r\n`os.environ['PYTHONPATH'] += '/content/gdrivre/My Drive/DeepLearning/models/research/:/content/gdrive/My Drive/DeepLearning/models/research/slim'\r\n!python train.py --logtostderr --train_dir=training/ --pipeline_config_path=ssd_mobilenet_v1_coco.config` \r\nI am already inside models/research/object_detection folder and running the command from there.\r\nAlso pre-trained ssd_mobilenet model is downloaded from official tensorflow repository. \r\n", "if you're getting this from a tf.data dataloader, then try deleting the cache file. This worked for me\r\n\r\n"]}, {"number": 26159, "title": "Eigen/CXX11/../../../Eigen/src/Core/GenericPacketMath.h error: invalid operands to binary expression ('const double2' and 'const double2') pxor(const Packet& a, const Packet& b) { return a ^ b; }", "body": "**System information**\r\n- OS Platform and Distribution: Linux Ubuntu 16.04\r\n- TensorFlow installed from: source \r\n- TensorFlow version: r1.99 and latest\r\n- Python version: 3.5\r\n- Installed using virtualenv? pip? conda?: \r\n- Bazel version (if compiling from source): 0.22.0\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: 9.0/7.0 and 8.0/7.0\r\n- GPU model and memory: Geforce 1050 Ti\r\n\r\n\r\n\r\n**Describe the problem**\r\n**external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GenericPacketMath.h:211:51: error: invalid operands to binary expression ('const double2' and 'const double2')\r\npxor(const Packet& a, const Packet& b) { return a ^ b; }\r\n**\r\n\r\n", "comments": ["@shuifeixiang Can you describe how you installed TF? can you print TF version \r\n$ import tensorflow as tf\r\n$print(tf.__version__)?\r\n\r\nIf TF was not installed correctly, it is better to start fresh. Uninstall python, and tensorflow then reinstall them using the instructions [here](https://github.com/rnreich/ubuntu-tensorflow-gpu-all-versions). Please let me know how it progresses. Thanks! ", "I think it was resolved. I am closing the issue. Please open a new ticket when you have new information. Thanks!"]}, {"number": 26158, "title": "Building 1.13.1 on Raspberry Pi freezes the board", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Raspbian 9.8 \r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: RaspberryPi 3 Model B+\r\n- TensorFlow installed from (source or binary): NA\r\n- TensorFlow version: 1.13.1\r\n- Python version: 3.5\r\n- Installed using virtualenv? pip? conda?: No\r\n- Bazel version (if compiling from source): No\r\n- GCC/Compiler version (if compiling from source): No\r\n- CUDA/cuDNN version: None\r\n- GPU model and memory: None\r\n\r\n**Describe the problem**\r\nI had a freshly installed and updated Raspberry Pi 3 Model B+, and I followed [the native compiling guide](https://www.tensorflow.org/lite/rpi#native_compiling) in tensorflows website. However, after executing:\r\n\r\n`./tensorflow/lite/tools/make/build_rpi_lib.sh`\r\n\r\nThe RPi Display Freezes up and I'm not sure if it's still proceeding\r\n\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\nGet your RPi with a Raspbian OS, update everything. \r\nThen open a Terminal or SSH to it, go to the home directory, and download the latest tensorflow repository available.\r\n\r\nRun the following commands:\r\n`cd tensorflow`\r\n`./tensorflow/lite/tools/make/download_dependencies.sh`\r\n`./tensorflow/lite/tools/make/build_rpi_lib.sh`\r\n\r\nYour RaspberryPi will freeze at the line:\r\n\r\n`arm-linux-gnueabihf-g++ -O3 -DNDEBUG -fPIC  --std=c++11 -march=armv7-a -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize -fPIC -I. -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/eigen -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/absl -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/gemmlowp -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/neon_2_sse -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/farmhash/src -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/flatbuffers/include -I -I/usr/local/include -c tensorflow/lite/kernels/arg_min_max.cc -o /home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/kernels/arg_min_max.o`\r\n\r\nAnd after a few hours, this comes up:\r\n\r\n`arm-linux-gnueabihf-g++: internal compiler error: Killed (program cc1plus)\r\nPlease submit a full bug report,\r\nwith preprocessed source if appropriate.\r\nSee <file:///usr/share/doc/gcc-6/README.Bugs> for instructions.\r\ntensorflow/lite/tools/make/Makefile:197: recipe for target '/home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/kernels/activations.o' failed\r\nmake: *** [/home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/kernels/activations.o] Error 4\r\nmake: *** Waiting for unfinished jobs....`\r\n\r\n\r\n\r\n**Any other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\nHere is the stack trace from when I issued the `./tensorflow/lite/tools/make/build_rpi_lib.sh` command.\r\n\r\n`pi@raspberrypi:~/tensorflow $ ./tensorflow/lite/tools/make/build_rpi_lib.sh\r\n+ set -e\r\n+++ dirname ./tensorflow/lite/tools/make/build_rpi_lib.sh\r\n++ cd ./tensorflow/lite/tools/make\r\n++ pwd\r\n+ SCRIPT_DIR=/home/pi/tensorflow/tensorflow/lite/tools/make\r\n+ cd /home/pi/tensorflow/tensorflow/lite/tools/make/../../../..\r\n+ CC_PREFIX=arm-linux-gnueabihf-\r\n+ make -j 3 -f tensorflow/lite/tools/make/Makefile TARGET=rpi TARGET_ARCH=armv7l\r\n/bin/sh: 1: [[: not found\r\narm-linux-gnueabihf-g++ -O3 -DNDEBUG -fPIC  --std=c++11 -march=armv7-a -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize -fPIC -I. -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/eigen -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/absl -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/gemmlowp -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/neon_2_sse -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/farmhash/src -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/flatbuffers/include -I -I/usr/local/include -c tensorflow/lite/allocation.cc -o /home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/allocation.o\r\narm-linux-gnueabihf-g++ -O3 -DNDEBUG -fPIC  --std=c++11 -march=armv7-a -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize -fPIC -I. -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/eigen -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/absl -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/gemmlowp -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/neon_2_sse -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/farmhash/src -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/flatbuffers/include -I -I/usr/local/include -c tensorflow/lite/arena_planner.cc -o /home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/arena_planner.o\r\narm-linux-gnueabihf-gcc -O3 -DNDEBUG -fPIC  -march=armv7-a -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize -fPIC -I. -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/eigen -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/absl -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/gemmlowp -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/neon_2_sse -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/farmhash/src -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/flatbuffers/include -I -I/usr/local/include -c tensorflow/lite/c/c_api_internal.c -o /home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/c/c_api_internal.o\r\nIn file included from tensorflow/lite/c/c_api_internal.c:16:0:\r\n./tensorflow/lite/c/c_api_internal.h:60:34: warning: \u2018struct TfLiteContext\u2019 declared inside parameter list will not be visible outside of this definition or declaration\r\n   TfLiteStatus (*Refresh)(struct TfLiteContext* context);\r\n                                  ^~~~~~~~~~~~~\r\narm-linux-gnueabihf-g++ -O3 -DNDEBUG -fPIC  --std=c++11 -march=armv7-a -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize -fPIC -I. -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/eigen -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/absl -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/gemmlowp -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/neon_2_sse -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/farmhash/src -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/flatbuffers/include -I -I/usr/local/include -c tensorflow/lite/core/api/error_reporter.cc -o /home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/core/api/error_reporter.o\r\narm-linux-gnueabihf-g++ -O3 -DNDEBUG -fPIC  --std=c++11 -march=armv7-a -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize -fPIC -I. -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/eigen -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/absl -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/gemmlowp -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/neon_2_sse -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/farmhash/src -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/flatbuffers/include -I -I/usr/local/include -c tensorflow/lite/core/api/flatbuffer_conversions.cc -o /home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/core/api/flatbuffer_conversions.o\r\narm-linux-gnueabihf-g++ -O3 -DNDEBUG -fPIC  --std=c++11 -march=armv7-a -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize -fPIC -I. -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/eigen -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/absl -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/gemmlowp -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/neon_2_sse -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/farmhash/src -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/flatbuffers/include -I -I/usr/local/include -c tensorflow/lite/core/api/op_resolver.cc -o /home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/core/api/op_resolver.o\r\narm-linux-gnueabihf-g++ -O3 -DNDEBUG -fPIC  --std=c++11 -march=armv7-a -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize -fPIC -I. -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/eigen -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/absl -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/gemmlowp -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/neon_2_sse -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/farmhash/src -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/flatbuffers/include -I -I/usr/local/include -c tensorflow/lite/core/subgraph.cc -o /home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/core/subgraph.o\r\narm-linux-gnueabihf-g++ -O3 -DNDEBUG -fPIC  --std=c++11 -march=armv7-a -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize -fPIC -I. -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/eigen -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/absl -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/gemmlowp -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/neon_2_sse -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/farmhash/src -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/flatbuffers/include -I -I/usr/local/include -c tensorflow/lite/experimental/c/c_api.cc -o /home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/experimental/c/c_api.o\r\narm-linux-gnueabihf-g++ -O3 -DNDEBUG -fPIC  --std=c++11 -march=armv7-a -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize -fPIC -I. -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/eigen -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/absl -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/gemmlowp -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/neon_2_sse -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/farmhash/src -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/flatbuffers/include -I -I/usr/local/include -c tensorflow/lite/experimental/c/c_api_experimental.cc -o /home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/experimental/c/c_api_experimental.o\r\narm-linux-gnueabihf-g++ -O3 -DNDEBUG -fPIC  --std=c++11 -march=armv7-a -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize -fPIC -I. -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/eigen -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/absl -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/gemmlowp -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/neon_2_sse -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/farmhash/src -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/flatbuffers/include -I -I/usr/local/include -c tensorflow/lite/graph_info.cc -o /home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/graph_info.o\r\narm-linux-gnueabihf-g++ -O3 -DNDEBUG -fPIC  --std=c++11 -march=armv7-a -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize -fPIC -I. -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/eigen -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/absl -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/gemmlowp -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/neon_2_sse -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/farmhash/src -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/flatbuffers/include -I -I/usr/local/include -c tensorflow/lite/interpreter.cc -o /home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/interpreter.o\r\narm-linux-gnueabihf-g++ -O3 -DNDEBUG -fPIC  --std=c++11 -march=armv7-a -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize -fPIC -I. -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/eigen -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/absl -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/gemmlowp -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/neon_2_sse -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/farmhash/src -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/flatbuffers/include -I -I/usr/local/include -c tensorflow/lite/kernels/activations.cc -o /home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/kernels/activations.o\r\narm-linux-gnueabihf-g++ -O3 -DNDEBUG -fPIC  --std=c++11 -march=armv7-a -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize -fPIC -I. -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/eigen -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/absl -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/gemmlowp -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/neon_2_sse -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/farmhash/src -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/flatbuffers/include -I -I/usr/local/include -c tensorflow/lite/kernels/add.cc -o /home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/kernels/add.o\r\narm-linux-gnueabihf-g++ -O3 -DNDEBUG -fPIC  --std=c++11 -march=armv7-a -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize -fPIC -I. -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/eigen -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/absl -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/gemmlowp -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/neon_2_sse -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/farmhash/src -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/flatbuffers/include -I -I/usr/local/include -c tensorflow/lite/kernels/add_n.cc -o /home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/kernels/add_n.o\r\narm-linux-gnueabihf-g++ -O3 -DNDEBUG -fPIC  --std=c++11 -march=armv7-a -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize -fPIC -I. -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/../../../../../../ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/ -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/eigen -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/absl -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/gemmlowp -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/neon_2_sse -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/farmhash/src -I/home/pi/tensorflow/tensorflow/lite/tools/make/downloads/flatbuffers/include -I -I/usr/local/include -c tensorflow/lite/kernels/arg_min_max.cc -o /home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/kernels/arg_min_max.o\r\n\r\n\r\narm-linux-gnueabihf-g++: internal compiler error: Killed (program cc1plus)\r\nPlease submit a full bug report,\r\nwith preprocessed source if appropriate.\r\nSee <file:///usr/share/doc/gcc-6/README.Bugs> for instructions.\r\ntensorflow/lite/tools/make/Makefile:197: recipe for target '/home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/kernels/activations.o' failed\r\nmake: *** [/home/pi/tensorflow/tensorflow/lite/tools/make/gen/rpi_armv7l/obj/tensorflow/lite/kernels/activations.o] Error 4\r\nmake: *** Waiting for unfinished jobs....\r\n`", "comments": ["I got it to work. After the initial error I encountered, I tried running the command (`./tensorflow/lite/tools/make/build_rpi_lib.sh`) again, and it indicated that the board ran out of virtual memory.\r\n\r\nI then did the following commands:\r\n\r\n`pi$ sudo nano /etc/dphys-swapfile`\r\n\r\nthen edit the swapfile variable to comment out the original.\r\n> #CONF_SWAPSIZE=100 \r\n> CONF_SWAPSIZE=1024\r\n\r\nAnd then after that, I ran:\r\n\r\n`sudo /etc/init.d/dphys-swapfile stop`\r\n`sudo /etc/init.d/dphys-swapfile start`\r\n\r\nI ran the command once more:\r\n`./tensorflow/lite/tools/make/build_rpi_lib.sh`\r\n\r\nAnd it compiled, but in a different location:\r\n\r\ntensorflow/lite/tools/make/gen/**rpi_armv7l/lib**/libtensorflow-lite.a\r\n\r\ninstead of: \r\n\r\ntensorflow/lite/tools/make/gen/**lib/rpi_armv7**/libtensorflow-lite.a\r\n\r\nI'll go check if I can do Object Detection. But for now, I'm closing this. \r\n\r\nTo whoever gets to review this, I think it'd be best if [this tutorial](https://www.tensorflow.org/lite/rpi) gets updated. Thank you.", "@Zeit42  Thanks for posting your solution here. It will be helpful to others. Thanks!"]}, {"number": 26157, "title": "Build error: Undeclared inclusions of various numpy header files", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 18.04\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: r1.13\r\n- Python version: 3.6\r\n- Bazel version (if compiling from source): 0.21.0\r\n- GCC/Compiler version (if compiling from source): gcc (Ubuntu 7.3.0-27ubuntu1~18.04) 7.3.0\r\n- CUDA/cuDNN version: 10.0/7.5\r\n- GPU model and memory: GeForce GTX 1070, Compute Capability 6.1, totalMemory: 7.90GiB\r\n\r\n\r\n\r\n**Describe the problem**\r\n\r\nI'm trying to build tensorflow from source to have both GPU and CPU instruction set support but I'm facing a perplexing build error about undeclared inclusions.\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n```\r\n./configure\r\nbazel build --verbose_failures -c opt --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.1 --copt=-msse4.2 //tensorflow/tools/pip_package:build_pip_package --cxxopt=\"-D_GLIBCXX_USE_CXX11_ABI=0\" \r\n```\r\n\r\n**Any other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\nThe error obtained:\r\n```\r\nERROR: /home/nagreme/tensorflow/tensorflow/python/eager/BUILD:10:1: undeclared inclusion(s) in rule '//tensorflow/python/eager:pywrap_tfe_lib':\r\nthis rule is missing dependency declarations for the following files included by 'tensorflow/python/eager/pywrap_tensor.cc':\r\n  'bazel-out/host/genfiles/external/local_config_python/python_include/numpy/arrayobject.h'\r\n  'bazel-out/host/genfiles/external/local_config_python/python_include/numpy/ndarrayobject.h'\r\n  'bazel-out/host/genfiles/external/local_config_python/python_include/numpy/ndarraytypes.h'\r\n  'bazel-out/host/genfiles/external/local_config_python/python_include/numpy/npy_common.h'\r\n  'bazel-out/host/genfiles/external/local_config_python/python_include/numpy/numpyconfig.h'\r\n  'bazel-out/host/genfiles/external/local_config_python/python_include/numpy/_numpyconfig.h'\r\n  'bazel-out/host/genfiles/external/local_config_python/python_include/numpy/npy_endian.h'\r\n  'bazel-out/host/genfiles/external/local_config_python/python_include/numpy/npy_cpu.h'\r\n  'bazel-out/host/genfiles/external/local_config_python/python_include/numpy/utils.h'\r\n  'bazel-out/host/genfiles/external/local_config_python/python_include/numpy/_neighborhood_iterator_imp.h'\r\n  'bazel-out/host/genfiles/external/local_config_python/python_include/numpy/__multiarray_api.h'\r\n  'bazel-out/host/genfiles/external/local_config_python/python_include/numpy/npy_interrupt.h'\r\n  'bazel-out/host/genfiles/external/local_config_python/python_include/numpy/ufuncobject.h'\r\n  'bazel-out/host/genfiles/external/local_config_python/python_include/numpy/npy_math.h'\r\n  'bazel-out/host/genfiles/external/local_config_python/python_include/numpy/npy_common.h'\r\n  'bazel-out/host/genfiles/external/local_config_python/python_include/numpy/arrayobject.h'\r\n  'bazel-out/host/genfiles/external/local_config_python/python_include/numpy/__ufunc_api.h'\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\n```\r\nMy bazel build configuration:\r\n```\r\n./configure\r\nWARNING: --batch mode is deprecated. Please instead explicitly shut down your Bazel server using the command \"bazel shutdown\".\r\nINFO: Invocation ID: 78f3e435-9b41-440d-a973-946b3e60fa25\r\nYou have bazel 0.21.0 installed.\r\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3\r\nFound possible Python library paths:\r\n  /usr/lib/python3/dist-packages\r\n  /usr/local/lib/python3.6/dist-packages\r\nPlease input the desired Python library path to use.  Default is [/usr/lib/python3/dist-packages]\r\nDo you wish to build TensorFlow with XLA JIT support? [Y/n]: \r\nXLA JIT support will be enabled for TensorFlow.\r\nDo you wish to build TensorFlow with OpenCL SYCL support? [y/N]: \r\nNo OpenCL SYCL support will be enabled for TensorFlow.\r\nDo you wish to build TensorFlow with ROCm support? [y/N]: \r\nNo ROCm support will be enabled for TensorFlow.\r\nDo you wish to build TensorFlow with CUDA support? [y/N]: y\r\nCUDA support will be enabled for TensorFlow.\r\nPlease specify the CUDA SDK version you want to use. [Leave empty to default to CUDA 10.0]: 10.0\r\nPlease specify the location where CUDA 10.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \r\nPlease specify the cuDNN version you want to use. [Leave empty to default to cuDNN 7]: 7.5\r\nPlease specify the location where cuDNN 7 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: /usr/lib/x86_64-linux-gnu/\r\nDo you wish to build TensorFlow with TensorRT support? [y/N]: \r\nNo TensorRT support will be enabled for TensorFlow.\r\nPlease specify the locally installed NCCL version you want to use. [Default is to use https://github.com/nvidia/nccl]: \r\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\r\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\r\nPlease note that each additional compute capability significantly increases your build time and binary size. [Default is: 6.1]: 6.1\r\nDo you want to use clang as CUDA compiler? [y/N]: \r\nnvcc will be used as CUDA compiler.\r\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: \r\nDo you wish to build TensorFlow with MPI support? [y/N]: \r\nNo MPI support will be enabled for TensorFlow.\r\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native -Wno-sign-compare]: \r\nWould you like to interactively configure ./WORKSPACE for Android builds? [y/N]: \r\nNot configuring the WORKSPACE for Android builds.\r\nPreconfigured Bazel build configs. You can use any of the below by adding \"--config=<>\" to your build command. See .bazelrc for more details.\r\n\t--config=mkl         \t# Build with MKL support.\r\n\t--config=monolithic  \t# Config for mostly static monolithic build.\r\n\t--config=gdr         \t# Build with GDR support.\r\n\t--config=verbs       \t# Build with libverbs support.\r\n\t--config=ngraph      \t# Build with Intel nGraph support.\r\n\t--config=dynamic_kernels\t# (Experimental) Build kernels into separate shared objects.\r\nPreconfigured Bazel build configs to DISABLE default on features:\r\n\t--config=noaws       \t# Disable AWS S3 filesystem support.\r\n\t--config=nogcp       \t# Disable GCP support.\r\n\t--config=nohdfs      \t# Disable HDFS support.\r\n\t--config=noignite    \t# Disable Apacha Ignite support.\r\n\t--config=nokafka     \t# Disable Apache Kafka support.\r\n\t--config=nonccl      \t# Disable NVIDIA NCCL support.\r\nConfiguration finished\r\n```", "comments": ["We see that you are using old version of Tensorflow which is officially considered as end of life, We recommend that you upgrade to 2.6  version  and let us know if the issue still persists in newer versions .Please open a new issue in case you face any errors, we will get you the right help .Thanks!", "This issue has been automatically marked as stale because it has no recent activity. It will be closed if no further activity occurs. Thank you.\n", "Closing as stale. Please reopen if you'd like to work on this further.\n", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/26157\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/26157\">No</a>\n"]}, {"number": 26156, "title": "remove HAVE_XLOCALE_H in hwloc BUILD.bazel", "body": "xlocale.h is not a standard header and is not shipped with newer glibc.", "comments": []}, {"number": 26155, "title": "protobuf error from build", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): 18.04.2 x64\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: 1.13.1\r\n- Python version: 3.7.2\r\n- Installed using virtualenv? pip? conda?: pip\r\n- Bazel version (if compiling from source): 0.21.0\r\n- GCC/Compiler version (if compiling from source): 7.3.0\r\n- CUDA/cuDNN version: 10.1 / 7.5\r\n- GPU model and memory: RTX2080Ti GDDR6 11GB\r\n\r\n\r\n\r\n**Describe the problem**\r\n\r\nerror during build\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\nsee log below\r\n\r\n\r\n**Any other info / logs**\r\n\r\n./tensorflow/core/framework/node_def_util.h:167:177:   required from here\r\nexternal/protobuf_archive/src/google/protobuf/map.h:422:29: error: cannot call member function 'bool google::protobuf::Map<Key, T>::InnerMap::TableEntryIsNonEmptyList(google::protobuf::Map<Key, T>::size_type) const [with Key = std::__cxx11::basic_string<char>; T = tensorflow::AttrValue; google::protobuf::Map<Key, T>::size_type = long unsigned int]' without object\r\n           if (m_->TableEntryIsNonEmptyList(bucket_index_)) {\r\n           ~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\r\nexternal/protobuf_archive/src/google/protobuf/map.h:425:30: error: cannot call member function 'bool google::protobuf::Map<Key, T>::InnerMap::TableEntryIsTree(google::protobuf::Map<Key, T>::size_type) const [with Key = std::__cxx11::basic_string<char>; T = tensorflow::AttrValue; google::protobuf::Map<Key, T>::size_type = long unsigned int]' without object\r\n           } else if (m_->TableEntryIsTree(bucket_index_)) {\r\n              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\r\nexternal/protobuf_archive/src/google/protobuf/map.h: In instantiation of 'bool google::protobuf::Map<Key, T>::InnerMap::iterator_base<KeyValueType>::revalidate_if_necessary(google::protobuf::Map<Key, T>::InnerMap::TreeIterator*) [with KeyValueType = google::protobuf::Map<std::__cxx11::basic_string<char>, tensorflow::AttrValue>::KeyValuePair; Key = std::__cxx11::basic_string<char>; T = tensorflow::AttrValue; google::protobuf::Map<Key, T>::InnerMap::TreeIterator = std::_Rb_tree_const_iterator<std::__cxx11::basic_string<char>*>]':\r\nexternal/protobuf_archive/src/google/protobuf/map.h:603:12:   required from 'void google::protobuf::Map<Key, T>::InnerMap::erase(google::protobuf::Map<Key, T>::InnerMap::iterator) [with Key = std::__cxx11::basic_string<char>; T = tensorflow::AttrValue; google::protobuf::Map<Key, T>::InnerMap::iterator = google::protobuf::Map<std::__cxx11::basic_string<char>, tensorflow::AttrValue>::InnerMap::iterator_base<google::protobuf::Map<std::__cxx11::basic_string<char>, tensorflow::AttrValue>::KeyValuePair>]'\r\nexternal/protobuf_archive/src/google/protobuf/map.h:1132:1:   required from 'google::protobuf::Map<Key, T>::iterator google::protobuf::Map<Key, T>::erase(google::protobuf::Map<Key, T>::iterator) [with Key = std::__cxx11::basic_string<char>; T = tensorflow::AttrValue]'\r\nexternal/protobuf_archive/src/google/protobuf/map.h:1137:14:   required from 'void google::protobuf::Map<Key, T>::erase(google::protobuf::Map<Key, T>::iterator, google::protobuf::Map<Key, T>::iterator) [with Key = std::__cxx11::basic_string<char>; T = tensorflow::AttrValue]'\r\nexternal/protobuf_archive/src/google/protobuf/map.h:1140:21:   required from 'void google::protobuf::Map<Key, T>::clear() [with Key = std::__cxx11::basic_string<char>; T = tensorflow::AttrValue]'\r\nexternal/protobuf_archive/src/google/protobuf/map_field_inl.h:178:1:   required from 'void google::protobuf::internal::MapField<Derived, Key, T, key_wire_type, value_wire_type, default_enum_value>::Clear() [with Derived = tensorflow::NameAttrList_AttrEntry_DoNotUse; Key = std::__cxx11::basic_string<char>; T = tensorflow::AttrValue; google::protobuf::internal::WireFormatLite::FieldType kKeyFieldType = (google::protobuf::internal::WireFormatLite::FieldType)9; google::protobuf::internal::WireFormatLite::FieldType kValueFieldType = (google::protobuf::internal::WireFormatLite::FieldType)11; int default_enum_value = 0]'\r\nbazel-out/k8-opt/genfiles/tensorflow/core/framework/attr_value.pb.h:1785:15:   required from here\r\nexternal/protobuf_archive/src/google/protobuf/map.h:484:29: error: cannot call member function 'bool google::protobuf::Map<Key, T>::InnerMap::TableEntryIsNonEmptyList(google::protobuf::Map<Key, T>::size_type) const [with Key = std::__cxx11::basic_string<char>; T = tensorflow::AttrValue; google::protobuf::Map<Key, T>::size_type = long unsigned int]' without object\r\n         if (m_->TableEntryIsNonEmptyList(bucket_index_)) {\r\n         ~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\r\nexternal/protobuf_archive/src/google/protobuf/map.h:498:24: error: cannot call member function 'bool google::protobuf::Map<Key, T>::InnerMap::TableEntryIsList(google::protobuf::Map<Key, T>::size_type) const [with Key = std::__cxx11::basic_string<char>; T = tensorflow::AttrValue; google::protobuf::Map<Key, T>::size_type = long unsigned int]' without object\r\n         return m_->TableEntryIsList(bucket_index_);\r\n         ~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\r\nexternal/protobuf_archive/src/google/protobuf/map.h: In instantiation of 'void google::protobuf::Map<Key, T>::InnerMap::iterator_base<KeyValueType>::SearchFrom(google::protobuf::Map<Key, T>::size_type) [with KeyValueType = google::protobuf::Map<std::__cxx11::basic_string<char>, std::__cxx11::basic_string<char> >::KeyValuePair; Key = std::__cxx11::basic_string<char>; T = std::__cxx11::basic_string<char>; google::protobuf::Map<Key, T>::size_type = long unsigned int]':\r\nexternal/protobuf_archive/src/google/protobuf/map.h:394:11:   required from 'google::protobuf::Map<Key, T>::InnerMap::iterator_base<KeyValueType>::iterator_base(const google::protobuf::Map<Key, T>::InnerMap*) [with KeyValueType = google::protobuf::Map<std::__cxx11::basic_string<char>, std::__cxx11::basic_string<char> >::KeyValuePair; Key = std::__cxx11::basic_string<char>; T = std::__cxx11::basic_string<char>]'\r\nexternal/protobuf_archive/src/google/protobuf/map.h:510:28:   required from 'google::protobuf::Map<Key, T>::InnerMap::iterator google::protobuf::Map<Key, T>::InnerMap::begin() [with Key = std::__cxx11::basic_string<char>; T = std::__cxx11::basic_string<char>; google::protobuf::Map<Key, T>::InnerMap::iterator = google::protobuf::Map<std::__cxx11::basic_string<char>, std::__cxx11::basic_string<char> >::InnerMap::iterator_base<google::protobuf::Map<std::__cxx11::basic_string<char>, std::__cxx11::basic_string<char> >::KeyValuePair>]'\r\nexternal/protobuf_archive/src/google/protobuf/map.h:1030:27:   required from 'google::protobuf::Map<Key, T>::iterator google::protobuf::Map<Key, T>::begin() [with Key = std::__cxx11::basic_string<char>; T = std::__cxx11::basic_string<char>]'\r\nexternal/protobuf_archive/src/google/protobuf/map.h:1140:27:   required from 'void google::protobuf::Map<Key, T>::clear() [with Key = std::__cxx11::basic_string<char>; T = std::__cxx11::basic_string<char>]'\r\nexternal/protobuf_archive/src/google/protobuf/map_field_inl.h:178:1:   required from 'void google::protobuf::internal::MapField<Derived, Key, T, key_wire_type, value_wire_type, default_enum_value>::Clear() [with Derived = tensorflow::FunctionDef_RetEntry_DoNotUse; Key = std::__cxx11::basic_string<char>; T = std::__cxx11::basic_string<char>; google::protobuf::internal::WireFormatLite::FieldType kKeyFieldType = (google::protobuf::internal::WireFormatLite::FieldType)9; google::protobuf::internal::WireFormatLite::FieldType kValueFieldType = (google::protobuf::internal::WireFormatLite::FieldType)9; int default_enum_value = 0]'\r\nbazel-out/k8-opt/genfiles/tensorflow/core/framework/function.pb.h:776:14:   required from here\r\nexternal/protobuf_archive/src/google/protobuf/map.h:422:29: error: cannot call member function 'bool google::protobuf::Map<Key, T>::InnerMap::TableEntryIsNonEmptyList(google::protobuf::Map<Key, T>::size_type) const [with Key = std::__cxx11::basic_string<char>; T = std::__cxx11::basic_string<char>; google::protobuf::Map<Key, T>::size_type = long unsigned int]' without object\r\n           if (m_->TableEntryIsNonEmptyList(bucket_index_)) {\r\n           ~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\r\nexternal/protobuf_archive/src/google/protobuf/map.h:425:30: error: cannot call member function 'bool google::protobuf::Map<Key, T>::InnerMap::TableEntryIsTree(google::protobuf::Map<Key, T>::size_type) const [with Key = std::__cxx11::basic_string<char>; T = std::__cxx11::basic_string<char>; google::protobuf::Map<Key, T>::size_type = long unsigned int]' without object\r\n           } else if (m_->TableEntryIsTree(bucket_index_)) {\r\n              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\r\nexternal/protobuf_archive/src/google/protobuf/map.h: In instantiation of 'bool google::protobuf::Map<Key, T>::InnerMap::iterator_base<KeyValueType>::revalidate_if_necessary(google::protobuf::Map<Key, T>::InnerMap::TreeIterator*) [with KeyValueType = google::protobuf::Map<std::__cxx11::basic_string<char>, std::__cxx11::basic_string<char> >::KeyValuePair; Key = std::__cxx11::basic_string<char>; T = std::__cxx11::basic_string<char>; google::protobuf::Map<Key, T>::InnerMap::TreeIterator = std::_Rb_tree_const_iterator<std::__cxx11::basic_string<char>*>]':\r\nexternal/protobuf_archive/src/google/protobuf/map.h:603:12:   required from 'void google::protobuf::Map<Key, T>::InnerMap::erase(google::protobuf::Map<Key, T>::InnerMap::iterator) [with Key = std::__cxx11::basic_string<char>; T = std::__cxx11::basic_string<char>; google::protobuf::Map<Key, T>::InnerMap::iterator = google::protobuf::Map<std::__cxx11::basic_string<char>, std::__cxx11::basic_string<char> >::InnerMap::iterator_base<google::protobuf::Map<std::__cxx11::basic_string<char>, std::__cxx11::basic_string<char> >::KeyValuePair>]'\r\nexternal/protobuf_archive/src/google/protobuf/map.h:1132:1:   required from 'google::protobuf::Map<Key, T>::iterator google::protobuf::Map<Key, T>::erase(google::protobuf::Map<Key, T>::iterator) [with Key = std::__cxx11::basic_string<char>; T = std::__cxx11::basic_string<char>]'\r\nexternal/protobuf_archive/src/google/protobuf/map.h:1137:14:   required from 'void google::protobuf::Map<Key, T>::erase(google::protobuf::Map<Key, T>::iterator, google::protobuf::Map<Key, T>::iterator) [with Key = std::__cxx11::basic_string<char>; T = std::__cxx11::basic_string<char>]'\r\nexternal/protobuf_archive/src/google/protobuf/map.h:1140:21:   required from 'void google::protobuf::Map<Key, T>::clear() [with Key = std::__cxx11::basic_string<char>; T = std::__cxx11::basic_string<char>]'\r\nexternal/protobuf_archive/src/google/protobuf/map_field_inl.h:178:1:   required from 'void google::protobuf::internal::MapField<Derived, Key, T, key_wire_type, value_wire_type, default_enum_value>::Clear() [with Derived = tensorflow::FunctionDef_RetEntry_DoNotUse; Key = std::__cxx11::basic_string<char>; T = std::__cxx11::basic_string<char>; google::protobuf::internal::WireFormatLite::FieldType kKeyFieldType = (google::protobuf::internal::WireFormatLite::FieldType)9; google::protobuf::internal::WireFormatLite::FieldType kValueFieldType = (google::protobuf::internal::WireFormatLite::FieldType)9; int default_enum_value = 0]'\r\nbazel-out/k8-opt/genfiles/tensorflow/core/framework/function.pb.h:776:14:   required from here\r\nexternal/protobuf_archive/src/google/protobuf/map.h:484:29: error: cannot call member function 'bool google::protobuf::Map<Key, T>::InnerMap::TableEntryIsNonEmptyList(google::protobuf::Map<Key, T>::size_type) const [with Key = std::__cxx11::basic_string<char>; T = std::__cxx11::basic_string<char>; google::protobuf::Map<Key, T>::size_type = long unsigned int]' without object\r\n         if (m_->TableEntryIsNonEmptyList(bucket_index_)) {\r\n         ~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\r\nexternal/protobuf_archive/src/google/protobuf/map.h:498:24: error: cannot call member function 'bool google::protobuf::Map<Key, T>::InnerMap::TableEntryIsList(google::protobuf::Map<Key, T>::size_type) const [with Key = std::__cxx11::basic_string<char>; T = std::__cxx11::basic_string<char>; google::protobuf::Map<Key, T>::size_type = long unsigned int]' without object\r\n         return m_->TableEntryIsList(bucket_index_);\r\n         ~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\r\nERROR: /home/wproject/repo/tensorflow/tensorflow/core/kernels/BUILD:3795:1: output 'tensorflow/core/kernels/_objs/topk_op_gpu/topk_op_gpu.cu.pic.o' was not created\r\nERROR: /home/wproject/repo/tensorflow/tensorflow/core/kernels/BUILD:3795:1: not all outputs were created or valid\r\n\r\n", "comments": ["What version of protobuf are you using?\r\n> pip show protobuf\r\n\r\nCan you please switch to protobuf 3.6.0 if its other than that?\r\n", "@ymodak \r\n\r\n3.6.1 of course and this has been worked with CUDA 10.0 and tf 1.13.0\r\nhttps://anaconda.org/anaconda/protobuf", "I'm having this problem too. Same versions for protobuf, tf, cuda, cudnn, gcc, bazel and ubuntu. My python version is 3.7.0 instead of 3.7.2.", "Tried doing pip install protobuf==3.6.0 and building again, but the error is still there. It seems that the files raising the error are cuda kernels.", "Can you try the build with gcc 7.2.0 ? I also observed this issue in gcc 7.3.0 and not 7.2.0.", "Using gcc 7.2.0 seems to fix this specific problem, but getting that version might be not be very straightforward for Ubuntu 18.04 users. Furthermore, after the problem is fixed you get a linker error that can force you to disable XLA  (#24373).\r\n\r\nConsidering up-to-date Ubuntu 18.04 + CUDA 10.1 is likely to become a popular build environment, perhaps something should be done to avoid both this and #24373?\r\n\r\n\r\nFull details:\r\nI tried looking for a Ubuntu 18.04 package for gcc 7.2.0 but couldn't find any. The earliest I could find were all 7.3 versions. So, in an attempt to get that version while avoiding to screw up my current gcc environment, I gave a try to building the [source code](https://ftp.gnu.org/gnu/gcc/gcc-7.2.0/gcc-7.2.0.tar.gz) directly and making a separate install.\r\n\r\n./configure --disable-multilib\r\nmake -j (num_cpus)\r\nmake DESTDIR=/tmp/gcc_7.2.0 install\r\n\r\nThen I set /tmp/gcc_7.2.0/usr/local/bin/gcc as the gcc compiler to use with nvcc in TensorFlow's configure. With this I was able to compile the CUDA kernels that were failing, but then I hit the linker error of #24373 at the very end of the build. After disabling XLA I was able to get a working build.", "@leandro-gracia-gil , thank you for confirming you saw the same issue as me and my co-worker. When I first saw this the only thing that had changed in my environment was cuDNN 7.5. My co-worker opened a bug against NVIDIA for this problem. That bug is not publicly viewable, but last I knew NVIDIA has not commented on it yet. If the problem is in cuDNN, I would hope NVIDIA provides a fix for it.\r\n", "@wdirons I'm not that sure that this problem is on the NVIDIA side. It could also be a gcc or a protobuf issue, considering it fails depending on the gcc version and on protobuf headers. I also tried using clang to build the CUDA kernels, but hit other problems.", "To me this looks to be a protobuf bug. Could you file an issue on protobuf repository too, and link this issue?\r\nThey may have a better idea about what we are running into.", "@gunan \r\nI did", "I fixed a similar problem by using gcc 6. You can follow the instructions here (https://askubuntu.com/questions/26498/how-to-choose-the-default-gcc-and-g-version), so it shouldn't be too hard to try on ubuntu 18.04.", "@rongou maybe it's not too hard, but I don't think it is a good idea to downgrade which is even below the system-default version", "I'm not saying it's a long term solution, just a temporary workaround.", "i have the same problem as well. Using python 3.6.7. For some reason, the compiler thinks m_ InnerMap is  called by a non object. But protobuf compiles fine by itself, just not the protobuf_archive together with the tensorflow bazel build system.  ", "This is a known bug in CUDA 10.1 (together with gcc 7.3+). You can either downgrade to CUDA 10.0 or gcc 6/7.2, whichever is easier.", "Hello, \r\ni have the same problem and given the current setup and dependencies I cannot downgrade neither of both softwares. \r\nDoes anyone have another suggestion?\r\n", "Another option is to patch the protobuf code to derefence the pointer first:\r\n```cpp\r\nif ((*m_).TableEntryIsNonEmptyList(bucket_index)) {\r\n```\r\nlike what we did [here](https://github.com/dmlc/xgboost/pull/4223#issuecomment-470476672), but if you can't change your CUDA/gcc versions, I'm not sure if this is easier. :)", "Thanks to @rongou for inspiring a temporary workaround. The actual steps involved were quite a bit more work to figure out. First I tried patching and installing the latest protobuf 3.7.0. Turns out Tensorflow does not use the protobuf package installed on the system - instead, it downloads its own protobuf from a URL listed in the tensorflow source code under `tensorflow/workspace.bzl`.\r\n\r\nSteps:\r\n- Download protobuf source listed in `tensorflow/workspace.bzl` (current value is https://mirror.bazel.build/github.com/protocolbuffers/protobuf/archive/v3.6.1.2.tar.gz)\r\n- Untar the protobuf source and patch `src/google/protobuf/map.h as follows`:\r\n\r\n```diff\r\n--- map.h.orig\t2019-03-25 19:47:03.000000000 -0700\r\n+++ map.h\t2019-03-25 19:50:24.000000000 -0700\r\n@@ -419,10 +419,10 @@\r\n         node_ = NULL;\r\n         for (bucket_index_ = start_bucket; bucket_index_ < m_->num_buckets_;\r\n              bucket_index_++) {\r\n-          if (m_->TableEntryIsNonEmptyList(bucket_index_)) {\r\n+          if ((*m_).TableEntryIsNonEmptyList(bucket_index_)) {\r\n             node_ = static_cast<Node*>(m_->table_[bucket_index_]);\r\n             break;\r\n-          } else if (m_->TableEntryIsTree(bucket_index_)) {\r\n+          } else if ((*m_).TableEntryIsTree(bucket_index_)) {\r\n             Tree* tree = static_cast<Tree*>(m_->table_[bucket_index_]);\r\n             GOOGLE_DCHECK(!tree->empty());\r\n             node_ = NodePtrFromKeyPtr(*tree->begin());\r\n@@ -481,7 +481,7 @@\r\n           return true;\r\n         // Less common: the bucket is a linked list with node_ somewhere in it,\r\n         // but not at the head.\r\n-        if (m_->TableEntryIsNonEmptyList(bucket_index_)) {\r\n+        if ((*m_).TableEntryIsNonEmptyList(bucket_index_)) {\r\n           Node* l = static_cast<Node*>(m_->table_[bucket_index_]);\r\n           while ((l = l->next) != NULL) {\r\n             if (l == node_) {\r\n@@ -495,7 +495,7 @@\r\n         // find-like method that compares Node* instead of const Key&.\r\n         iterator_base i(m_->find(*KeyPtrFromNodePtr(node_), it));\r\n         bucket_index_ = i.bucket_index_;\r\n-        return m_->TableEntryIsList(bucket_index_);\r\n+        return (*m_).TableEntryIsList(bucket_index_);\r\n       }\r\n \r\n       Node* node_;\r\n```\r\n- Re-tar the protobuf source to a name such as v3.6.1.2_patched.tar.gz\r\n- Place the patched protobuf source on an https server you control\r\n- Back to the Tensorflow source, modify `tensorflow/workspace.bzl` to point to your own server and patched protobuf source. Modify both protobuf URL's and the sha256 value as appropriate for your patched source:\r\n\r\n```\r\nPROTOBUF_URLS = [\r\n        \"https://myserver.something/software/linux/development/protobuf/v3.6.1.2_patched.tar.gz\",\r\n        \"https://myserver.something/software/linux/development/protobuf/v3.6.1.2_patched.tar.gz\",\r\n    ]\r\n    PROTOBUF_SHA256 = \"11111222233333value-for-your-patched-source-tarball\"\r\n```\r\n\r\nBefore restarting the Tensorflow build, you may need to do a `bazel clean` and a `bazel shutdown`. To be extra sure old stuff won't be left around, also consider cleaning ~/.cache/bazel where all the bazel cached downloads (such as the protobuf source) are stored.", "This was not easy but it was better than having to downgrade CUDA or gcc, neither of which are easy to do either:\r\n- Tried to use CUDA 10.0 but its installer failed because it doesn't support gcc 8\r\n- Trying to downgrade the OS-shipped gcc 8.3 to something else causes many other issues\r\n- Building and installing an additional gcc 7 in a location such as /opt/gcc works but requires passing a bunch of compile flags as env variables when building various software packages that use CUDA libraries (tensorflow, caffe2, etc). Otherwise the CUDA 10.0(<) stuff will still use the default gcc8 and crap out.", "@edrozenberg , you should be able to simplify the above steps by just adding a patch file to the existing protobuf entry in workspace.bzl. \r\n\r\nSee this example:\r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/workspace.bzl#L612", "@wdirons thanks! Sounds like a good way to go once I figure out where to put the patch file for it to be found. bazel/tensorflow leave a lot of things as exercises for the reader (\"just read the source code to figure it out\") :sweat_smile:", "@edrozenberg, here is how:\r\n```\r\ngit clone -b v3.6.1.2 https://github.com/protocolbuffers/protobuf\r\ncd protobuf/\r\nvi src/google/protobuf/map.h\r\ngit diff > 26155.patch\r\n```\r\nand copy the file to third_party/protobuf\r\n\r\nI'm wondering if your patch should be submitted a PR to resolve this issue ?\r\n", "All that is needed is the following:\r\n```patch\r\n# protobuf_temp_fix_cuda10.1_apply.patch\r\ndiff --git a/tensorflow/workspace.bzl b/tensorflow/workspace.bzl\r\nindex dff151246a..d3fe95ec04 100755\r\n--- a/tensorflow/workspace.bzl\r\n+++ b/tensorflow/workspace.bzl\r\n@@ -349,11 +349,11 @@ def tf_workspace(path_prefix = \"\", tf_repo_name = \"\"):\r\n     )\r\n \r\n     PROTOBUF_URLS = [\r\n-        \"https://mirror.bazel.build/github.com/protocolbuffers/protobuf/archive/v3.6.1.2.tar.gz\",\r\n-        \"https://github.com/protocolbuffers/protobuf/archive/v3.6.1.2.tar.gz\",\r\n+        \"https://mirror.bazel.build/github.com/protocolbuffers/protobuf/archive/v3.6.1.3.tar.gz\",\r\n+        \"https://github.com/protocolbuffers/protobuf/archive/v3.6.1.3.tar.gz\",\r\n     ]\r\n-    PROTOBUF_SHA256 = \"2244b0308846bb22b4ff0bcc675e99290ff9f1115553ae9671eba1030af31bc0\"\r\n-    PROTOBUF_STRIP_PREFIX = \"protobuf-3.6.1.2\"\r\n+    PROTOBUF_SHA256 = \"73fdad358857e120fd0fa19e071a96e15c0f23bb25f85d3f7009abfd4f264a2a\"\r\n+    PROTOBUF_STRIP_PREFIX = \"protobuf-3.6.1.3\"\r\n \r\n     tf_http_archive(\r\n         name = \"protobuf_archive\",\r\n@@ -364,6 +364,7 @@ def tf_workspace(path_prefix = \"\", tf_repo_name = \"\"):\r\n             \"//third_party/systemlibs:protobuf.bzl\": \"protobuf.bzl\",\r\n         },\r\n         urls = PROTOBUF_URLS,\r\n+        patch_file = clean_dep(\"//third_party:protobuf_temp_fix_cuda10.1.patch\"),\r\n     )\r\n \r\n     # We need to import the protobuf library under the names com_google_protobuf\r\n@@ -378,6 +379,7 @@ def tf_workspace(path_prefix = \"\", tf_repo_name = \"\"):\r\n             \"//third_party/systemlibs:protobuf.bzl\": \"protobuf.bzl\",\r\n         },\r\n         urls = PROTOBUF_URLS,\r\n+        patch_file = clean_dep(\"//third_party:protobuf_temp_fix_cuda10.1.patch\"),\r\n     )\r\n \r\n     tf_http_archive(\r\n@@ -389,6 +391,7 @@ def tf_workspace(path_prefix = \"\", tf_repo_name = \"\"):\r\n             \"//third_party/systemlibs:protobuf.bzl\": \"protobuf.bzl\",\r\n         },\r\n         urls = PROTOBUF_URLS,\r\n+        patch_file = clean_dep(\"//third_party:protobuf_temp_fix_cuda10.1.patch\"),\r\n     )\r\n \r\n     tf_http_archive(\r\n```\r\n```patch\r\n# protobuf_temp_fix_cuda10.1.patch\r\ndiff --git a/src/google/protobuf/map.h b/src/google/protobuf/map.h\r\nindex 40f35e92..1af91f9c 100644\r\n--- a/src/google/protobuf/map.h\r\n+++ b/src/google/protobuf/map.h\r\n@@ -425,10 +425,10 @@ class Map {\r\n         node_ = NULL;\r\n         for (bucket_index_ = start_bucket; bucket_index_ < m_->num_buckets_;\r\n              bucket_index_++) {\r\n-          if (m_->TableEntryIsNonEmptyList(bucket_index_)) {\r\n+          if ((*m_).TableEntryIsNonEmptyList(bucket_index_)) {\r\n             node_ = static_cast<Node*>(m_->table_[bucket_index_]);\r\n             break;\r\n-          } else if (m_->TableEntryIsTree(bucket_index_)) {\r\n+          } else if ((*m_).TableEntryIsTree(bucket_index_)) {\r\n             Tree* tree = static_cast<Tree*>(m_->table_[bucket_index_]);\r\n             GOOGLE_DCHECK(!tree->empty());\r\n             node_ = NodePtrFromKeyPtr(*tree->begin());\r\n@@ -487,7 +487,7 @@ class Map {\r\n           return true;\r\n         // Less common: the bucket is a linked list with node_ somewhere in it,\r\n         // but not at the head.\r\n-        if (m_->TableEntryIsNonEmptyList(bucket_index_)) {\r\n+        if ((*m_).TableEntryIsNonEmptyList(bucket_index_)) {\r\n           Node* l = static_cast<Node*>(m_->table_[bucket_index_]);\r\n           while ((l = l->next) != NULL) {\r\n             if (l == node_) {\r\n@@ -501,7 +501,7 @@ class Map {\r\n         // find-like method that compares Node* instead of const Key&.\r\n         iterator_base i(m_->find(*KeyPtrFromNodePtr(node_), it));\r\n         bucket_index_ = i.bucket_index_;\r\n-        return m_->TableEntryIsList(bucket_index_);\r\n+        return (*m_).TableEntryIsList(bucket_index_);\r\n       }\r\n \r\n       Node* node_;\r\n```\r\n```bash\r\n$ patch -d tensorflow-1.13.1 -Np1 -i protobuf_temp_fix_cuda10.1_apply.patch\r\n$ cp protobuf_temp_fix_cuda10.1.patch tensorflow-1.13.1/third_party/\r\n$ cd tensorflow-1.13.1\r\n$ bazel build ...\r\n```\r\nTo upgrade to `protobuf 3.7.x` one needs a bigger change to build environment as `skylib` build options have significantly changed.", "@kgizdov Thanks for your excellent step-by-step guide! I will try it soon. Having done the builds already the hard way, it will be nice to do them again the easy way.", "I can confirm successful build with this workaround for GCC 7.4.1, with and without CUDA 10.1.", "Also, builds fine with GCC 8.2.1, with and without CUDA 10.1", "Isn't m_->func equivalent to (*m).func ? Or did some standard change somewhere?", "> Isn't m_->func equivalent to (*m).func ? Or did some standard change somewhere?\r\n\r\nIt is, but nvcc doesn't think so.", "All builds fine here as well, cuda 10.1 and GCC7.3.0 on aarch64. Thank you for your help!", "@kgizdov just tried the work around. It seems that the link \"https://mirror.bazel.build/github.com/protocolbuffers/protobuf/archive/v3.6.1.3.tar.gz\" isn't working?", "@objectiveinteraction it's not equivalent under the hood:\r\n```\r\nclass A {\r\n  int const foo(int b) {return b;}\r\n  int const bar(int b) {c+=b; return c;}\r\n  // foo, bar have hidden parameter 'this', the class instance\r\nprivate:\r\n  int c{1};\r\n}\r\nA *a = nullptr;\r\nint b{2};\r\na->foo(b);    // == A::foo( a, b) == return 2;\r\n(*a).foo(b);  // == A::foo(*a, b) == undefined behavior\r\na->bar(b);    // == type(*nullptr)::foo(a, b) == *this.c+b == seg fault\r\n/// this is simplified of course, but explains the difference\r\n```\r\nThe root problem seems to be somewhere in CUDA the vtable is malformed (probably broken inheritance) and that lead to GCC not being able to find `A::foo()`. So we need to derefence `*a` to find the function and call it. That invites undefined behaviour in some cases, but is the only working patch at the moment. I am, however, seeing a lot of warnings from CUDA that tensorflow/protobuf includes internal CUDA headers instead of `cuda.h` and that could be it, in terms of broken inheritance.\r\n\r\n@cya410 if you applied the whole patch, then bazel will automatically use the GitHub link when the other is unavailable. You may be suffering from bad connection to GitHub or something. It's a known issue and @svenstaro has a year-long standing issue to allow tensorflow/bazel to link to locally installed libraries, but no one from the devs seems to be working on it. Until then, all builds depend on stable network connection.", "Strange, looking through map.h, it seemed like m was an innermap that would've have been just a pointer. I was expecting it to be eventually pointing to an valid innermap, which was why i never considered (*m).func to be a possibility. Compiling protobuf by itself didn't generate any issues. So i'd assumed the problem was with the linking step of tensorflow and cuda.  Great find and explanation @kgizdov \r\nbazel itself is very noisy on the network. Unless it does certificate pinning, i was also thinking of caching the dependencies and pointing the dns to a local source, but changing the urls and having newer shasums should work better. ", "This problem with the nvcc compiler should be fixed with the nvidia gpu driver version 418.67", "This problem is not tied to the gpu driver. It's the cuda compiler version. Should be fixed if you are on 10.1.168.\r\n```shell\r\n$ nvcc --version\r\nnvcc: NVIDIA (R) Cuda compiler driver\r\nCopyright (c) 2005-2019 NVIDIA Corporation\r\nBuilt on Wed_Apr_24_19:10:27_PDT_2019\r\nCuda compilation tools, release 10.1, V10.1.168\r\n```", "yeap, as @rongou  said, this has been fixed, closing", "Does anyone have the same issue with Mac system? I run into the same problem when using Mac, and don't know how to solve this. I know it is the tensorflow (1.13.1) and protobuf (3.8) problems. But how to fix it in Mac system? "]}, {"number": 26154, "title": "Update normalization.py - fixed tf.layer.batch_normalization deprecate note", "body": "tf.layer.batch_normalization referenced incorrect keras.layer.BatchNormalization function.", "comments": ["\nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed (or fixed any issues), please reply here (e.g. `I signed it!`) and we'll verify it.\n\n----\n\n#### What to do if you already signed the CLA\n\n##### Individual signers\n\n*   It's possible we don't have your GitHub username or you're using a different email address on your commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n\n##### Corporate signers\n\n*   Your company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to [go/cla#troubleshoot](http://go/cla#troubleshoot) ([Public version](https://opensource.google.com/docs/cla/#troubleshoot)).\n*   The email used to register you as an authorized contributor must be the email used for the Git commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n*   The email used to register you as an authorized contributor must also be [attached to your GitHub account](https://github.com/settings/emails).\n\t\t\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F26154) for more info**.\n\n<!-- need_sender_cla -->", "I signed it!", "CLAs look good, thanks!\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F26154) for more info**.\n\n<!-- ok -->", "Thank you for catching this"]}, {"number": 26153, "title": "ERROR: /home/luwei/ML/tensorflow/tensorflow-master/tensorflow/cc/BUILD:460:1: undeclared inclusion(s) in rule '//tensorflow/cc:math_ops_internal':", "body": "@jmhodges @ry @eggie5 @bmabey @djones \r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):Linux Ubuntu 16.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:no\r\n- TensorFlow installed from (source or binary):source\r\n- TensorFlow version:source code\r\n- Python version:3.5.2\r\n- Installed using virtualenv? pip? conda?:bazel build  //tensorflow:libtensorflow_cc.so\r\n- Bazel version (if compiling from source):0.19.0\r\n- GCC/Compiler version (if compiling from source):5.4.0\r\n- CUDA/cuDNN version:no\r\n- GPU model and memory:no\r\n\r\n\r\n\r\n**Describe the problem**\r\n i tried all kind of suggestion,the error which as below all the time! \r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\n  bazel build  //tensorflow:libtensorflow_cc.so\r\n\r\n**Any other info / logs**\r\n\r\nERROR: /home/luwei/ML/tensorflow/tensorflow-master/tensorflow/cc/BUILD:460:1: undeclared inclusion(s) in rule '//tensorflow/cc:math_ops_internal':\r\nthis rule is missing dependency declarations for the following files included by 'tensorflow/cc/ops/math_ops_internal.cc':\r\n  'tensorflow/cc/ops/math_ops_internal.h'\r\nTarget //tensorflow:libtensorflow_cc.so failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 1442.787s, Critical Path: 205.71s\r\nINFO: 3595 processes: 3595 local.\r\nFAILED: Build did NOT complete successfully\r\n\r\n", "comments": ["@jvishnuvardhan pls do semothing.", "@LuWei6896 It looks like the bug is related to Bazel. Could you mention what is the TF version you had installed? Please check tested build configurations [here](https://www.tensorflow.org/install/source#linux). Please uninstall python and tensorflow and reinstall using the instruction mentioned [here](https://github.com/rnreich/ubuntu-tensorflow-gpu-all-versions). Please let me know how it progresses. Thanks!", "@jvishnuvardhan \r\n1. tensorflow: source code r1.11(versions)\r\n\r\n1. i specific the configurations:\r\n\r\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3\r\nPlease input the desired Python library path to use. Default is [/usr/lib/python3/dist-packages]\r\nDo you wish to build TensorFlow with jemalloc as malloc support? [Y/n]: n\r\nDo you wish to build TensorFlow with Google Cloud Platform support? [Y/n]: n\r\nDo you wish to build TensorFlow with Hadoop File System support? [Y/n]: n\r\nDo you wish to build TensorFlow with Amazon S3 File System support? [Y/n]: n\r\nDo you wish to build TensorFlow with XLA JIT support? [y/N]: N\r\nDo you wish to build TensorFlow with GDR support? [y/N]: N\r\nDo you wish to build TensorFlow with VERBS support? [y/N]: N\r\nDo you wish to build TensorFlow with OpenCL SYCL support? [y/N]: N\r\nDo you wish to build TensorFlow with CUDA support? [y/N]: N\r\nDo you wish to build TensorFlow with MPI support? [y/N]: N\r\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:\r\nthere is both good news and bad news today,i compiled tensorflow how:bazel build //tensorflow:libtensorflow_cc.so,and  **which output: libtensorflow_cc.so  libtensorflow_framework.so**.**But some new error has arisen  as below: g++ -std=c++11 -I./include -I./include/external/nsync/public -L./lib test.cc -ltensorflow_cc -ltensorflow_framework -o test**\r\n\r\n \r\n./include/tensorflow/core/framework/tensor.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/framework/tensor.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/framework/tensor.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/framework/tensor.pb.h:33:0,\r\n                 from ./include/tensorflow/core/framework/variant.h:26,\r\n                 from ./include/tensorflow/core/framework/allocator.h:26,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/resource_handle.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/framework/resource_handle.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/framework/resource_handle.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/framework/tensor.pb.h:34:0,\r\n                 from ./include/tensorflow/core/framework/variant.h:26,\r\n                 from ./include/tensorflow/core/framework/allocator.h:26,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/tensor_shape.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/framework/tensor_shape.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/framework/tensor_shape.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/framework/tensor.pb.h:35:0,\r\n                 from ./include/tensorflow/core/framework/variant.h:26,\r\n                 from ./include/tensorflow/core/framework/allocator.h:26,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/types.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/framework/types.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/framework/types.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/lib/core/status.h:23:0,\r\n                 from ./include/tensorflow/core/framework/variant.h:29,\r\n                 from ./include/tensorflow/core/framework/allocator.h:26,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/lib/core/error_codes.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/lib/core/error_codes.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/lib/core/error_codes.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/framework/function.h:20:0,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/attr_value.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/framework/attr_value.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/framework/attr_value.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/framework/function.h:22:0,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/function.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/framework/function.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/framework/function.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/framework/function.pb.h:37:0,\r\n                 from ./include/tensorflow/core/framework/function.h:22,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/node_def.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/framework/node_def.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/framework/node_def.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/framework/function.pb.h:38:0,\r\n                 from ./include/tensorflow/core/framework/function.h:22,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/op_def.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/framework/op_def.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/framework/op_def.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/framework/op_def_util.h:23:0,\r\n                 from ./include/tensorflow/core/framework/op.h:24,\r\n                 from ./include/tensorflow/core/framework/function.h:24,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/api_def.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/framework/api_def.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/framework/api_def.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/public/session_options.h:21:0,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/config.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/protobuf/config.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/protobuf/config.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:37:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:38:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/graph.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/framework/graph.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/framework/graph.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/framework/graph.pb.h:35:0,\r\n                 from ./include/tensorflow/core/protobuf/config.pb.h:38,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/versions.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/framework/versions.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/framework/versions.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:39:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/step_stats.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/framework/step_stats.pb.h:33:0,\r\n                 from ./include/tensorflow/core/protobuf/config.pb.h:39,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/allocation_description.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/framework/allocation_description.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/framework/allocation_description.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/framework/step_stats.pb.h:34:0,\r\n                 from ./include/tensorflow/core/protobuf/config.pb.h:39,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/tensor_description.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/framework/tensor_description.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/framework/tensor_description.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:40:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/debug.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/protobuf/debug.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/protobuf/debug.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:41:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/cluster.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/protobuf/cluster.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/protobuf/cluster.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:42:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from ./include/tensorflow/core/framework/tensor.pb.h:33:0,\r\n                 from ./include/tensorflow/core/framework/variant.h:26,\r\n                 from ./include/tensorflow/core/framework/allocator.h:26,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/resource_handle.pb.h:271:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/resource_handle.pb.h: In member function \u2018virtual tensorflow::ResourceHandleProto* tensorflow::ResourceHandleProto::New() const\u2019:\r\n./include/tensorflow/core/framework/resource_handle.pb.h:114:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ResourceHandleProto>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/resource_handle.pb.h:114:50: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ResourceHandleProto>(NULL);\r\n                                                  ^\r\n./include/tensorflow/core/framework/resource_handle.pb.h: In member function \u2018virtual tensorflow::ResourceHandleProto* tensorflow::ResourceHandleProto::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/resource_handle.pb.h:118:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ResourceHandleProto>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/resource_handle.pb.h:118:50: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ResourceHandleProto>(arena);\r\n                                                  ^\r\n./include/tensorflow/core/framework/resource_handle.pb.h: In member function \u2018virtual int tensorflow::ResourceHandleProto::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/resource_handle.pb.h:134:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\nIn file included from ./include/tensorflow/core/framework/tensor.pb.h:34:0,\r\n                 from ./include/tensorflow/core/framework/variant.h:26,\r\n                 from ./include/tensorflow/core/framework/allocator.h:26,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/tensor_shape.pb.h: At global scope:\r\n./include/tensorflow/core/framework/tensor_shape.pb.h:203:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/tensor_shape.pb.h: In member function \u2018virtual tensorflow::TensorShapeProto_Dim* tensorflow::TensorShapeProto_Dim::New() const\u2019:\r\n./include/tensorflow/core/framework/tensor_shape.pb.h:118:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<TensorShapeProto_Dim>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/tensor_shape.pb.h:118:51: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<TensorShapeProto_Dim>(NULL);\r\n                                                   ^\r\n./include/tensorflow/core/framework/tensor_shape.pb.h: In member function \u2018virtual tensorflow::TensorShapeProto_Dim* tensorflow::TensorShapeProto_Dim::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/tensor_shape.pb.h:122:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<TensorShapeProto_Dim>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/tensor_shape.pb.h:122:51: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<TensorShapeProto_Dim>(arena);\r\n                                                   ^\r\n./include/tensorflow/core/framework/tensor_shape.pb.h: In member function \u2018virtual int tensorflow::TensorShapeProto_Dim::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/tensor_shape.pb.h:138:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/tensor_shape.pb.h: At global scope:\r\n./include/tensorflow/core/framework/tensor_shape.pb.h:336:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/tensor_shape.pb.h: In member function \u2018virtual tensorflow::TensorShapeProto* tensorflow::TensorShapeProto::New() const\u2019:\r\n./include/tensorflow/core/framework/tensor_shape.pb.h:260:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<TensorShapeProto>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/tensor_shape.pb.h:260:47: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<TensorShapeProto>(NULL);\r\n                                               ^\r\n./include/tensorflow/core/framework/tensor_shape.pb.h: In member function \u2018virtual tensorflow::TensorShapeProto* tensorflow::TensorShapeProto::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/tensor_shape.pb.h:264:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<TensorShapeProto>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/tensor_shape.pb.h:264:47: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<TensorShapeProto>(arena);\r\n                                               ^\r\n./include/tensorflow/core/framework/tensor_shape.pb.h: In member function \u2018virtual int tensorflow::TensorShapeProto::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/tensor_shape.pb.h:280:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\nIn file included from ./include/tensorflow/core/framework/variant.h:26:0,\r\n                 from ./include/tensorflow/core/framework/allocator.h:26,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/tensor.pb.h: At global scope:\r\n./include/tensorflow/core/framework/tensor.pb.h:418:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/tensor.pb.h: In member function \u2018virtual tensorflow::TensorProto* tensorflow::TensorProto::New() const\u2019:\r\n./include/tensorflow/core/framework/tensor.pb.h:121:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<TensorProto>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/tensor.pb.h:121:42: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<TensorProto>(NULL);\r\n                                          ^\r\n./include/tensorflow/core/framework/tensor.pb.h: In member function \u2018virtual tensorflow::TensorProto* tensorflow::TensorProto::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/tensor.pb.h:125:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<TensorProto>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/tensor.pb.h:125:42: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<TensorProto>(arena);\r\n                                          ^\r\n./include/tensorflow/core/framework/tensor.pb.h: In member function \u2018virtual int tensorflow::TensorProto::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/tensor.pb.h:141:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/tensor.pb.h: At global scope:\r\n./include/tensorflow/core/framework/tensor.pb.h:590:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/tensor.pb.h: In member function \u2018virtual tensorflow::VariantTensorDataProto* tensorflow::VariantTensorDataProto::New() const\u2019:\r\n./include/tensorflow/core/framework/tensor.pb.h:475:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<VariantTensorDataProto>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/tensor.pb.h:475:53: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<VariantTensorDataProto>(NULL);\r\n                                                     ^\r\n./include/tensorflow/core/framework/tensor.pb.h: In member function \u2018virtual tensorflow::VariantTensorDataProto* tensorflow::VariantTensorDataProto::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/tensor.pb.h:479:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<VariantTensorDataProto>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/tensor.pb.h:479:53: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<VariantTensorDataProto>(arena);\r\n                                                     ^\r\n./include/tensorflow/core/framework/tensor.pb.h: In member function \u2018virtual int tensorflow::VariantTensorDataProto::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/tensor.pb.h:495:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/tensor.pb.h: In member function \u2018tensorflow::TensorShapeProto* tensorflow::TensorProto::release_tensor_shape()\u2019:\r\n./include/tensorflow/core/framework/tensor.pb.h:636:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::TensorShapeProto*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/framework/variant.h:26:0,\r\n                 from ./include/tensorflow/core/framework/allocator.h:26,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/tensor.pb.h:636:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/framework/tensor.pb.h: In member function \u2018tensorflow::TensorShapeProto* tensorflow::TensorProto::mutable_tensor_shape()\u2019:\r\n./include/tensorflow/core/framework/tensor.pb.h:651:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::TensorShapeProto>(GetArenaNoVirt\r\n               ^\r\n./include/tensorflow/core/framework/tensor.pb.h:651:64: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::TensorShapeProto>(GetArenaNoVirt\r\n                                                                ^\r\nIn file included from ./include/tensorflow/core/framework/function.h:20:0,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/attr_value.pb.h: At global scope:\r\n./include/tensorflow/core/framework/attr_value.pb.h:302:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: In member function \u2018virtual tensorflow::AttrValue_ListValue* tensorflow::AttrValue_ListValue::New() const\u2019:\r\n./include/tensorflow/core/framework/attr_value.pb.h:132:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<AttrValue_ListValue>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/attr_value.pb.h:132:50: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<AttrValue_ListValue>(NULL);\r\n                                                  ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: In member function \u2018virtual tensorflow::AttrValue_ListValue* tensorflow::AttrValue_ListValue::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/attr_value.pb.h:136:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<AttrValue_ListValue>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/attr_value.pb.h:136:50: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<AttrValue_ListValue>(arena);\r\n                                                  ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: In member function \u2018virtual int tensorflow::AttrValue_ListValue::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/attr_value.pb.h:152:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: At global scope:\r\n./include/tensorflow/core/framework/attr_value.pb.h:605:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: In member function \u2018virtual tensorflow::AttrValue* tensorflow::AttrValue::New() const\u2019:\r\n./include/tensorflow/core/framework/attr_value.pb.h:373:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<AttrValue>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/attr_value.pb.h:373:40: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<AttrValue>(NULL);\r\n                                        ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: In member function \u2018virtual tensorflow::AttrValue* tensorflow::AttrValue::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/attr_value.pb.h:377:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<AttrValue>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/attr_value.pb.h:377:40: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<AttrValue>(arena);\r\n                                        ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: In member function \u2018virtual int tensorflow::AttrValue::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/attr_value.pb.h:393:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: At global scope:\r\n./include/tensorflow/core/framework/attr_value.pb.h:779:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: In member function \u2018virtual tensorflow::NameAttrList* tensorflow::NameAttrList::New() const\u2019:\r\n./include/tensorflow/core/framework/attr_value.pb.h:685:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<NameAttrList>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/attr_value.pb.h:685:43: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<NameAttrList>(NULL);\r\n                                           ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: In member function \u2018virtual tensorflow::NameAttrList* tensorflow::NameAttrList::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/attr_value.pb.h:689:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<NameAttrList>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/attr_value.pb.h:689:43: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<NameAttrList>(arena);\r\n                                           ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: In member function \u2018virtual int tensorflow::NameAttrList::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/attr_value.pb.h:705:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: In member function \u2018tensorflow::TensorShapeProto* tensorflow::AttrValue::release_shape()\u2019:\r\n./include/tensorflow/core/framework/attr_value.pb.h:1326:67: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::TensorShapeProto*&)\u2019\r\n       temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                   ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/framework/function.h:20:0,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/attr_value.pb.h:1326:67: note:   candidate expects 2 arguments, 1 provided\r\n       temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                   ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: In member function \u2018tensorflow::TensorShapeProto* tensorflow::AttrValue::mutable_shape()\u2019:\r\n./include/tensorflow/core/framework/attr_value.pb.h:1363:21: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     value_.shape_ = CreateMaybeMessage< ::tensorflow::TensorShapeProto >(\r\n                     ^\r\n./include/tensorflow/core/framework/attr_value.pb.h:1363:72: error: expected primary-expression before \u2018>\u2019 token\r\n     value_.shape_ = CreateMaybeMessage< ::tensorflow::TensorShapeProto >(\r\n                                                                        ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: In member function \u2018tensorflow::TensorProto* tensorflow::AttrValue::release_tensor()\u2019:\r\n./include/tensorflow/core/framework/attr_value.pb.h:1386:67: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::TensorProto*&)\u2019\r\n       temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                   ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/framework/function.h:20:0,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/attr_value.pb.h:1386:67: note:   candidate expects 2 arguments, 1 provided\r\n       temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                   ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: In member function \u2018tensorflow::TensorProto* tensorflow::AttrValue::mutable_tensor()\u2019:\r\n./include/tensorflow/core/framework/attr_value.pb.h:1423:22: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     value_.tensor_ = CreateMaybeMessage< ::tensorflow::TensorProto >(\r\n                      ^\r\n./include/tensorflow/core/framework/attr_value.pb.h:1423:68: error: expected primary-expression before \u2018>\u2019 token\r\n     value_.tensor_ = CreateMaybeMessage< ::tensorflow::TensorProto >(\r\n                                                                    ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: In member function \u2018tensorflow::AttrValue_ListValue* tensorflow::AttrValue::release_list()\u2019:\r\n./include/tensorflow/core/framework/attr_value.pb.h:1454:67: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::AttrValue_ListValue*&)\u2019\r\n       temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                   ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/framework/function.h:20:0,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/attr_value.pb.h:1454:67: note:   candidate expects 2 arguments, 1 provided\r\n       temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                   ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: In member function \u2018tensorflow::AttrValue_ListValue* tensorflow::AttrValue::mutable_list()\u2019:\r\n./include/tensorflow/core/framework/attr_value.pb.h:1491:20: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     value_.list_ = CreateMaybeMessage< ::tensorflow::AttrValue_ListValue >(\r\n                    ^\r\n./include/tensorflow/core/framework/attr_value.pb.h:1491:74: error: expected primary-expression before \u2018>\u2019 token\r\n     value_.list_ = CreateMaybeMessage< ::tensorflow::AttrValue_ListValue >(\r\n                                                                          ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: In member function \u2018tensorflow::NameAttrList* tensorflow::AttrValue::release_func()\u2019:\r\n./include/tensorflow/core/framework/attr_value.pb.h:1522:67: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::NameAttrList*&)\u2019\r\n       temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                   ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/framework/function.h:20:0,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/attr_value.pb.h:1522:67: note:   candidate expects 2 arguments, 1 provided\r\n       temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                   ^\r\n./include/tensorflow/core/framework/attr_value.pb.h: In member function \u2018tensorflow::NameAttrList* tensorflow::AttrValue::mutable_func()\u2019:\r\n./include/tensorflow/core/framework/attr_value.pb.h:1559:20: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     value_.func_ = CreateMaybeMessage< ::tensorflow::NameAttrList >(\r\n                    ^\r\n./include/tensorflow/core/framework/attr_value.pb.h:1559:67: error: expected primary-expression before \u2018>\u2019 token\r\n     value_.func_ = CreateMaybeMessage< ::tensorflow::NameAttrList >(\r\n                                                                   ^\r\nIn file included from ./include/tensorflow/core/framework/function.pb.h:37:0,\r\n                 from ./include/tensorflow/core/framework/function.h:22,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/node_def.pb.h: At global scope:\r\n./include/tensorflow/core/framework/node_def.pb.h:308:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/node_def.pb.h: In member function \u2018virtual tensorflow::NodeDef* tensorflow::NodeDef::New() const\u2019:\r\n./include/tensorflow/core/framework/node_def.pb.h:143:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<NodeDef>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/node_def.pb.h:143:38: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<NodeDef>(NULL);\r\n                                      ^\r\n./include/tensorflow/core/framework/node_def.pb.h: In member function \u2018virtual tensorflow::NodeDef* tensorflow::NodeDef::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/node_def.pb.h:147:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<NodeDef>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/node_def.pb.h:147:38: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<NodeDef>(arena);\r\n                                      ^\r\n./include/tensorflow/core/framework/node_def.pb.h: In member function \u2018virtual int tensorflow::NodeDef::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/node_def.pb.h:163:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\nIn file included from ./include/tensorflow/core/framework/function.pb.h:38:0,\r\n                 from ./include/tensorflow/core/framework/function.h:22,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/op_def.pb.h: At global scope:\r\n./include/tensorflow/core/framework/op_def.pb.h:320:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018virtual tensorflow::OpDef_ArgDef* tensorflow::OpDef_ArgDef::New() const\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:132:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<OpDef_ArgDef>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/op_def.pb.h:132:43: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<OpDef_ArgDef>(NULL);\r\n                                           ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018virtual tensorflow::OpDef_ArgDef* tensorflow::OpDef_ArgDef::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:136:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<OpDef_ArgDef>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/op_def.pb.h:136:43: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<OpDef_ArgDef>(arena);\r\n                                           ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018virtual int tensorflow::OpDef_ArgDef::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:152:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/op_def.pb.h: At global scope:\r\n./include/tensorflow/core/framework/op_def.pb.h:549:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018virtual tensorflow::OpDef_AttrDef* tensorflow::OpDef_AttrDef::New() const\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:377:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<OpDef_AttrDef>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/op_def.pb.h:377:44: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<OpDef_AttrDef>(NULL);\r\n                                            ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018virtual tensorflow::OpDef_AttrDef* tensorflow::OpDef_AttrDef::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:381:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<OpDef_AttrDef>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/op_def.pb.h:381:44: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<OpDef_AttrDef>(arena);\r\n                                            ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018virtual int tensorflow::OpDef_AttrDef::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:397:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/op_def.pb.h: At global scope:\r\n./include/tensorflow/core/framework/op_def.pb.h:818:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018virtual tensorflow::OpDef* tensorflow::OpDef::New() const\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:606:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<OpDef>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/op_def.pb.h:606:36: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<OpDef>(NULL);\r\n                                    ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018virtual tensorflow::OpDef* tensorflow::OpDef::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:610:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<OpDef>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/op_def.pb.h:610:36: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<OpDef>(arena);\r\n                                    ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018virtual int tensorflow::OpDef::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:626:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/op_def.pb.h: At global scope:\r\n./include/tensorflow/core/framework/op_def.pb.h:960:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018virtual tensorflow::OpDeprecation* tensorflow::OpDeprecation::New() const\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:875:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<OpDeprecation>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/op_def.pb.h:875:44: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<OpDeprecation>(NULL);\r\n                                            ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018virtual tensorflow::OpDeprecation* tensorflow::OpDeprecation::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:879:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<OpDeprecation>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/op_def.pb.h:879:44: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<OpDeprecation>(arena);\r\n                                            ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018virtual int tensorflow::OpDeprecation::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:895:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/op_def.pb.h: At global scope:\r\n./include/tensorflow/core/framework/op_def.pb.h:1084:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018virtual tensorflow::OpList* tensorflow::OpList::New() const\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:1017:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<OpList>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/op_def.pb.h:1017:37: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<OpList>(NULL);\r\n                                     ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018virtual tensorflow::OpList* tensorflow::OpList::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:1021:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<OpList>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/op_def.pb.h:1021:37: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<OpList>(arena);\r\n                                     ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018virtual int tensorflow::OpList::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:1037:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018tensorflow::AttrValue* tensorflow::OpDef_AttrDef::release_default_value()\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:1673:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::AttrValue*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/framework/function.pb.h:38:0,\r\n                 from ./include/tensorflow/core/framework/function.h:22,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/op_def.pb.h:1673:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018tensorflow::AttrValue* tensorflow::OpDef_AttrDef::mutable_default_value()\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:1688:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::AttrValue>(GetArenaNoVirtual());\r\n               ^\r\n./include/tensorflow/core/framework/op_def.pb.h:1688:57: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::AttrValue>(GetArenaNoVirtual());\r\n                                                         ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018tensorflow::AttrValue* tensorflow::OpDef_AttrDef::release_allowed_values()\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:1835:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::AttrValue*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/framework/function.pb.h:38:0,\r\n                 from ./include/tensorflow/core/framework/function.h:22,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/op_def.pb.h:1835:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018tensorflow::AttrValue* tensorflow::OpDef_AttrDef::mutable_allowed_values()\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:1850:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::AttrValue>(GetArenaNoVirtual());\r\n               ^\r\n./include/tensorflow/core/framework/op_def.pb.h:1850:57: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::AttrValue>(GetArenaNoVirtual());\r\n                                                         ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018tensorflow::OpDeprecation* tensorflow::OpDef::release_deprecation()\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:2069:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::OpDeprecation*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/framework/function.pb.h:38:0,\r\n                 from ./include/tensorflow/core/framework/function.h:22,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/op_def.pb.h:2069:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/framework/op_def.pb.h: In member function \u2018tensorflow::OpDeprecation* tensorflow::OpDef::mutable_deprecation()\u2019:\r\n./include/tensorflow/core/framework/op_def.pb.h:2084:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::OpDeprecation>(GetArenaNoVirtual\r\n               ^\r\n./include/tensorflow/core/framework/op_def.pb.h:2084:61: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::OpDeprecation>(GetArenaNoVirtual\r\n                                                             ^\r\nIn file included from ./include/tensorflow/core/framework/function.h:22:0,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/function.pb.h: At global scope:\r\n./include/tensorflow/core/framework/function.pb.h:216:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/function.pb.h: In member function \u2018virtual tensorflow::FunctionDefLibrary* tensorflow::FunctionDefLibrary::New() const\u2019:\r\n./include/tensorflow/core/framework/function.pb.h:136:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<FunctionDefLibrary>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/function.pb.h:136:49: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<FunctionDefLibrary>(NULL);\r\n                                                 ^\r\n./include/tensorflow/core/framework/function.pb.h: In member function \u2018virtual tensorflow::FunctionDefLibrary* tensorflow::FunctionDefLibrary::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/function.pb.h:140:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<FunctionDefLibrary>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/function.pb.h:140:49: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<FunctionDefLibrary>(arena);\r\n                                                 ^\r\n./include/tensorflow/core/framework/function.pb.h: In member function \u2018virtual int tensorflow::FunctionDefLibrary::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/function.pb.h:156:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/function.pb.h: At global scope:\r\n./include/tensorflow/core/framework/function.pb.h:429:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/function.pb.h: In member function \u2018virtual tensorflow::FunctionDef* tensorflow::FunctionDef::New() const\u2019:\r\n./include/tensorflow/core/framework/function.pb.h:315:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<FunctionDef>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/function.pb.h:315:42: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<FunctionDef>(NULL);\r\n                                          ^\r\n./include/tensorflow/core/framework/function.pb.h: In member function \u2018virtual tensorflow::FunctionDef* tensorflow::FunctionDef::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/function.pb.h:319:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<FunctionDef>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/function.pb.h:319:42: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<FunctionDef>(arena);\r\n                                          ^\r\n./include/tensorflow/core/framework/function.pb.h: In member function \u2018virtual int tensorflow::FunctionDef::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/function.pb.h:335:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/function.pb.h: At global scope:\r\n./include/tensorflow/core/framework/function.pb.h:588:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/function.pb.h: In member function \u2018virtual tensorflow::GradientDef* tensorflow::GradientDef::New() const\u2019:\r\n./include/tensorflow/core/framework/function.pb.h:486:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<GradientDef>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/function.pb.h:486:42: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<GradientDef>(NULL);\r\n                                          ^\r\n./include/tensorflow/core/framework/function.pb.h: In member function \u2018virtual tensorflow::GradientDef* tensorflow::GradientDef::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/function.pb.h:490:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<GradientDef>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/function.pb.h:490:42: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<GradientDef>(arena);\r\n                                          ^\r\n./include/tensorflow/core/framework/function.pb.h: In member function \u2018virtual int tensorflow::GradientDef::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/function.pb.h:506:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/function.pb.h: In member function \u2018tensorflow::OpDef* tensorflow::FunctionDef::release_signature()\u2019:\r\n./include/tensorflow/core/framework/function.pb.h:688:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::OpDef*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/framework/function.h:22:0,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/function.pb.h:688:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/framework/function.pb.h: In member function \u2018tensorflow::OpDef* tensorflow::FunctionDef::mutable_signature()\u2019:\r\n./include/tensorflow/core/framework/function.pb.h:703:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::OpDef>(GetArenaNoVirtual());\r\n               ^\r\n./include/tensorflow/core/framework/function.pb.h:703:53: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::OpDef>(GetArenaNoVirtual());\r\n                                                     ^\r\nIn file included from ./include/tensorflow/core/framework/op_def_util.h:23:0,\r\n                 from ./include/tensorflow/core/framework/op.h:24,\r\n                 from ./include/tensorflow/core/framework/function.h:24,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/api_def.pb.h: At global scope:\r\n./include/tensorflow/core/framework/api_def.pb.h:240:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/api_def.pb.h: In member function \u2018virtual tensorflow::ApiDef_Endpoint* tensorflow::ApiDef_Endpoint::New() const\u2019:\r\n./include/tensorflow/core/framework/api_def.pb.h:155:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ApiDef_Endpoint>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/api_def.pb.h:155:46: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ApiDef_Endpoint>(NULL);\r\n                                              ^\r\n./include/tensorflow/core/framework/api_def.pb.h: In member function \u2018virtual tensorflow::ApiDef_Endpoint* tensorflow::ApiDef_Endpoint::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/api_def.pb.h:159:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ApiDef_Endpoint>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/api_def.pb.h:159:46: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ApiDef_Endpoint>(arena);\r\n                                              ^\r\n./include/tensorflow/core/framework/api_def.pb.h: In member function \u2018virtual int tensorflow::ApiDef_Endpoint::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/api_def.pb.h:175:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/api_def.pb.h: At global scope:\r\n./include/tensorflow/core/framework/api_def.pb.h:423:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/api_def.pb.h: In member function \u2018virtual tensorflow::ApiDef_Arg* tensorflow::ApiDef_Arg::New() const\u2019:\r\n./include/tensorflow/core/framework/api_def.pb.h:297:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ApiDef_Arg>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/api_def.pb.h:297:41: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ApiDef_Arg>(NULL);\r\n                                         ^\r\n./include/tensorflow/core/framework/api_def.pb.h: In member function \u2018virtual tensorflow::ApiDef_Arg* tensorflow::ApiDef_Arg::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/api_def.pb.h:301:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ApiDef_Arg>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/api_def.pb.h:301:41: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ApiDef_Arg>(arena);\r\n                                         ^\r\n./include/tensorflow/core/framework/api_def.pb.h: In member function \u2018virtual int tensorflow::ApiDef_Arg::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/api_def.pb.h:317:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/api_def.pb.h: At global scope:\r\n./include/tensorflow/core/framework/api_def.pb.h:622:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/api_def.pb.h: In member function \u2018virtual tensorflow::ApiDef_Attr* tensorflow::ApiDef_Attr::New() const\u2019:\r\n./include/tensorflow/core/framework/api_def.pb.h:480:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ApiDef_Attr>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/api_def.pb.h:480:42: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ApiDef_Attr>(NULL);\r\n                                          ^\r\n./include/tensorflow/core/framework/api_def.pb.h: In member function \u2018virtual tensorflow::ApiDef_Attr* tensorflow::ApiDef_Attr::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/api_def.pb.h:484:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ApiDef_Attr>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/api_def.pb.h:484:42: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ApiDef_Attr>(arena);\r\n                                          ^\r\n./include/tensorflow/core/framework/api_def.pb.h: In member function \u2018virtual int tensorflow::ApiDef_Attr::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/api_def.pb.h:500:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/api_def.pb.h: At global scope:\r\n./include/tensorflow/core/framework/api_def.pb.h:993:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/api_def.pb.h: In member function \u2018virtual tensorflow::ApiDef* tensorflow::ApiDef::New() const\u2019:\r\n./include/tensorflow/core/framework/api_def.pb.h:679:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ApiDef>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/api_def.pb.h:679:37: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ApiDef>(NULL);\r\n                                     ^\r\n./include/tensorflow/core/framework/api_def.pb.h: In member function \u2018virtual tensorflow::ApiDef* tensorflow::ApiDef::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/api_def.pb.h:683:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ApiDef>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/api_def.pb.h:683:37: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ApiDef>(arena);\r\n                                     ^\r\n./include/tensorflow/core/framework/api_def.pb.h: In member function \u2018virtual int tensorflow::ApiDef::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/api_def.pb.h:699:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/api_def.pb.h: At global scope:\r\n./include/tensorflow/core/framework/api_def.pb.h:1117:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/api_def.pb.h: In member function \u2018virtual tensorflow::ApiDefs* tensorflow::ApiDefs::New() const\u2019:\r\n./include/tensorflow/core/framework/api_def.pb.h:1050:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ApiDefs>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/api_def.pb.h:1050:38: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ApiDefs>(NULL);\r\n                                      ^\r\n./include/tensorflow/core/framework/api_def.pb.h: In member function \u2018virtual tensorflow::ApiDefs* tensorflow::ApiDefs::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/api_def.pb.h:1054:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ApiDefs>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/api_def.pb.h:1054:38: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ApiDefs>(arena);\r\n                                      ^\r\n./include/tensorflow/core/framework/api_def.pb.h: In member function \u2018virtual int tensorflow::ApiDefs::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/api_def.pb.h:1070:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/api_def.pb.h: In member function \u2018tensorflow::AttrValue* tensorflow::ApiDef_Attr::release_default_value()\u2019:\r\n./include/tensorflow/core/framework/api_def.pb.h:1621:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::AttrValue*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/framework/op_def_util.h:23:0,\r\n                 from ./include/tensorflow/core/framework/op.h:24,\r\n                 from ./include/tensorflow/core/framework/function.h:24,\r\n                 from ./include/tensorflow/core/graph/graph.h:43,\r\n                 from ./include/tensorflow/cc/framework/ops.h:23,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/api_def.pb.h:1621:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/framework/api_def.pb.h: In member function \u2018tensorflow::AttrValue* tensorflow::ApiDef_Attr::mutable_default_value()\u2019:\r\n./include/tensorflow/core/framework/api_def.pb.h:1636:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::AttrValue>(GetArenaNoVirtual());\r\n               ^\r\n./include/tensorflow/core/framework/api_def.pb.h:1636:57: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::AttrValue>(GetArenaNoVirtual());\r\n                                                         ^\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:37:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/cost_graph.pb.h: At global scope:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:196:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h: In member function \u2018virtual tensorflow::CostGraphDef_Node_InputInfo* tensorflow::CostGraphDef_Node_InputInfo::New() const\u2019:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:128:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<CostGraphDef_Node_InputInfo>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h:128:58: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<CostGraphDef_Node_InputInfo>(NULL);\r\n                                                          ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h: In member function \u2018virtual tensorflow::CostGraphDef_Node_InputInfo* tensorflow::CostGraphDef_Node_InputInfo::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:132:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<CostGraphDef_Node_InputInfo>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h:132:58: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<CostGraphDef_Node_InputInfo>(arena);\r\n                                                          ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h: In member function \u2018virtual int tensorflow::CostGraphDef_Node_InputInfo::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:148:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h: At global scope:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:344:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h: In member function \u2018virtual tensorflow::CostGraphDef_Node_OutputInfo* tensorflow::CostGraphDef_Node_OutputInfo::New() const\u2019:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:253:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<CostGraphDef_Node_OutputInfo>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h:253:59: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<CostGraphDef_Node_OutputInfo>(NULL);\r\n                                                           ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h: In member function \u2018virtual tensorflow::CostGraphDef_Node_OutputInfo* tensorflow::CostGraphDef_Node_OutputInfo::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:257:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<CostGraphDef_Node_OutputInfo>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h:257:59: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<CostGraphDef_Node_OutputInfo>(arena);\r\n                                                           ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h: In member function \u2018virtual int tensorflow::CostGraphDef_Node_OutputInfo::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:273:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h: At global scope:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:623:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h: In member function \u2018virtual tensorflow::CostGraphDef_Node* tensorflow::CostGraphDef_Node::New() const\u2019:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:401:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<CostGraphDef_Node>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h:401:48: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<CostGraphDef_Node>(NULL);\r\n                                                ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h: In member function \u2018virtual tensorflow::CostGraphDef_Node* tensorflow::CostGraphDef_Node::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:405:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<CostGraphDef_Node>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h:405:48: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<CostGraphDef_Node>(arena);\r\n                                                ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h: In member function \u2018virtual int tensorflow::CostGraphDef_Node::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:421:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h: At global scope:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:749:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h: In member function \u2018virtual tensorflow::CostGraphDef* tensorflow::CostGraphDef::New() const\u2019:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:680:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<CostGraphDef>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h:680:43: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<CostGraphDef>(NULL);\r\n                                           ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h: In member function \u2018virtual tensorflow::CostGraphDef* tensorflow::CostGraphDef::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:684:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<CostGraphDef>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h:684:43: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<CostGraphDef>(arena);\r\n                                           ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h: In member function \u2018virtual int tensorflow::CostGraphDef::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:700:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h: In member function \u2018tensorflow::TensorShapeProto* tensorflow::CostGraphDef_Node_OutputInfo::release_shape()\u2019:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:841:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::TensorShapeProto*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:37:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:841:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h: In member function \u2018tensorflow::TensorShapeProto* tensorflow::CostGraphDef_Node_OutputInfo::mutable_shape()\u2019:\r\n./include/tensorflow/core/framework/cost_graph.pb.h:856:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::TensorShapeProto>(GetArenaNoVirt\r\n               ^\r\n./include/tensorflow/core/framework/cost_graph.pb.h:856:64: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::TensorShapeProto>(GetArenaNoVirt\r\n                                                                ^\r\nIn file included from ./include/tensorflow/core/framework/graph.pb.h:35:0,\r\n                 from ./include/tensorflow/core/protobuf/config.pb.h:38,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/versions.pb.h: At global scope:\r\n./include/tensorflow/core/framework/versions.pb.h:196:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/versions.pb.h: In member function \u2018virtual tensorflow::VersionDef* tensorflow::VersionDef::New() const\u2019:\r\n./include/tensorflow/core/framework/versions.pb.h:114:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<VersionDef>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/versions.pb.h:114:41: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<VersionDef>(NULL);\r\n                                         ^\r\n./include/tensorflow/core/framework/versions.pb.h: In member function \u2018virtual tensorflow::VersionDef* tensorflow::VersionDef::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/versions.pb.h:118:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<VersionDef>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/versions.pb.h:118:41: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<VersionDef>(arena);\r\n                                         ^\r\n./include/tensorflow/core/framework/versions.pb.h: In member function \u2018virtual int tensorflow::VersionDef::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/versions.pb.h:134:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:38:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/graph.pb.h: At global scope:\r\n./include/tensorflow/core/framework/graph.pb.h:223:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/graph.pb.h: In member function \u2018virtual tensorflow::GraphDef* tensorflow::GraphDef::New() const\u2019:\r\n./include/tensorflow/core/framework/graph.pb.h:117:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<GraphDef>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/graph.pb.h:117:39: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<GraphDef>(NULL);\r\n                                       ^\r\n./include/tensorflow/core/framework/graph.pb.h: In member function \u2018virtual tensorflow::GraphDef* tensorflow::GraphDef::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/graph.pb.h:121:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<GraphDef>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/graph.pb.h:121:39: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<GraphDef>(arena);\r\n                                       ^\r\n./include/tensorflow/core/framework/graph.pb.h: In member function \u2018virtual int tensorflow::GraphDef::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/graph.pb.h:137:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/graph.pb.h: In member function \u2018tensorflow::VersionDef* tensorflow::GraphDef::release_versions()\u2019:\r\n./include/tensorflow/core/framework/graph.pb.h:282:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::VersionDef*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:38:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/graph.pb.h:282:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/framework/graph.pb.h: In member function \u2018tensorflow::VersionDef* tensorflow::GraphDef::mutable_versions()\u2019:\r\n./include/tensorflow/core/framework/graph.pb.h:297:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::VersionDef>(GetArenaNoVirtual())\r\n               ^\r\n./include/tensorflow/core/framework/graph.pb.h:297:58: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::VersionDef>(GetArenaNoVirtual())\r\n                                                          ^\r\n./include/tensorflow/core/framework/graph.pb.h: In member function \u2018tensorflow::FunctionDefLibrary* tensorflow::GraphDef::release_library()\u2019:\r\n./include/tensorflow/core/framework/graph.pb.h:355:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::FunctionDefLibrary*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:38:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/graph.pb.h:355:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/framework/graph.pb.h: In member function \u2018tensorflow::FunctionDefLibrary* tensorflow::GraphDef::mutable_library()\u2019:\r\n./include/tensorflow/core/framework/graph.pb.h:370:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::FunctionDefLibrary>(GetArenaNoVi\r\n               ^\r\n./include/tensorflow/core/framework/graph.pb.h:370:66: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::FunctionDefLibrary>(GetArenaNoVi\r\n                                                                  ^\r\nIn file included from ./include/tensorflow/core/framework/step_stats.pb.h:33:0,\r\n                 from ./include/tensorflow/core/protobuf/config.pb.h:39,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/allocation_description.pb.h: At global scope:\r\n./include/tensorflow/core/framework/allocation_description.pb.h:227:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/allocation_description.pb.h: In member function \u2018virtual tensorflow::AllocationDescription* tensorflow::AllocationDescription::New() const\u2019:\r\n./include/tensorflow/core/framework/allocation_description.pb.h:114:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<AllocationDescription>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/allocation_description.pb.h:114:52: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<AllocationDescription>(NULL);\r\n                                                    ^\r\n./include/tensorflow/core/framework/allocation_description.pb.h: In member function \u2018virtual tensorflow::AllocationDescription* tensorflow::AllocationDescription::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/allocation_description.pb.h:118:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<AllocationDescription>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/allocation_description.pb.h:118:52: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<AllocationDescription>(arena);\r\n                                                    ^\r\n./include/tensorflow/core/framework/allocation_description.pb.h: In member function \u2018virtual int tensorflow::AllocationDescription::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/allocation_description.pb.h:134:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\nIn file included from ./include/tensorflow/core/framework/step_stats.pb.h:34:0,\r\n                 from ./include/tensorflow/core/protobuf/config.pb.h:39,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/tensor_description.pb.h: At global scope:\r\n./include/tensorflow/core/framework/tensor_description.pb.h:210:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/tensor_description.pb.h: In member function \u2018virtual tensorflow::TensorDescription* tensorflow::TensorDescription::New() const\u2019:\r\n./include/tensorflow/core/framework/tensor_description.pb.h:117:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<TensorDescription>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/tensor_description.pb.h:117:48: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<TensorDescription>(NULL);\r\n                                                ^\r\n./include/tensorflow/core/framework/tensor_description.pb.h: In member function \u2018virtual tensorflow::TensorDescription* tensorflow::TensorDescription::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/tensor_description.pb.h:121:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<TensorDescription>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/tensor_description.pb.h:121:48: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<TensorDescription>(arena);\r\n                                                ^\r\n./include/tensorflow/core/framework/tensor_description.pb.h: In member function \u2018virtual int tensorflow::TensorDescription::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/tensor_description.pb.h:137:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/tensor_description.pb.h: In member function \u2018tensorflow::TensorShapeProto* tensorflow::TensorDescription::release_shape()\u2019:\r\n./include/tensorflow/core/framework/tensor_description.pb.h:256:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::TensorShapeProto*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/framework/step_stats.pb.h:34:0,\r\n                 from ./include/tensorflow/core/protobuf/config.pb.h:39,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/tensor_description.pb.h:256:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/framework/tensor_description.pb.h: In member function \u2018tensorflow::TensorShapeProto* tensorflow::TensorDescription::mutable_shape()\u2019:\r\n./include/tensorflow/core/framework/tensor_description.pb.h:271:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::TensorShapeProto>(GetArenaNoVirt\r\n               ^\r\n./include/tensorflow/core/framework/tensor_description.pb.h:271:64: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::TensorShapeProto>(GetArenaNoVirt\r\n                                                                ^\r\n./include/tensorflow/core/framework/tensor_description.pb.h: In member function \u2018tensorflow::AllocationDescription* tensorflow::TensorDescription::release_allocation_description()\u2019:\r\n./include/tensorflow/core/framework/tensor_description.pb.h:315:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::AllocationDescription*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/framework/step_stats.pb.h:34:0,\r\n                 from ./include/tensorflow/core/protobuf/config.pb.h:39,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/tensor_description.pb.h:315:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/framework/tensor_description.pb.h: In member function \u2018tensorflow::AllocationDescription* tensorflow::TensorDescription::mutable_allocation_description()\u2019:\r\n./include/tensorflow/core/framework/tensor_description.pb.h:330:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::AllocationDescription>(GetArenaN\r\n               ^\r\n./include/tensorflow/core/framework/tensor_description.pb.h:330:69: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::AllocationDescription>(GetArenaN\r\n                                                                     ^\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:39:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/step_stats.pb.h: At global scope:\r\n./include/tensorflow/core/framework/step_stats.pb.h:208:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual tensorflow::AllocationRecord* tensorflow::AllocationRecord::New() const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:140:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<AllocationRecord>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:140:47: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<AllocationRecord>(NULL);\r\n                                               ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual tensorflow::AllocationRecord* tensorflow::AllocationRecord::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:144:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<AllocationRecord>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:144:47: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<AllocationRecord>(arena);\r\n                                               ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual int tensorflow::AllocationRecord::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:160:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: At global scope:\r\n./include/tensorflow/core/framework/step_stats.pb.h:384:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual tensorflow::AllocatorMemoryUsed* tensorflow::AllocatorMemoryUsed::New() const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:265:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<AllocatorMemoryUsed>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:265:50: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<AllocatorMemoryUsed>(NULL);\r\n                                                  ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual tensorflow::AllocatorMemoryUsed* tensorflow::AllocatorMemoryUsed::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:269:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<AllocatorMemoryUsed>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:269:50: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<AllocatorMemoryUsed>(arena);\r\n                                                  ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual int tensorflow::AllocatorMemoryUsed::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:285:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: At global scope:\r\n./include/tensorflow/core/framework/step_stats.pb.h:518:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual tensorflow::NodeOutput* tensorflow::NodeOutput::New() const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:441:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<NodeOutput>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:441:41: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<NodeOutput>(NULL);\r\n                                         ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual tensorflow::NodeOutput* tensorflow::NodeOutput::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:445:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<NodeOutput>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:445:41: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<NodeOutput>(arena);\r\n                                         ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual int tensorflow::NodeOutput::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:461:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: At global scope:\r\n./include/tensorflow/core/framework/step_stats.pb.h:685:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual tensorflow::MemoryStats* tensorflow::MemoryStats::New() const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:575:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<MemoryStats>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:575:42: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<MemoryStats>(NULL);\r\n                                          ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual tensorflow::MemoryStats* tensorflow::MemoryStats::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:579:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<MemoryStats>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:579:42: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<MemoryStats>(arena);\r\n                                          ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual int tensorflow::MemoryStats::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:595:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: At global scope:\r\n./include/tensorflow/core/framework/step_stats.pb.h:976:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual tensorflow::NodeExecStats* tensorflow::NodeExecStats::New() const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:742:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<NodeExecStats>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:742:44: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<NodeExecStats>(NULL);\r\n                                            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual tensorflow::NodeExecStats* tensorflow::NodeExecStats::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:746:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<NodeExecStats>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:746:44: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<NodeExecStats>(arena);\r\n                                            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual int tensorflow::NodeExecStats::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:762:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: At global scope:\r\n./include/tensorflow/core/framework/step_stats.pb.h:1124:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual tensorflow::DeviceStepStats* tensorflow::DeviceStepStats::New() const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:1033:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<DeviceStepStats>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:1033:46: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<DeviceStepStats>(NULL);\r\n                                              ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual tensorflow::DeviceStepStats* tensorflow::DeviceStepStats::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:1037:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<DeviceStepStats>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:1037:46: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<DeviceStepStats>(arena);\r\n                                              ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual int tensorflow::DeviceStepStats::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:1053:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: At global scope:\r\n./include/tensorflow/core/framework/step_stats.pb.h:1248:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual tensorflow::StepStats* tensorflow::StepStats::New() const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:1181:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<StepStats>(NULL);\r\n            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:1181:40: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<StepStats>(NULL);\r\n                                        ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual tensorflow::StepStats* tensorflow::StepStats::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:1185:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<StepStats>(arena);\r\n            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:1185:40: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<StepStats>(arena);\r\n                                        ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018virtual int tensorflow::StepStats::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:1201:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018tensorflow::TensorDescription* tensorflow::NodeOutput::release_tensor_description()\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:1491:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::TensorDescription*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:39:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/step_stats.pb.h:1491:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018tensorflow::TensorDescription* tensorflow::NodeOutput::mutable_tensor_description()\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:1506:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::TensorDescription>(GetArenaNoVir\r\n               ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:1506:65: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::TensorDescription>(GetArenaNoVir\r\n                                                                 ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018tensorflow::MemoryStats* tensorflow::NodeExecStats::release_memory_stats()\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:2001:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::MemoryStats*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:39:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/framework/step_stats.pb.h:2001:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/framework/step_stats.pb.h: In member function \u2018tensorflow::MemoryStats* tensorflow::NodeExecStats::mutable_memory_stats()\u2019:\r\n./include/tensorflow/core/framework/step_stats.pb.h:2016:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::MemoryStats>(GetArenaNoVirtual()\r\n               ^\r\n./include/tensorflow/core/framework/step_stats.pb.h:2016:59: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::MemoryStats>(GetArenaNoVirtual()\r\n                                                           ^\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:40:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/debug.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/debug.pb.h:264:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/debug.pb.h: In member function \u2018virtual tensorflow::DebugTensorWatch* tensorflow::DebugTensorWatch::New() const\u2019:\r\n./include/tensorflow/core/protobuf/debug.pb.h:126:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<DebugTensorWatch>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/debug.pb.h:126:47: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<DebugTensorWatch>(NULL);\r\n                                               ^\r\n./include/tensorflow/core/protobuf/debug.pb.h: In member function \u2018virtual tensorflow::DebugTensorWatch* tensorflow::DebugTensorWatch::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/debug.pb.h:130:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<DebugTensorWatch>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/debug.pb.h:130:47: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<DebugTensorWatch>(arena);\r\n                                               ^\r\n./include/tensorflow/core/protobuf/debug.pb.h: In member function \u2018virtual int tensorflow::DebugTensorWatch::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/debug.pb.h:146:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/debug.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/debug.pb.h:402:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/debug.pb.h: In member function \u2018virtual tensorflow::DebugOptions* tensorflow::DebugOptions::New() const\u2019:\r\n./include/tensorflow/core/protobuf/debug.pb.h:321:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<DebugOptions>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/debug.pb.h:321:43: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<DebugOptions>(NULL);\r\n                                           ^\r\n./include/tensorflow/core/protobuf/debug.pb.h: In member function \u2018virtual tensorflow::DebugOptions* tensorflow::DebugOptions::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/debug.pb.h:325:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<DebugOptions>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/debug.pb.h:325:43: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<DebugOptions>(arena);\r\n                                           ^\r\n./include/tensorflow/core/protobuf/debug.pb.h: In member function \u2018virtual int tensorflow::DebugOptions::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/debug.pb.h:341:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/debug.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/debug.pb.h:598:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/debug.pb.h: In member function \u2018virtual tensorflow::DebuggedSourceFile* tensorflow::DebuggedSourceFile::New() const\u2019:\r\n./include/tensorflow/core/protobuf/debug.pb.h:459:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<DebuggedSourceFile>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/debug.pb.h:459:49: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<DebuggedSourceFile>(NULL);\r\n                                                 ^\r\n./include/tensorflow/core/protobuf/debug.pb.h: In member function \u2018virtual tensorflow::DebuggedSourceFile* tensorflow::DebuggedSourceFile::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/debug.pb.h:463:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<DebuggedSourceFile>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/debug.pb.h:463:49: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<DebuggedSourceFile>(arena);\r\n                                                 ^\r\n./include/tensorflow/core/protobuf/debug.pb.h: In member function \u2018virtual int tensorflow::DebuggedSourceFile::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/debug.pb.h:479:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/debug.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/debug.pb.h:722:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/debug.pb.h: In member function \u2018virtual tensorflow::DebuggedSourceFiles* tensorflow::DebuggedSourceFiles::New() const\u2019:\r\n./include/tensorflow/core/protobuf/debug.pb.h:655:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<DebuggedSourceFiles>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/debug.pb.h:655:50: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<DebuggedSourceFiles>(NULL);\r\n                                                  ^\r\n./include/tensorflow/core/protobuf/debug.pb.h: In member function \u2018virtual tensorflow::DebuggedSourceFiles* tensorflow::DebuggedSourceFiles::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/debug.pb.h:659:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<DebuggedSourceFiles>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/debug.pb.h:659:50: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<DebuggedSourceFiles>(arena);\r\n                                                  ^\r\n./include/tensorflow/core/protobuf/debug.pb.h: In member function \u2018virtual int tensorflow::DebuggedSourceFiles::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/debug.pb.h:675:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:41:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/cluster.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/cluster.pb.h:240:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/cluster.pb.h: In member function \u2018virtual tensorflow::JobDef* tensorflow::JobDef::New() const\u2019:\r\n./include/tensorflow/core/protobuf/cluster.pb.h:146:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<JobDef>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/cluster.pb.h:146:37: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<JobDef>(NULL);\r\n                                     ^\r\n./include/tensorflow/core/protobuf/cluster.pb.h: In member function \u2018virtual tensorflow::JobDef* tensorflow::JobDef::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/cluster.pb.h:150:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<JobDef>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/cluster.pb.h:150:37: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<JobDef>(arena);\r\n                                     ^\r\n./include/tensorflow/core/protobuf/cluster.pb.h: In member function \u2018virtual int tensorflow::JobDef::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/cluster.pb.h:166:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/cluster.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/cluster.pb.h:364:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/cluster.pb.h: In member function \u2018virtual tensorflow::ClusterDef* tensorflow::ClusterDef::New() const\u2019:\r\n./include/tensorflow/core/protobuf/cluster.pb.h:297:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ClusterDef>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/cluster.pb.h:297:41: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ClusterDef>(NULL);\r\n                                         ^\r\n./include/tensorflow/core/protobuf/cluster.pb.h: In member function \u2018virtual tensorflow::ClusterDef* tensorflow::ClusterDef::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/cluster.pb.h:301:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ClusterDef>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/cluster.pb.h:301:41: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ClusterDef>(arena);\r\n                                         ^\r\n./include/tensorflow/core/protobuf/cluster.pb.h: In member function \u2018virtual int tensorflow::ClusterDef::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/cluster.pb.h:317:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:42:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:274:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: In member function \u2018virtual tensorflow::AutoParallelOptions* tensorflow::AutoParallelOptions::New() const\u2019:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:206:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<AutoParallelOptions>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:206:50: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<AutoParallelOptions>(NULL);\r\n                                                  ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: In member function \u2018virtual tensorflow::AutoParallelOptions* tensorflow::AutoParallelOptions::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:210:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<AutoParallelOptions>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:210:50: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<AutoParallelOptions>(arena);\r\n                                                  ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: In member function \u2018virtual int tensorflow::AutoParallelOptions::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:226:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:408:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: In member function \u2018virtual tensorflow::ScopedAllocatorOptions* tensorflow::ScopedAllocatorOptions::New() const\u2019:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:331:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ScopedAllocatorOptions>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:331:53: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ScopedAllocatorOptions>(NULL);\r\n                                                     ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: In member function \u2018virtual tensorflow::ScopedAllocatorOptions* tensorflow::ScopedAllocatorOptions::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:335:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ScopedAllocatorOptions>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:335:53: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ScopedAllocatorOptions>(arena);\r\n                                                     ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: In member function \u2018virtual int tensorflow::ScopedAllocatorOptions::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:351:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:42:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:580:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: In member function \u2018virtual tensorflow::RewriterConfig_CustomGraphOptimizer* tensorflow::RewriterConfig_CustomGraphOptimizer::New() const\u2019:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:486:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<RewriterConfig_CustomGraphOptimizer>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:486:66: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<RewriterConfig_CustomGraphOptimizer>(NULL);\r\n                                                                  ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: In member function \u2018virtual tensorflow::RewriterConfig_CustomGraphOptimizer* tensorflow::RewriterConfig_CustomGraphOptimizer::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:490:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<RewriterConfig_CustomGraphOptimizer>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:490:66: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<RewriterConfig_CustomGraphOptimizer>(arena);\r\n                                                                  ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: In member function \u2018virtual int tensorflow::RewriterConfig_CustomGraphOptimizer::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:506:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:977:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: In member function \u2018virtual tensorflow::RewriterConfig* tensorflow::RewriterConfig::New() const\u2019:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:637:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<RewriterConfig>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:637:45: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<RewriterConfig>(NULL);\r\n                                             ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: In member function \u2018virtual tensorflow::RewriterConfig* tensorflow::RewriterConfig::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:641:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<RewriterConfig>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:641:45: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<RewriterConfig>(arena);\r\n                                             ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: In member function \u2018virtual int tensorflow::RewriterConfig::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:657:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: In member function \u2018tensorflow::AutoParallelOptions* tensorflow::RewriterConfig::release_auto_parallel()\u2019:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:1487:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::AutoParallelOptions*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:42:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:1487:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: In member function \u2018tensorflow::AutoParallelOptions* tensorflow::RewriterConfig::mutable_auto_parallel()\u2019:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:1502:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::AutoParallelOptions>(GetArenaNoV\r\n               ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:1502:67: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::AutoParallelOptions>(GetArenaNoV\r\n                                                                   ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: In member function \u2018tensorflow::ScopedAllocatorOptions* tensorflow::RewriterConfig::release_scoped_allocator_opts()\u2019:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:1552:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::ScopedAllocatorOptions*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/protobuf/config.pb.h:42:0,\r\n                 from ./include/tensorflow/core/public/session_options.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:1552:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h: In member function \u2018tensorflow::ScopedAllocatorOptions* tensorflow::RewriterConfig::mutable_scoped_allocator_opts()\u2019:\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:1567:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::ScopedAllocatorOptions>(GetArena\r\n               ^\r\n./include/tensorflow/core/protobuf/rewriter_config.pb.h:1567:70: error: expected primary-expression before \u2018>\u2019 token\r\n    auto* p = CreateMaybeMessage<::tensorflow::ScopedAllocatorOptions>(GetArenaN\r\n                                                                     ^\r\nIn file included from ./include/tensorflow/core/public/session_options.h:21:0,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/config.pb.h:323:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::GPUOptions_Experimental_VirtualDevices* tensorflow::GPUOptions_Experimental_VirtualDevices::New() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:255:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<GPUOptions_Experimental_VirtualDevices>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:255:69: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<GPUOptions_Experimental_VirtualDevices>(NULL);\r\n                                                                     ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::GPUOptions_Experimental_VirtualDevices* tensorflow::GPUOptions_Experimental_VirtualDevices::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:259:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<GPUOptions_Experimental_VirtualDevices>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:259:69: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<GPUOptions_Experimental_VirtualDevices>(arena);\r\n                                                                     ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual int tensorflow::GPUOptions_Experimental_VirtualDevices::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:275:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/config.pb.h:463:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::GPUOptions_Experimental* tensorflow::GPUOptions_Experimental::New() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:380:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<GPUOptions_Experimental>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:380:54: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<GPUOptions_Experimental>(NULL);\r\n                                                      ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::GPUOptions_Experimental* tensorflow::GPUOptions_Experimental::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:384:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<GPUOptions_Experimental>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:384:54: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<GPUOptions_Experimental>(arena);\r\n                                                      ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual int tensorflow::GPUOptions_Experimental::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:400:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/config.pb.h:682:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::GPUOptions* tensorflow::GPUOptions::New() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:520:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<GPUOptions>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:520:41: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<GPUOptions>(NULL);\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::GPUOptions* tensorflow::GPUOptions::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:524:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<GPUOptions>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:524:41: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<GPUOptions>(arena);\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual int tensorflow::GPUOptions::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:540:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/config.pb.h:891:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::OptimizerOptions* tensorflow::OptimizerOptions::New() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:739:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<OptimizerOptions>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:739:47: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<OptimizerOptions>(NULL);\r\n                                               ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::OptimizerOptions* tensorflow::OptimizerOptions::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:743:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<OptimizerOptions>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:743:47: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<OptimizerOptions>(arena);\r\n                                               ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual int tensorflow::OptimizerOptions::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:759:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/config.pb.h:1083:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::GraphOptions* tensorflow::GraphOptions::New() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:948:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<GraphOptions>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:948:43: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<GraphOptions>(NULL);\r\n                                           ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::GraphOptions* tensorflow::GraphOptions::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:952:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<GraphOptions>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:952:43: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<GraphOptions>(arena);\r\n                                           ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual int tensorflow::GraphOptions::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:968:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/config.pb.h:1225:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::ThreadPoolOptionProto* tensorflow::ThreadPoolOptionProto::New() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:1140:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ThreadPoolOptionProto>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:1140:52: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ThreadPoolOptionProto>(NULL);\r\n                                                    ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::ThreadPoolOptionProto* tensorflow::ThreadPoolOptionProto::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:1144:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ThreadPoolOptionProto>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:1144:52: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ThreadPoolOptionProto>(arena);\r\n                                                    ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual int tensorflow::ThreadPoolOptionProto::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:1160:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/config.pb.h:1343:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::RPCOptions* tensorflow::RPCOptions::New() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:1282:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<RPCOptions>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:1282:41: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<RPCOptions>(NULL);\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::RPCOptions* tensorflow::RPCOptions::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:1286:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<RPCOptions>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:1286:41: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<RPCOptions>(arena);\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual int tensorflow::RPCOptions::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:1302:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/config.pb.h:1530:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::ConfigProto_Experimental* tensorflow::ConfigProto_Experimental::New() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:1421:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ConfigProto_Experimental>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:1421:55: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ConfigProto_Experimental>(NULL);\r\n                                                       ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::ConfigProto_Experimental* tensorflow::ConfigProto_Experimental::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:1425:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ConfigProto_Experimental>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:1425:55: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ConfigProto_Experimental>(arena);\r\n                                                       ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual int tensorflow::ConfigProto_Experimental::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:1441:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/config.pb.h:1830:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::ConfigProto* tensorflow::ConfigProto::New() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:1587:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ConfigProto>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:1587:42: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ConfigProto>(NULL);\r\n                                          ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::ConfigProto* tensorflow::ConfigProto::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:1591:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<ConfigProto>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:1591:42: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<ConfigProto>(arena);\r\n                                          ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual int tensorflow::ConfigProto::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:1607:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/config.pb.h:1948:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::RunOptions_Experimental* tensorflow::RunOptions_Experimental::New() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:1887:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<RunOptions_Experimental>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:1887:54: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<RunOptions_Experimental>(NULL);\r\n                                                      ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::RunOptions_Experimental* tensorflow::RunOptions_Experimental::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:1891:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<RunOptions_Experimental>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:1891:54: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<RunOptions_Experimental>(arena);\r\n                                                      ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual int tensorflow::RunOptions_Experimental::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:1907:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/config.pb.h:2158:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::RunOptions* tensorflow::RunOptions::New() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:2005:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<RunOptions>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:2005:41: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<RunOptions>(NULL);\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::RunOptions* tensorflow::RunOptions::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:2009:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<RunOptions>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:2009:41: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<RunOptions>(arena);\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual int tensorflow::RunOptions::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:2025:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/config.pb.h:2314:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::RunMetadata* tensorflow::RunMetadata::New() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:2215:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<RunMetadata>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:2215:42: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<RunMetadata>(NULL);\r\n                                          ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::RunMetadata* tensorflow::RunMetadata::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:2219:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<RunMetadata>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:2219:42: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<RunMetadata>(arena);\r\n                                          ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual int tensorflow::RunMetadata::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:2235:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/config.pb.h:2473:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::TensorConnection* tensorflow::TensorConnection::New() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:2371:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<TensorConnection>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:2371:47: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<TensorConnection>(NULL);\r\n                                               ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::TensorConnection* tensorflow::TensorConnection::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:2375:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<TensorConnection>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:2375:47: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<TensorConnection>(arena);\r\n                                               ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual int tensorflow::TensorConnection::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:2391:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/config.pb.h: At global scope:\r\n./include/tensorflow/core/protobuf/config.pb.h:2762:41: error: \u2018CachedSize\u2019 in namespace \u2018google::protobuf::internal\u2019 does not name a type\r\n   mutable ::google::protobuf::internal::CachedSize _cached_size_;\r\n                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::CallableOptions* tensorflow::CallableOptions::New() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:2572:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<CallableOptions>(NULL);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:2572:46: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<CallableOptions>(NULL);\r\n                                              ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual tensorflow::CallableOptions* tensorflow::CallableOptions::New(google::protobuf::Arena*) const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:2576:12: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     return CreateMaybeMessage<CallableOptions>(arena);\r\n            ^\r\n./include/tensorflow/core/protobuf/config.pb.h:2576:46: error: expected primary-expression before \u2018>\u2019 token\r\n     return CreateMaybeMessage<CallableOptions>(arena);\r\n                                              ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018virtual int tensorflow::CallableOptions::GetCachedSize() const\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:2592:44: error: \u2018_cached_size_\u2019 was not declared in this scope\r\n   int GetCachedSize() const final { return _cached_size_.Get(); }\r\n                                            ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::GPUOptions_Experimental* tensorflow::GPUOptions::release_experimental()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:3130:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::GPUOptions_Experimental*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/public/session_options.h:21:0,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/config.pb.h:3130:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::GPUOptions_Experimental* tensorflow::GPUOptions::mutable_experimental()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:3145:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::GPUOptions_Experimental>(GetAren\r\n               ^\r\n./include/tensorflow/core/protobuf/config.pb.h:3145:71: error: expected primary-expression before \u2018>\u2019 token\r\n   auto* p = CreateMaybeMessage<::tensorflow::GPUOptions_Experimental>(GetArenaN\r\n                                                                     ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::OptimizerOptions* tensorflow::GraphOptions::release_optimizer_options()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:3301:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::OptimizerOptions*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/public/session_options.h:21:0,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/config.pb.h:3301:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::OptimizerOptions* tensorflow::GraphOptions::mutable_optimizer_options()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:3316:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::OptimizerOptions>(GetArenaNoVirt\r\n               ^\r\n./include/tensorflow/core/protobuf/config.pb.h:3316:64: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::OptimizerOptions>(GetArenaNoVirt\r\n                                                                ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::RewriterConfig* tensorflow::GraphOptions::release_rewrite_options()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:3444:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::RewriterConfig*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/public/session_options.h:21:0,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/config.pb.h:3444:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::RewriterConfig* tensorflow::GraphOptions::mutable_rewrite_options()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:3459:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::RewriterConfig>(GetArenaNoVirtua\r\n               ^\r\n./include/tensorflow/core/protobuf/config.pb.h:3459:62: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::RewriterConfig>(GetArenaNoVirtua\r\n                                                              ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::GPUOptions* tensorflow::ConfigProto::release_gpu_options()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:3967:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::GPUOptions*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/public/session_options.h:21:0,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/config.pb.h:3967:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::GPUOptions* tensorflow::ConfigProto::mutable_gpu_options()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:3982:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::GPUOptions>(GetArenaNoVirtual())\r\n               ^\r\n./include/tensorflow/core/protobuf/config.pb.h:3982:58: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::GPUOptions>(GetArenaNoVirtual())\r\n                                                          ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::GraphOptions* tensorflow::ConfigProto::release_graph_options()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:4060:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::GraphOptions*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/public/session_options.h:21:0,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/config.pb.h:4060:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::GraphOptions* tensorflow::ConfigProto::mutable_graph_options()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:4075:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::GraphOptions>(GetArenaNoVirtual(\r\n               ^\r\n./include/tensorflow/core/protobuf/config.pb.h:4075:60: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::GraphOptions>(GetArenaNoVirtual(\r\n                                                            ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::RPCOptions* tensorflow::ConfigProto::release_rpc_options()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:4139:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::RPCOptions*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/public/session_options.h:21:0,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/config.pb.h:4139:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::RPCOptions* tensorflow::ConfigProto::mutable_rpc_options()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:4154:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::RPCOptions>(GetArenaNoVirtual())\r\n               ^\r\n./include/tensorflow/core/protobuf/config.pb.h:4154:58: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::RPCOptions>(GetArenaNoVirtual())\r\n                                                          ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::ClusterDef* tensorflow::ConfigProto::release_cluster_def()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:4198:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::ClusterDef*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/public/session_options.h:21:0,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/config.pb.h:4198:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::ClusterDef* tensorflow::ConfigProto::mutable_cluster_def()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:4213:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::ClusterDef>(GetArenaNoVirtual())\r\n               ^\r\n./include/tensorflow/core/protobuf/config.pb.h:4213:58: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::ClusterDef>(GetArenaNoVirtual())\r\n                                                          ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::ConfigProto_Experimental* tensorflow::ConfigProto::release_experimental()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:4277:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::ConfigProto_Experimental*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/public/session_options.h:21:0,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/config.pb.h:4277:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::ConfigProto_Experimental* tensorflow::ConfigProto::mutable_experimental()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:4292:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::ConfigProto_Experimental>(GetAre\r\n               ^\r\n./include/tensorflow/core/protobuf/config.pb.h:4292:72: error: expected primary-expression before \u2018>\u2019 token\r\n  auto* p = CreateMaybeMessage<::tensorflow::ConfigProto_Experimental>(GetArenaN\r\n                                                                     ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::DebugOptions* tensorflow::RunOptions::release_debug_options()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:4414:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::DebugOptions*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/public/session_options.h:21:0,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/config.pb.h:4414:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::DebugOptions* tensorflow::RunOptions::mutable_debug_options()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:4429:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::DebugOptions>(GetArenaNoVirtual(\r\n               ^\r\n./include/tensorflow/core/protobuf/config.pb.h:4429:60: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::DebugOptions>(GetArenaNoVirtual(\r\n                                                            ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::RunOptions_Experimental* tensorflow::RunOptions::release_experimental()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:4493:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::RunOptions_Experimental*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/public/session_options.h:21:0,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/config.pb.h:4493:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::RunOptions_Experimental* tensorflow::RunOptions::mutable_experimental()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:4508:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::RunOptions_Experimental>(GetAren\r\n               ^\r\n./include/tensorflow/core/protobuf/config.pb.h:4508:71: error: expected primary-expression before \u2018>\u2019 token\r\n   auto* p = CreateMaybeMessage<::tensorflow::RunOptions_Experimental>(GetArenaN\r\n                                                                     ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::StepStats* tensorflow::RunMetadata::release_step_stats()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:4556:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::StepStats*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/public/session_options.h:21:0,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/config.pb.h:4556:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::StepStats* tensorflow::RunMetadata::mutable_step_stats()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:4571:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::StepStats>(GetArenaNoVirtual());\r\n               ^\r\n./include/tensorflow/core/protobuf/config.pb.h:4571:57: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::StepStats>(GetArenaNoVirtual());\r\n                                                         ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::CostGraphDef* tensorflow::RunMetadata::release_cost_graph()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:4615:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::CostGraphDef*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/public/session_options.h:21:0,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/config.pb.h:4615:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::CostGraphDef* tensorflow::RunMetadata::mutable_cost_graph()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:4630:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::CostGraphDef>(GetArenaNoVirtual(\r\n               ^\r\n./include/tensorflow/core/protobuf/config.pb.h:4630:60: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::CostGraphDef>(GetArenaNoVirtual(\r\n                                                            ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::RunOptions* tensorflow::CallableOptions::release_run_options()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:5076:65: error: no matching function for call to \u2018DuplicateIfNonNull(tensorflow::RunOptions*&)\u2019\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\nIn file included from ./include/google/protobuf/descriptor.pb.h:26:0,\r\n                 from ./include/tensorflow/core/platform/default/protobuf.h:24,\r\n                 from ./include/tensorflow/core/platform/protobuf.h:31,\r\n                 from ./include/tensorflow/core/platform/default/string_coding.h:23,\r\n                 from ./include/tensorflow/core/platform/tensor_coding.h:29,\r\n                 from ./include/tensorflow/core/framework/resource_handle.h:19,\r\n                 from ./include/tensorflow/core/framework/allocator.h:24,\r\n                 from ./include/tensorflow/core/framework/tensor.h:20,\r\n                 from ./include/tensorflow/cc/framework/ops.h:21,\r\n                 from ./include/tensorflow/cc/client/client_session.h:24,\r\n                 from test.cc:1:\r\n./include/google/protobuf/generated_message_util.h:299:4: note: candidate: template<class T> T* google::protobuf::internal::DuplicateIfNonNull(T*, google::protobuf::Arena*)\r\n T* DuplicateIfNonNull(T* message, Arena* arena) {\r\n    ^\r\n./include/google/protobuf/generated_message_util.h:299:4: note:   template argument deduction/substitution failed:\r\nIn file included from ./include/tensorflow/core/public/session_options.h:21:0,\r\n                 from ./include/tensorflow/cc/client/client_session.h:26,\r\n                 from test.cc:1:\r\n./include/tensorflow/core/protobuf/config.pb.h:5076:65: note:   candidate expects 2 arguments, 1 provided\r\n     temp = ::google::protobuf::internal::DuplicateIfNonNull(temp);\r\n                                                                 ^\r\n./include/tensorflow/core/protobuf/config.pb.h: In member function \u2018tensorflow::RunOptions* tensorflow::CallableOptions::mutable_run_options()\u2019:\r\n./include/tensorflow/core/protobuf/config.pb.h:5091:15: error: \u2018CreateMaybeMessage\u2019 was not declared in this scope\r\n     auto* p = CreateMaybeMessage<::tensorflow::RunOptions>(GetArenaNoVirtual())\r\n               ^\r\n./include/tensorflow/core/protobuf/config.pb.h:5091:58: error: expected primary-expression before \u2018>\u2019 token\r\n     auto* p = CreateMaybeMessage<::tensorflow::RunOptions>(GetArenaNoVirtual())\r\n\r\n\r\n\r\n\r\n![2019-02-28 10-45-53](https://user-images.githubusercontent.com/32614962/53537897-7baa0400-3b46-11e9-94db-a8f617f0adbe.png)\r\n", "@jvishnuvardhan i compiled *.so with the protoc :3.5.0,bazel :0.15.0,", "@jvishnuvardhan tnanks,i figured it out! \r\nThe tensorflow/workspace.bzl:  370  \"https://github.com/google/protobuf/archive/v3.6.0.tar.gz\" !\r\nso the *.so was compiled  by protoc3.6.0,but tensorflow/contrib/makefile/download_dependencies.sh is 3.5.2\u3002so the *cc's include_file&&protobuf.a older than *.so,tere is the way:tensorflow/contrib/makefile/download_dependencies.sh 27_line->PROTOBUF_URL=\"https://mirror.bazel.build/github.com/google/protobuf/archive/v3.6.0.tar.gz\"\r\n\r\ni reference:https://www.jianshu.com/p/d46596558640."]}, {"number": 26152, "title": "C++ API", "body": "This is a fork of https://github.com/tensorflow/tensorflow/pull/24963\r\n\r\n1.  To build a DLL for TensorFlow C++ API, you can now build\r\n  `//tensorflow:tensorflow_cc.dll`\r\n2. You can also get a compressed package for both (tensorflow.dll, tensorflow.lib) and C API headers by building\r\n  `//tensorflow/tools/lib_package:libtensorflow_cc`", "comments": ["@jackyko1991 #24963 is now merged. Can you rebase your branch?\r\n\r\nThere're something wrong during code transformation when pushing to github at https://github.com/tensorflow/tensorflow/blob/3e21fe5faedab3a8258d344c8ad1cec2612a8aa8/tensorflow/BUILD#L521, I'm sending a fix to add the missing line endings.", "@meteorcloudy I have rebased my fork to match your fixes.\r\n\r\nWhen I come across with the C++ api, I discovered that it depends a lot on the core libraries which some of the headers maybe moved or renamed. \r\n\r\nFor example, `tensorflow::Status` is one of the mostly used class in TF core, its [header](https://github.com/tensorflow/tensorflow/blob/3f23f4ddeabbdc0704444d84c158bd6c348a9f10/tensorflow/core/lib/core/status.h) includes a non-existing `#include \"tensorflow/core/lib/core/error_codes.pb.h\"`, which I believe is now renamed as [`/tensorflow/core/lib/core/errors.h`](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/lib/core/errors.h)\r\n\r\nstrangely enough this kind of file renaming still pass CI tests.\r\n\r\nAnother issue is that ops now appears to be named as \"kernels\"\r\n\r\nIn the [official document of c++ api](https://www.tensorflow.org/guide/extend/cc), it has the line `using namespace tensorflow::ops;`, it was defined by this [header](https://github.com/tensorflow/tensorflow/blob/3f23f4ddeabbdc0704444d84c158bd6c348a9f10/tensorflow/cc/ops/standard_ops.h). But now it is relocated at [core kernels](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/core/kernels). This will ruin most of the old c++ codes without a clear clarification on header changes.\r\n\r\nI am working at exporting core headers together with `\r\n //tensorflow/tools/lib_package:libtensorflow_cc`, but library linking and third party dependency may still be problematic, especially for eigen and other lower level headers like absl.\r\n\r\nCan you come with a better idea to solve it?\r\n", "@jackyko1991 Sorry, I'm not sure the correct solution here because I'm not quite familiar with actual implementation.\r\n\r\n@mrry Can you help answer the questions?", "@gunan owns the ongoing process of modularizing the TF codebase and providing stable APIs to other libraries. I believe he has plans in motion, so I'll defer to him on how a large change to the build files would fit with those plans.", "The devil is probably in the details, but shouldn't transitive_hdrs be able to collect those header files?", "I have tried transitive_hdrs at the beginning but I would like the headers\nto locate at original folders structures. Directly use transitive_hdrs\nseems only flatten all headers in one folder layer?\n\nChristian Sigg <notifications@github.com> \u65bc 2019\u5e743\u67086\u65e5\u9031\u4e09 \u4e0a\u53485:43\u5beb\u9053\uff1a\n\n> The devil is probably in the details, but shouldn't transitive_hdrs be\n> able to collect those header files?\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/pull/26152#issuecomment-469867529>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ALgaB-_gqiqeIi32TCsznbVLFaJ2jgfZks5vTuTwgaJpZM4bTovb>\n> .\n>\n", "No, it should not flatten the directory tree. You can use a bazel genrule to write the headers with the correct tree structure.", "@chsigg do you mean use some genrule like the following:\r\n```bazel\r\ngenrule(\r\n    name = \"tensorflow_cc_headers\",\r\n    srcs = [\r\n        \"//tensorflow/core:headers\"\r\n    ],\r\n    outs = tf_genrule_cmd_cc_headers,\r\n    cmd = \"cp $(locations //tensorflow/core:headers) > $@\",\r\n)\r\n```\r\n\r\nI am new to bazel and using some hard skills to copy the header. It will be nice if you can provide relavent example on copying file in folder structure.", "https://github.com/tensorflow/tensorflow/issues/22047#issuecomment-421452033 suggested an approach to export necessary symbols via `tf_exported_symbols_msvc.lds`.\r\n\r\nCan anyone give a help on this? My temporary solution is to link all the generated libs against the executable but still get some of them missing.", "> [#22047 (comment)](https://github.com/tensorflow/tensorflow/issues/22047#issuecomment-421452033) suggested an approach to export necessary symbols via `tf_exported_symbols_msvc.lds`.\r\n> \r\n> Can anyone give a help on this? My temporary solution is to link all the generated libs against the executable but still get some of them missing.\r\n\r\nIt is just a last resort. See [guide in my script](https://github.com/guikarist/tensorflow-windows-build-script#prerequisites) (after *\"If you need to build C++ API,\"*). Then my script applies [a patch](https://github.com/guikarist/tensorflow-windows-build-script/blob/master/patches/cpp_symbol.1.12.0.patch) to Tensorflow source before building.", "> @chsigg do you mean use some genrule like the following:\r\n> ...\r\n\r\nWould something like the install_headers target work?\r\n\r\nhttps://github.com/tensorflow/tensorflow/blob/08d767919de9c5698d18c3de1c17c3e6a0dfa961/tensorflow/BUILD#L664", "> [#22047 (comment)](https://github.com/tensorflow/tensorflow/issues/22047#issuecomment-421452033) suggested an approach to export necessary symbols via `tf_exported_symbols_msvc.lds`.\r\n> \r\n> Can anyone give a help on this? My temporary solution is to link all the generated libs against the executable but still get some of them missing.\r\n\r\ncmake compile mode give create_def_file.py to give a method, but bazel compile mode had not do it and current tensorflow_cc has not exported the correct cc symbols based on your patch with v1.13.1. Could you please continue to check it make tensorflow__cc export the correct symbols? ", "> > [#22047 (comment)](https://github.com/tensorflow/tensorflow/issues/22047#issuecomment-421452033) suggested an approach to export necessary symbols via `tf_exported_symbols_msvc.lds`.\r\n> > Can anyone give a help on this? My temporary solution is to link all the generated libs against the executable but still get some of them missing.\r\n> \r\n> cmake compile mode give create_def_file.py to give a method, but bazel compile mode had not do it and current tensorflow_cc has not exported the correct cc symbols based on your patch with v1.13.1. Could you please continue to check it make tensorflow__cc export the correct symbols?\r\n\r\n![image](https://user-images.githubusercontent.com/22853/54524104-09417c80-49ac-11e9-8f01-f5c7d541be64.png)\r\nI means that it still has more c++ api with TF_*  prefix and CPP project will feedback lnk2001 error.", "Any news?", "@jackyko1991 can you please resolve conflicts", "@jackyko1991 can you please resolve conflicts ?", "I'm going to go ahead and close this PR, because it seems to have stalled. If you're still interested in pursing this (and responding to my comments), please feel free to reopen!"]}, {"number": 26151, "title": "Tensorflow 1.13: please do not deprecate important functions!!!", "body": "According to Tensorflow 1.13, many important functions will be deprecated, such as:\r\ntf.layers.dense()\r\ntf.layers.dropout()\r\ntf.layers.flatten()\r\ntf.layers.batch_normalization()\r\n...\r\nSince these functions are very widely used, and also very helpful for building complicted models, would you please keep them in the future versions?", "comments": ["\u5f03\u7528\u4e00\u5b9a\u6709\u4ed6\u7684\u9053\u7406", "Deprecating these functions is deprecating users.\r\nDo you really understand \"\u9053\u7406\"?", "Please pay more attention to those unsolved issues (i.e. #6391, #22543, #26625) rather than deprecating widely used functions!", "Obsoleted by #26844", "By the way, before deprecating old components, would you please complete the current functionality? See #27042. It seems that TF is very good at deprecating widely used functions, but poor at improving its weak points\r\n@kakakaku00 @mihaimaruseac @ymodak @fchollet ", "When will you deprecate keras?\r\nWhen will you deprecate Tensorflow?\r\nWhen will you deprecate Google?"]}, {"number": 26150, "title": "need guide to build with CUDA 10.1", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): ubuntu18.04.2\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version: 1.13.1\r\n- Python version: 3.7.2\r\n- Installed using virtualenv? pip? conda?: pip\r\n- Bazel version (if compiling from source): >=0.21.0\r\n- GCC/Compiler version (if compiling from source):  7.3.0\r\n- CUDA/cuDNN version: 10.1/7.5\r\n- GPU model and memory:  RTX2080Ti GDDR6 11GB\r\n\r\n\r\n\r\n**Describe the problem**\r\n\r\nwith CUDA 10.1 came out, build process is messing\r\n\r\nthere are soft links like . ***.so.10 which points to ****.so.10.1.105 . but tensorflow builder looks for ****.10.0 or ****.10.1\r\n\r\nthey should point to ***.10 . not ***.10.1 or ****.10.0\r\n\r\nand libcublas and libnvblas loacation has been changed to /usr/lib/x86_64-linux-gnu", "comments": ["and question, does windows gpu binary 1.13.1 works with CUDA10.1?", "I also have the same issue.\r\nI upgraded CUDA (and related libs) to 10.1 from ubuntu 18.04 by apt-get, and did a clean tensorflow compile from source on master branch (commit id 31f770fa9fa8e32606fca7333349ce5c722fc199).\r\nThen it shows errors:\r\n```\r\ntrinity@trinity-x:~/tensorflow$ bazel build --config=opt  --config=mkl //tensorflow/tools/pip_package:build_pip_package\r\nINFO: Invocation ID: f3a8fbaa-0655-46d5-9cd8-6d221a29d56e\r\nDEBUG: /home/trinity/.cache/bazel/_bazel_trinity/6f70dc6b75b9c02c6ff4af3478bba3ac/external/build_bazel_rules_apple/apple/repositories.bzl:35:5: \r\nWARNING: `build_bazel_rules_apple` depends on `bazel_skylib` loaded from https://github.com/bazelbuild/bazel-skylib.git (tag 0.6.0), but we have detected it already loaded into your workspace from None (tag None). You may run into compatibility issues. To silence this warning, pass `ignore_version_differences = True` to `apple_rules_dependencies()`.\r\n\r\nERROR: Skipping '//tensorflow/tools/pip_package:build_pip_package': error loading package 'tensorflow/tools/pip_package': in /home/trinity/tensorflow/tensorflow/tensorflow.bzl: Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\r\n\tFile \"/home/trinity/tensorflow/third_party/gpus/cuda_configure.bzl\", line 1501\r\n\t\t_create_local_cuda_repository(repository_ctx)\r\n\tFile \"/home/trinity/tensorflow/third_party/gpus/cuda_configure.bzl\", line 1266, in _create_local_cuda_repository\r\n\t\t_find_libs(repository_ctx, cuda_config)\r\n\tFile \"/home/trinity/tensorflow/third_party/gpus/cuda_configure.bzl\", line 859, in _find_libs\r\n\t\t_find_cuda_lib(\"cublas\", repository_ctx, cpu_value, c..., ...)\r\n\tFile \"/home/trinity/tensorflow/third_party/gpus/cuda_configure.bzl\", line 773, in _find_cuda_lib\r\n\t\tfind_lib(repository_ctx, [(\"%s/%s%s\" % (bas...], ...)))\r\n\tFile \"/home/trinity/tensorflow/third_party/gpus/cuda_configure.bzl\", line 750, in find_lib\r\n\t\tauto_configure_fail((\"No library found under: \" + \",...)))\r\n\tFile \"/home/trinity/tensorflow/third_party/gpus/cuda_configure.bzl\", line 341, in auto_configure_fail\r\n\t\tfail((\"\\n%sCuda Configuration Error:%...)))\r\n\r\nCuda Configuration Error: No library found under: /usr/local/cuda-10.1/lib64/libcublas.so.10.1, /usr/local/cuda-10.1/lib64/stubs/libcublas.so.10.1, /usr/local/cuda-10.1/lib/powerpc64le-linux-gnu/libcublas.so.10.1, /usr/local/cuda-10.1/lib/x86_64-linux-gnu/libcublas.so.10.1, /usr/local/cuda-10.1/lib/x64/libcublas.so.10.1, /usr/local/cuda-10.1/lib/libcublas.so.10.1, /usr/local/cuda-10.1/libcublas.so.10.1\r\nWARNING: Target pattern parsing failed.\r\nERROR: error loading package 'tensorflow/tools/pip_package': in /home/trinity/tensorflow/tensorflow/tensorflow.bzl: Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\r\n\tFile \"/home/trinity/tensorflow/third_party/gpus/cuda_configure.bzl\", line 1501\r\n\t\t_create_local_cuda_repository(repository_ctx)\r\n\tFile \"/home/trinity/tensorflow/third_party/gpus/cuda_configure.bzl\", line 1266, in _create_local_cuda_repository\r\n\t\t_find_libs(repository_ctx, cuda_config)\r\n\tFile \"/home/trinity/tensorflow/third_party/gpus/cuda_configure.bzl\", line 859, in _find_libs\r\n\t\t_find_cuda_lib(\"cublas\", repository_ctx, cpu_value, c..., ...)\r\n\tFile \"/home/trinity/tensorflow/third_party/gpus/cuda_configure.bzl\", line 773, in _find_cuda_lib\r\n\t\tfind_lib(repository_ctx, [(\"%s/%s%s\" % (bas...], ...)))\r\n\tFile \"/home/trinity/tensorflow/third_party/gpus/cuda_configure.bzl\", line 750, in find_lib\r\n\t\tauto_configure_fail((\"No library found under: \" + \",...)))\r\n\tFile \"/home/trinity/tensorflow/third_party/gpus/cuda_configure.bzl\", line 341, in auto_configure_fail\r\n\t\tfail((\"\\n%sCuda Configuration Error:%...)))\r\n\r\nCuda Configuration Error: No library found under: /usr/local/cuda-10.1/lib64/libcublas.so.10.1, /usr/local/cuda-10.1/lib64/stubs/libcublas.so.10.1, /usr/local/cuda-10.1/lib/powerpc64le-linux-gnu/libcublas.so.10.1, /usr/local/cuda-10.1/lib/x86_64-linux-gnu/libcublas.so.10.1, /usr/local/cuda-10.1/lib/x64/libcublas.so.10.1, /usr/local/cuda-10.1/lib/libcublas.so.10.1, /usr/local/cuda-10.1/libcublas.so.10.1\r\nINFO: Elapsed time: 0.167s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully (0 packages loaded)\r\n    currently loading: tensorflow/tools/pip_package\r\n    Fetching @local_config_cuda; fetching\r\n```", "BTW, why tensorflow must specify minor release version number of CUDA, such as '10.0' instead of using major release version '10'?\r\nIt would be better if tensorflow regards the minor version number mismatch as a warning, not an error during compilation.\r\nThanks.", "This has to do with a change in the SONAMEs of CUDA Toolkit libraries starting in CUDA 10.1.  We will submit a PR to allow compatibility both before and after that change.  @nluehr ", "@alanpurple  The Official `tensorflow-gpu` 1.13 binaries are built with cuda 10.0, cudnn 7. Can you please switch to cuda 10.0 and build again. Thanks!", "@ymodak \r\n\r\nI made links to 10.1 so files but still has an error building . #26155 ", "I managed to build it in windows but you've got to copy some of the libraries (some have 101 or 10 in their name vs 100 for all of them in cuda 10). But I'm running into another issue, if I try to use Cudnn in recurrent layers from C++ it's crashing (it used to work with tf 1.10.1 and cuda 9). I've tried all cudnn versions supported by cuda 10, to no avail. I'm downgrading to Cuda 10.0 and recompiling TF as we speak. It's incredible that there's nowhere in the documentation or the repository where I can check which versions are tested... it's a terrible waste of my time (and don't get me started on the gazillion bugs I have to work around every time I build this).\r\n\r\nBy the way, which version of cudnn are you officially using for the TF 1.13.1 / Cuda 10.0 combination?", "@ymodak \r\n\r\nanyway can we expect next official binary release is with CUDA 10.1?", "This may be a problem with CUDA 10.1 libraries being stored differently in compare to 10.0. To build tag v1.13.1 with CUDA 10.1, I created some symlinks to allow the build to start:\r\n\r\n```\r\nsudo cp /usr/lib/x86_64-linux-gnu/libcublas.so.10.1.0.105 /usr/local/cuda-10.1/lib64/\r\nsudo ln -s /usr/local/cuda-10.1/lib64/libcublas.so.10.1.0.105 /usr/local/cuda-10.1/lib64/libcublas.so.10.1\r\nsudo ln -s /usr/local/cuda-10.1/lib64/libcublas.so.10.1 /usr/local/cuda-10.1/lib64/libcublas.so\r\nsudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcusolver.so.10 /usr/local/cuda-10.1/lib64/libcusolver.so.10.1\r\nsudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcurand.so.10 /usr/local/cuda-10.1/lib64/libcurand.so.10.1\r\nsudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcufft.so.10 /usr/local/cuda-10.1/lib64/libcufft.so.10.1\r\n```\r\n\r\nThen entered CUDA version 10.1 and CuDNN version 7.5.0 during configure. \r\nUnfortunately I got to some other problem which is explained in [26155](https://github.com/tensorflow/tensorflow/issues/26155).", "@alanpurple Support for CUDA 10.1 is on our future road map but unfortunately won't be dealt immediately. As of now you have to switch to cuda 10 for using pre-built binaries. Thanks!", "> \r\n> \r\n> @alanpurple Support for CUDA 10.1 is on our future road map but unfortunately won't be dealt immediately. As of now you have to switch to cuda 10 for using pre-built binaries. Thanks!\r\n\r\nIt would be extremely helpful to know that beforehand (the documentation is stale and hard to find). We wouldn't be wasting lots of time trying different versions of everything if we knew what TF is being successfully built with.", "https://www.tensorflow.org/install/gpu#software_requirements", "> \r\n> \r\n> https://www.tensorflow.org/install/gpu#software_requirements\r\n\r\nThank you for updating the info. Just 5 days ago (according to the cached version on Google), there was no mention of CUDA 10 or even Ubuntu 18.04, or even specific Tensorflow versions on that page.\r\n\r\nI'm happy to see info on the current TF gpu version 1.13 has just popped up on the tested build configs page too: https://www.tensorflow.org/install/source#tested_build_configurations", "This is due to conflicting behaviour at configure/build time and run time. Have a look at the patch in #28093 for a temporary workaround.", "> This may be a problem with CUDA 10.1 libraries being stored differently in compare to 10.0. To build tag v1.13.1 with CUDA 10.1, I created some symlinks to allow the build to start:\r\n> \r\n> ```\r\n> sudo cp /usr/lib/x86_64-linux-gnu/libcublas.so.10.1.0.105 /usr/local/cuda-10.1/lib64/\r\n> sudo ln -s /usr/local/cuda-10.1/lib64/libcublas.so.10.1.0.105 /usr/local/cuda-10.1/lib64/libcublas.so.10.1\r\n> sudo ln -s /usr/local/cuda-10.1/lib64/libcublas.so.10.1 /usr/local/cuda-10.1/lib64/libcublas.so\r\n> sudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcusolver.so.10 /usr/local/cuda-10.1/lib64/libcusolver.so.10.1\r\n> sudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcurand.so.10 /usr/local/cuda-10.1/lib64/libcurand.so.10.1\r\n> sudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcufft.so.10 /usr/local/cuda-10.1/lib64/libcufft.so.10.1\r\n> ```\r\n> \r\n> Then entered CUDA version 10.1 and CuDNN version 7.5.0 during configure.\r\n> Unfortunately I got to some other problem which is explained in [26155](https://github.com/tensorflow/tensorflow/issues/26155).\r\n\r\nand my /usr/lib/x86_64-linux-gnu/libcublas.so.10.2.0.168, is the same way for 10.1?", "> This may be a problem with CUDA 10.1 libraries being stored differently in compare to 10.0. To build tag v1.13.1 with CUDA 10.1, I created some symlinks to allow the build to start:\r\n> \r\n> ```\r\n> sudo cp /usr/lib/x86_64-linux-gnu/libcublas.so.10.1.0.105 /usr/local/cuda-10.1/lib64/\r\n> sudo ln -s /usr/local/cuda-10.1/lib64/libcublas.so.10.1.0.105 /usr/local/cuda-10.1/lib64/libcublas.so.10.1\r\n> sudo ln -s /usr/local/cuda-10.1/lib64/libcublas.so.10.1 /usr/local/cuda-10.1/lib64/libcublas.so\r\n> sudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcusolver.so.10 /usr/local/cuda-10.1/lib64/libcusolver.so.10.1\r\n> sudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcurand.so.10 /usr/local/cuda-10.1/lib64/libcurand.so.10.1\r\n> sudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcufft.so.10 /usr/local/cuda-10.1/lib64/libcufft.so.10.1\r\n> ```\r\n> \r\n> Then entered CUDA version 10.1 and CuDNN version 7.5.0 during configure.\r\n> Unfortunately I got to some other problem which is explained in [26155](https://github.com/tensorflow/tensorflow/issues/26155).\r\n\r\nYou saved my day !", "> > This may be a problem with CUDA 10.1 libraries being stored differently in compare to 10.0. To build tag v1.13.1 with CUDA 10.1, I created some symlinks to allow the build to start:\r\n> > ```\r\n> > sudo cp /usr/lib/x86_64-linux-gnu/libcublas.so.10.1.0.105 /usr/local/cuda-10.1/lib64/\r\n> > sudo ln -s /usr/local/cuda-10.1/lib64/libcublas.so.10.1.0.105 /usr/local/cuda-10.1/lib64/libcublas.so.10.1\r\n> > sudo ln -s /usr/local/cuda-10.1/lib64/libcublas.so.10.1 /usr/local/cuda-10.1/lib64/libcublas.so\r\n> > sudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcusolver.so.10 /usr/local/cuda-10.1/lib64/libcusolver.so.10.1\r\n> > sudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcurand.so.10 /usr/local/cuda-10.1/lib64/libcurand.so.10.1\r\n> > sudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcufft.so.10 /usr/local/cuda-10.1/lib64/libcufft.so.10.1\r\n> > ```\r\n> > \r\n> > \r\n> > Then entered CUDA version 10.1 and CuDNN version 7.5.0 during configure.\r\n> > Unfortunately I got to some other problem which is explained in [26155](https://github.com/tensorflow/tensorflow/issues/26155).\r\n> \r\n> and my /usr/lib/x86_64-linux-gnu/libcublas.so.10.2.0.168, is the same way for 10.1?\r\n\r\n\r\n\r\n> > This may be a problem with CUDA 10.1 libraries being stored differently in compare to 10.0. To build tag v1.13.1 with CUDA 10.1, I created some symlinks to allow the build to start:\r\n> > ```\r\n> > sudo cp /usr/lib/x86_64-linux-gnu/libcublas.so.10.1.0.105 /usr/local/cuda-10.1/lib64/\r\n> > sudo ln -s /usr/local/cuda-10.1/lib64/libcublas.so.10.1.0.105 /usr/local/cuda-10.1/lib64/libcublas.so.10.1\r\n> > sudo ln -s /usr/local/cuda-10.1/lib64/libcublas.so.10.1 /usr/local/cuda-10.1/lib64/libcublas.so\r\n> > sudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcusolver.so.10 /usr/local/cuda-10.1/lib64/libcusolver.so.10.1\r\n> > sudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcurand.so.10 /usr/local/cuda-10.1/lib64/libcurand.so.10.1\r\n> > sudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcufft.so.10 /usr/local/cuda-10.1/lib64/libcufft.so.10.1\r\n> > ```\r\n> > \r\n> > \r\n> > Then entered CUDA version 10.1 and CuDNN version 7.5.0 during configure.\r\n> > Unfortunately I got to some other problem which is explained in [26155](https://github.com/tensorflow/tensorflow/issues/26155).\r\n> \r\n> and my /usr/lib/x86_64-linux-gnu/libcublas.so.10.2.0.168, is the same way for 10.1?\r\n\r\nYes the same way, Try it ^ ^", "Fix for building TensorFlow-1.13.1 with CUDA-10.1 libraries:\r\n```bash\r\n# libcublas\r\nsudo cp /usr/lib/x86_64-linux-gnu/libcublas.so.10.2.0.168 /usr/local/cuda-10.1/lib64/\r\nsudo ln -s /usr/local/cuda-10.1/lib64/libcublas.so.10.2.0.168 /usr/local/cuda-10.1/lib64/libcublas.so.10.1\r\nsudo ln -s /usr/local/cuda-10.1/lib64/libcublas.so.10.1 /usr/local/cuda-10.1/lib64/libcublas.so\r\n\r\n# libcusolver, libcurand, libcufft\r\nsudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcusolver.so.10 /usr/local/cuda-10.1/lib64/libcusolver.so.10.1\r\nsudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcurand.so.10 /usr/local/cuda-10.1/lib64/libcurand.so.10.1\r\nsudo ln -s /usr/local/cuda-10.1/targets/x86_64-linux/lib/libcufft.so.10 /usr/local/cuda-10.1/lib64/libcufft.so.10.1\r\n```", "Hello everyone,\r\nif you want to keep CUDA10.1 just install the new release of tensorflow 2.0, it will work for sure.\r\nuse this for python2:  pip install tf-nightly-gpu-2.0-preview\r\nuse this for python3: pip3 install tf-nightly-2.0-preview\r\n### ### ### \r\n", "Hi @elachkarcharbel I am pretty sure we are building those two packages with cuda 10.", "@elachkarcharbel can confirm these are linked against CUDA 10.0, not 10.1.", "TensorFlow 1.14.0 builds against CUDA 10.1 pretty easily. I just needed to `export TF_CUDA_PATHS=/usr,/usr/local/cuda` (were the latter is the cuda 10.1 install location) before running configure.", "In addition to @edowson I had to do:\r\n\r\n```bash\r\nsudo cp /usr/include/cublas* /usr/local/cuda-10.1/include/\r\n```\r\n\r\nYou may also need to set your `LD_LIBRARY_PATH` when running anything that uses the GPU:\r\n\r\n```bash\r\nexport LD_LIBARY_PATH=/usr/local/cuda/lib64\r\n```", "@JonnoFTW I've updated my [tf-build/Dockerfile](https://github.com/edowson/docker-tensorflow/blob/master/ubuntu/xenial/tf-build/Dockerfile#L227-L234) to incorporate those changes.\r\n\r\nThe [docker-tensorflow](https://github.com/edowson/docker-tensorflow) repo contains docker images to build tensorflow using containers using the supplied [tf-build/build.sh](https://github.com/edowson/docker-tensorflow/blob/master/ubuntu/xenial/tf-build/build.sh) and output the generated files to the host /tmp/build folder when you run the [tf-build/run.sh](https://github.com/edowson/docker-tensorflow/blob/master/ubuntu/xenial/tf-build/run.sh) script. It also includes a few extras specific to my development environment, like support for nvidia vulkan drivers with ray-tracing from within a docker container, to support UE4 and Unity based simulators for RL agent training.\r\n\r\nThere's a [tf-base](https://github.com/edowson/docker-tensorflow/tree/master/ubuntu/xenial/tf-base) docker image in there that uses the [tf-build](https://github.com/edowson/docker-tensorflow/tree/master/ubuntu/xenial/tf-build) output, to generate a base tf-2.0.0-beta1 docker image.\r\n\r\nI was compiling with Intel MKL libraries:\r\n```\r\nbazel build --config=opt --config=mkl --config=v2 //tensorflow/tools/pip_package:build_pip_package\r\n```\r\nPerhaps that's why I didn't get any build errors due to missing cublas headers.\r\n\r\nDid you get any errors about missing cublas headers while building?", "The only error I got was that it couldn't find a header file:\r\n\r\n```\r\nERROR: /localstore/tensorflow-1.13.2/tensorflow/stream_executor/BUILD:89:1: C++ compilation of rule '//tensorflow/stream_executor:cuda_platform' failed (Exit 1)\r\ntensorflow/stream_executor/cuda/cuda_blas.cc:16:10: fatal error: cuda/include/cublas_v2.h: No such file or directory\r\n #include \"cuda/include/cublas_v2.h\"\r\n```\r\nCopying the header files fixed it for me.", "```\r\nCuda Configuration Error: None of the libraries match their SONAME: /usr/local/cuda-10.1/lib64/libcublas.so.10.1\r\n```\r\n\r\ncheckout into r2.0, building error.\r\n\r\nfrom master, build success", "@alanpurple is right, libcublas and libnvblas loacation has been changed to /usr/lib/x86_64-linux-gnu", "> In addition to @edowson I had to do:\r\n> \r\n> ```shell\r\n> sudo cp /usr/include/cublas* /usr/local/cuda-10.1/include/\r\n> ```\r\n> \r\n> You may also need to set your `LD_LIBRARY_PATH` when running anything that uses the GPU:\r\n> \r\n> ```shell\r\n> export LD_LIBARY_PATH=/usr/local/cuda/lib64\r\n> ```\r\n\r\nI achieved similar results by trying a similar approach. However I'm having runtime issues when trying to import `tensorflow_addons`:\r\n```\r\nIn [1]: import tensorflow_addons as tfa                                                                                                                                                                                                     \r\n---------------------------------------------------------------------------\r\nNotFoundError                             Traceback (most recent call last)\r\n<ipython-input-1-8e92e93ce06e> in <module>\r\n----> 1 import tensorflow_addons as tfa\r\n\r\n~/.pyenv/versions/3.6.8/envs/OpenNMT-tf/lib/python3.6/site-packages/tensorflow_addons/__init__.py in <module>\r\n     19 \r\n     20 # Local project imports\r\n---> 21 from tensorflow_addons import activations\r\n     22 from tensorflow_addons import callbacks\r\n     23 from tensorflow_addons import image\r\n\r\n~/.pyenv/versions/3.6.8/envs/OpenNMT-tf/lib/python3.6/site-packages/tensorflow_addons/activations/__init__.py in <module>\r\n     19 from __future__ import print_function\r\n     20 \r\n---> 21 from tensorflow_addons.activations.gelu import gelu\r\n     22 from tensorflow_addons.activations.hardshrink import hardshrink\r\n     23 from tensorflow_addons.activations.lisht import lisht\r\n\r\n~/.pyenv/versions/3.6.8/envs/OpenNMT-tf/lib/python3.6/site-packages/tensorflow_addons/activations/gelu.py in <module>\r\n     23 \r\n     24 _activation_ops_so = tf.load_op_library(\r\n---> 25     get_path_to_datafile(\"custom_ops/activations/_activation_ops.so\"))\r\n     26 \r\n     27 \r\n\r\n~/.pyenv/versions/3.6.8/envs/OpenNMT-tf/lib/python3.6/site-packages/tensorflow_core/python/framework/load_library.py in load_op_library(library_filename)\r\n     59     RuntimeError: when unable to load the library or get the python wrappers.\r\n     60   \"\"\"\r\n---> 61   lib_handle = py_tf.TF_LoadLibrary(library_filename)\r\n     62 \r\n     63   op_list_str = py_tf.TF_GetOpList(lib_handle)\r\n\r\nNotFoundError: /home/jay/.pyenv/versions/3.6.8/envs/OpenNMT-tf/lib/python3.6/site-packages/tensorflow_addons/custom_ops/activations/_activation_ops.so: undefined symbol: _ZN10tensorflow12OpDefBuilder4AttrESs\r\n```", "8 months and no release. Lol \r\nIs Google even funding Tensorflow ?", "Terrible experience, 1 year later, no update happens"]}, {"number": 26149, "title": "Why deprecate tf.layers.dropout?", "body": "In the tensorflow 1.13 document of tf.layers.dropout, there is a warning: \r\nWarning: THIS FUNCTION IS DEPRECATED. It will be removed in a future version. Instructions for updating: Use keras.layers.dropout instead.\r\n\r\nIt is ridiculous to deprecate tf.layers.dropout, because it is widely used, and very easy to use.\r\nDo you really care about the requirements of TF developers?\r\nDo you really care about the requirements of TF developers?\r\nDo you really care about the requirements of TF developers?", "comments": ["Duplicate #26151"]}, {"number": 26148, "title": "v1.13.1 CUDA Compilation fails on Windows 10 ", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):Windows 10\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary):Source\r\n- TensorFlow version:.1.13.1\r\n- Python version:3.6\r\n- Installed using virtualenv? pip? conda?:pip\r\n- Bazel version (if compiling from source):0.21\r\n- GCC/Compiler version (if compiling from source):VS 2017 SDK 10.0.17763.132\r\n- CUDA/cuDNN version:7.4.2\r\n- GPU model and memory: 1060M, 6 GB\r\n\r\n**Describe the problem**\r\nCompilation on Windows 10 with CUDA 10 fails. \r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\n- set PATH=C:\\Users\\Rishi\\AppData\\Local\\Programs\\Python\\Python36;%PATH%\r\n- SET PATH=C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.0\\bin;%PATH%\r\n- SET PATH=C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.0\\extras\\CUPTI\\libx64;%PATH%\r\n- set PATH=c:\\tools\\cuda\\bin;%PATH%\r\n- set BAZEL_SH=C:\\tools\\msys64\\usr\\bin\\bash.exe\r\n- git clone --recursive https://github.com/tensorflow/tensorflow.git\r\n- cd tensorflow\r\n- git checkout v1.13.1\r\n- pip3 install six numpy wheel\r\n- pip3 install keras_applications==1.0.6 --no-deps\r\n- pip3 install keras_preprocessing==1.0.5 --no-deps\r\n- set PATH=c:\\tools\\bazel;%PATH%\r\n- set PATH=C:\\tools\\msys64\\usr\\bin;%PATH%\r\n- set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_201\r\n- python ./configure.py\r\n- bazel build --config=opt --config=cuda --cxxopt=\"-D_GLIBCXX_USE_CXX11_ABI=0\" //tensorflow/tools/pip_package:build_pip_package\r\n\r\n**Any other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n`C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\VC\\Tools\\MSVC\\14.16.27023\\include\\xtr1common(87): note: see reference to class template instantiation 'std::integral_constant<bool,false>' being compiled\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\VC\\Tools\\MSVC\\14.16.27023\\include\\xtr1common(88): note: see reference to class template instantiation 'std::is_same<_Ty1,_Ty2>' being compiled\r\nINFO: From Linking tensorflow/lite/toco/python/_tensorflow_wrap_toco.so:\r\nLINK : warning LNK4044: unrecognized option '/Wl,-rpath,../local_config_cuda/cuda/lib64'; ignored\r\nLINK : warning LNK4044: unrecognized option '/Wl,-rpath,../local_config_cuda/cuda/extras/CUPTI/lib64'; ignored\r\nLINK : warning LNK4044: unrecognized option '/ldl'; ignored\r\nLINK : warning LNK4044: unrecognized option '/lpthread'; ignored\r\nLINK : warning LNK4044: unrecognized option '/ldl'; ignored\r\n   Creating library bazel-out/x64_windows-opt/bin/tensorflow/lite/toco/python/lib_tensorflow_wrap_toco.so.ifso and object bazel-out/x64_windows-opt/bin/tensorflow/lite/toco/python/lib_tensorflow_wrap_toco.so.exp\r\nlibcuda_platform.lo(cuda_dnn.o) : warning LNK4217: locally defined symbol ?ThenBlasGemm@Stream@stream_executor@@QEAAAEAV12@W4Transpose@blas@2@0_K11MAEBV?$DeviceMemory@M@2@H2HMPEAV52@H@Z (public: class stream_executor::Stream & __cdecl stream_executor::Stream::ThenBlasGemm(enum stream_executor::blas::Transpose,enum stream_executor::blas::Transpose,unsigned __int64,unsigned __int64,unsigned __int64,float,class stream_executor::DeviceMemory<float> const &,int,class stream_executor::DeviceMemory<float> const &,int,float,class stream_executor::DeviceMemory<float> *,int)) imported in function \"public: virtual bool __cdecl stream_executor::cuda::CudnnSupport::DoMatMul(class stream_executor::Stream *,class stream_executor::DeviceMemory<float> const &,class stream_executor::DeviceMemory<float> const &,class stream_executor::dnn::BatchDescriptor const &,class stream_executor::dnn::BatchDescriptor const &,class stream_executor::DeviceMemory<float> *)\" (?DoMatMul@CudnnSupport@cuda@stream_executor@@UEAA_NPEAVStream@3@AEBV?$DeviceMemory@M@3@1AEBVBatchDescriptor@dnn@3@2PEAV53@@Z)\r\nlibutils.a(utils.o) : warning LNK4217: locally defined symbol ?DEVICE_CPU@tensorflow@@3QEBDEB (char const * const tensorflow::DEVICE_CPU) imported in function \"bool __cdecl tensorflow::grappler::NodeIsOnCpu(class tensorflow::NodeDef const *)\" (?NodeIsOnCpu@grappler@tensorflow@@YA_NPEBVNodeDef@2@@Z)\r\nERROR: C:/sw/temp/tensorflow/tensorflow/tensorflow/BUILD:573:1: Executing genrule //tensorflow:tf_python_api_gen_v1 failed (Exit 1): bash.exe failed: error executing command\r\n  cd C:/users/rishi/_bazel_rishi/t6earjat/execroot/org_tensorflow\r\n  SET CUDA_TOOLKIT_PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v10.0\r\n    SET CUDNN_INSTALL_PATH=c:/tools/cuda\r\n    SET PATH=C:\\tools\\msys64\\usr\\bin;C:\\tools\\msys64\\bin\r\n    SET PYTHON_BIN_PATH=C:/Users/Rishi/AppData/Local/Programs/Python/Python36/python.exe\r\n    SET PYTHON_LIB_PATH=C:/Users/Rishi/AppData/Local/Programs/Python/Python36/lib/site-packages\r\n    SET TF_CUDA_CLANG=0\r\n    SET TF_CUDA_COMPUTE_CAPABILITIES=3.5,7.0\r\n    SET TF_CUDA_VERSION=10.0\r\n    SET TF_CUDNN_VERSION=7\r\n    SET TF_NEED_CUDA=1\r\n    SET TF_NEED_OPENCL_SYCL=0\r\n    SET TF_NEED_ROCM=0\r\n  C:/tools/msys64/usr/bin/bash.exe bazel-out/x64_windows-opt/genfiles/tensorflow/tf_python_api_gen_v1.genrule_script.sh\r\nExecution platform: @bazel_tools//platforms:host_platform\r\nTraceback (most recent call last):\r\n  File \"\\\\?\\C:\\Users\\Rishi\\AppData\\Local\\Temp\\Bazel.runfiles_md1fa9q2\\runfiles\\org_tensorflow\\tensorflow\\python\\pywrap_tensorflow.py\", line 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"\\\\?\\C:\\Users\\Rishi\\AppData\\Local\\Temp\\Bazel.runfiles_md1fa9q2\\runfiles\\org_tensorflow\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"\\\\?\\C:\\Users\\Rishi\\AppData\\Local\\Temp\\Bazel.runfiles_md1fa9q2\\runfiles\\org_tensorflow\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\r\n  File \"C:\\Users\\Rishi\\AppData\\Local\\Programs\\Python\\Python36\\lib\\imp.py\", line 243, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"C:\\Users\\Rishi\\AppData\\Local\\Programs\\Python\\Python36\\lib\\imp.py\", line 343, in load_dynamic\r\n    return _load(spec)\r\nImportError: DLL load failed: The specified module could not be found.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"\\\\?\\C:\\Users\\Rishi\\AppData\\Local\\Temp\\Bazel.runfiles_md1fa9q2\\runfiles\\org_tensorflow\\tensorflow\\python\\tools\\api\\generator\\create_python_api.py\", line 27, in <module>\r\n    from tensorflow.python.tools.api.generator import doc_srcs\r\n  File \"\\\\?\\C:\\Users\\Rishi\\AppData\\Local\\Temp\\Bazel.runfiles_md1fa9q2\\runfiles\\org_tensorflow\\tensorflow\\python\\__init__.py\", line 49, in <module>\r\n    from tensorflow.python import pywrap_tensorflow\r\n  File \"\\\\?\\C:\\Users\\Rishi\\AppData\\Local\\Temp\\Bazel.runfiles_md1fa9q2\\runfiles\\org_tensorflow\\tensorflow\\python\\pywrap_tensorflow.py\", line 74, in <module>\r\n    raise ImportError(msg)\r\nImportError: Traceback (most recent call last):\r\n  File \"\\\\?\\C:\\Users\\Rishi\\AppData\\Local\\Temp\\Bazel.runfiles_md1fa9q2\\runfiles\\org_tensorflow\\tensorflow\\python\\pywrap_tensorflow.py\", line 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"\\\\?\\C:\\Users\\Rishi\\AppData\\Local\\Temp\\Bazel.runfiles_md1fa9q2\\runfiles\\org_tensorflow\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"\\\\?\\C:\\Users\\Rishi\\AppData\\Local\\Temp\\Bazel.runfiles_md1fa9q2\\runfiles\\org_tensorflow\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\r\n  File \"C:\\Users\\Rishi\\AppData\\Local\\Programs\\Python\\Python36\\lib\\imp.py\", line 243, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"C:\\Users\\Rishi\\AppData\\Local\\Programs\\Python\\Python36\\lib\\imp.py\", line 343, in load_dynamic\r\n    return _load(spec)\r\nImportError: DLL load failed: The specified module could not be found.\r\n\r\n\r\nFailed to load the native TensorFlow runtime.\r\n\r\nSee https://www.tensorflow.org/install/errors\r\n\r\nfor some common reasons and solutions.  Include the entire stack trace\r\nabove this error message when asking for help.\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nINFO: Elapsed time: 8639.073s, Critical Path: 1339.78s\r\nINFO: 2615 processes: 2615 local.\r\nFAILED: Build did NOT complete successfully\r\n`\r\n", "comments": ["@ymodak Opening this as new issue. ", "I had to merge https://github.com/tensorflow/tensorflow/issues/22387. ", "@rishi-rranjan Could try the instruction [here](https://github.com/jvishnuvardhan/Installing-TensorFlow-GPU-on-Windows-10-TF1.12) that worked for installing TF1.12_gpu successfully. Follow the process listed but use newer version of CUDA10 (CUDA9.0 was used). Please let me know how it progresses. Thanks!", "I tried to compile Tensorflow 1.12 + CUDA10 under windows10 before.But the compiler I am using is MSVC2015 R3.I am not sure that MSVC2017 can work correctly.And trying to downgrade the version of bazel is sometimes useful.", "@jvishnuvardhan I am trying to compile TF since i have some custom operators which I will need to link against some dependencies. I will install pip package and see if I can compile my custom operators with that itself. \r\n\r\n@rootkitchao Thanks for the pointer. I am use VS 2017 extensively for all my projects but will try VS 2015 on other setup if I am not able to compile my operators with VS2017. ", "@jvishnuvardhan I was able to install TF 1.13.1 with your instruction. I will check if I can compile my custom operators with this install. if it works for me, I don't need to compile TF and will close this issue. ", "Closing this as I am able to successfully compile tensorflow/examples/adding_an_op.  ", "@rishi-rranjan Good to know that it worked for you. Thanks!"]}, {"number": 26147, "title": "[docs] (non) determinism in TF", "body": "**Describe the feature and the current behavior/state.**\r\nA documentation explaining determinism and sources of non determinism in TF applications. It should cover things from having multiple readers, seeds in the specific ops, seed in numpy, PYTHONHASHSEED, non-deterministic ops in CUDA (and why TF does not support passing deterministic flag even though it would be slower), `TF_CUDNN_USE_AUTOTUNE`, and probably some others I do not know about.\r\n\r\n**Who will benefit with this feature?**\r\nI take part in many Kaggle competitions and very often people there have problems with non-determinism in NN. \r\n", "comments": ["@mpekalski Can you please check this https://www.tensorflow.org/api_docs/python/tf/config/experimental/enable_op_determinism. This will enable your code to run deterministically at the cost of some computational time. Thanks! ", "This issue has been automatically marked as stale because it has no recent activity. It will be closed if no further activity occurs. Thank you.\n", "Closing as stale. Please reopen if you'd like to work on this further.\n"]}, {"number": 26146, "title": "Tensorflow 1.13 - can't deprecate tf.layers.batch_normalization.  No existing replacement", "body": "I'm updating to Tensorflow 1.13 from 1.12.\r\n\r\ntf.layers.batch_normalization is being deprecated.\r\n\r\nThe note states:\r\n\r\n```\r\nbatch_normalization (from tensorflow.python.layers.normalization) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse keras.layers.batch_normalization instead.\r\n```\r\nFirst, there is no 'keras.layers.batch_normalization'. This is a 'keras.layers. BatchNormalization', but that is a different function and a direct replacement for 'tf.layers. BatchNormalization'.\r\n\r\nTherefore, either make a 'keras.layers. BatchNormalization' function or remove the deprecation warning for 'tf.layers.batch_normalization.\r\n\r\nHere's the link to the batch_normalization fuction.\r\n\r\nhttps://github.com/tensorflow/tensorflow/blob/r1.12/tensorflow/python/layers/normalization.py\r\n\r\nThanks,", "comments": ["We are not planning to support these function-based layers in the future, as they rely on hidden global state. After tensor 2.0 there will only be object oriented layers.\r\n\r\n> keras.layers.batch_normalization\r\n\r\nThat is a typo. \r\n\r\nCan you send us a PR to fix it to `keras.layers.BatchNormalization`? It's easy with the online editor under the pencil button in the top right:\r\n \r\nThis line:\r\n\r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/layers/normalization.py#L160\r\n\r\n", "@MarkDaoust Understood and I submitted a PR.  \r\n\r\nWill there be a migration tutorial or examples on how to convert from TF 1.X to 2.0?  \r\n\r\nI have a custom model trained using batch_normalization in Tensorflow 1.2.  If I want to use its checkpoint in TF 2.0, what would the steps be to use that model?  I'm worried TF would not recognize any variables that maybe affected by the different batch_normalizations.\r\n\r\nThanks!", "Thanks @jtressle.\r\n\r\n> Will there be a migration tutorial or examples on how to convert from TF 1.X to 2.0?\r\n\r\nYes you can preview the docs at: https://github.com/tensroflow/docs/site/en/r2\r\nThere is a guide to the update script, and one checkpointing doc,  but I'm not sure it has those specific details.\r\n\r\nhttps://github.com/tensorflow/docs/blob/master/site/en/r2/guide/upgrade.md\r\nhttps://github.com/tensorflow/docs/blob/master/site/en/r2/guide/checkpoints.ipynb\r\n\r\nThere will be a more in depth, practical guide to updating, coming soon.\r\n\r\nAlso note that these deprecated symbols won't be removed in tf2, `import tensorflow.compat.v1 as tf` should work in most cases.", "And don't forget to send a pull request. Right now that commit is just sitting in your fork.", "@MarkDaoust Pull request 26154 has been submitted.  Yeah I forgot to send in the pull.\r\n\r\nThanks", "@jtressle,\r\nClosing this issue as PR [#26154](https://github.com/tensorflow/tensorflow/pull/26154) has been merged. Please feel free to re-open if mistaken. Thanks!"]}, {"number": 26145, "title": "Tensorflow 1.13 - can't deprecate tf.layers.conv2d - no existing replacement", "body": "I'm updating to Tensorflow 1.13 from 1.12.\r\n\r\ntf.layers.conv2d is being deprecated.  \r\n\r\nThe note states:\r\n```\r\nconv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse keras.layers.conv2d instead.\r\n``` \r\n\r\nFirst, there is no 'keras.layers.conv2d'.  This is a 'keras.layers.Conv2D', but that is a different function and a direct replacement for 'tf.layers.Conv2D'.  \r\n\r\nTherefore, either make a 'keras.layers.conv2d' function or remove the deprecation warning for 'tf.layers.conv2d'.  \r\n\r\nHere's the link to the conv2d fuction.\r\n\r\nhttps://github.com/tensorflow/tensorflow/blob/r1.12/tensorflow/python/layers/convolutional.py\r\n\r\nThanks,\r\n", "comments": ["I am in the same situation. I want a functional API, is that going away for good?", "Same here! ", "We are consolidating the high level APIs and remove duplications. Under the hood, tf.conv2d is using exactly the same code as tf.keras.layers.Conv2D. The functional API is just a wrapper around the keras API. With the new keras layer API, the existing tf.conv2d can be rewrite as follow:\r\n\r\n```\r\n# Old functional API\r\noutput = tf.conv2d(inputs, *other_args)\r\n\r\n# New OO API\r\noutput = tf.keras.layers.Conv2D(*other_args)(inputs)\r\n```", "@qlzh727 can you simply update the documentation and warning one gets?\r\n\r\nThe current documentation is wrong. It leads users to a non-existing function. The documentation should simply state what you just wrote above.\r\n\r\nThanks", "Ack, will send a update for doc very soon.", "Its actually been fixed in https://github.com/tensorflow/tensorflow/commit/a4f5558529a56d72bdcec9c0c8d0a3fb2a91fb64, but hasn't reach the stable release yet.", "@qlzh727 awesome thanks for taking care of it!"]}, {"number": 26144, "title": "Why deprecate tf.layers.dense?", "body": "In the tensorflow 1.13 document of tf.layers.dense, there is a warning:\r\nWarning: THIS FUNCTION IS DEPRECATED. It will be removed in a future version. Instructions for updating: Use keras.layers.dense instead.\r\n\r\nI am very confused, because this function is very easy to use, and I used it very frequently. Why do you deprecate it? \r\n\r\nBy the way, I did not find the alternative \u201ckeras.layers.dense\u201d, there is only \"keras.layers.Dense\" ", "comments": ["@chwang85 Thanks for finding this typo. Please use \"keras.layers.Dense\". Thanks!", "> @chwang85 Thanks for finding this typo. Please use \"keras.layers.Dense\". Thanks!\r\n\r\nBut why deprecate tf.layers.dense()?\r\nBut why deprecate tf.layers.dense()?\r\nBut why deprecate tf.layers.dense()?", "> @chwang85 Thanks for finding this typo. Please use \"keras.layers.Dense\". Thanks!\r\n\r\nWhy do not you deprecate tf.Session()?", "It is ridiculous to deprecate tf.layers.dense()\r\nDo you really care about the requirements of TF developers? ", "Hi @chwang85,\r\n\r\nThe plan for TensorFlow2 is, as we're doing with eager mode,  to tie state variables to python objects. The problem with `tf.layers.dense` is that it that it relies on hidden global state.\r\n\r\nSo from now on we're recommending people use the Object-oriented versions. But, we're not deleting `dense` anytime soon.\r\n\r\nWith tf2 `import tensorflow.compat.v1 as tf` should work for most programs that ran in TensorFlow 1.\r\nWe're working on extensive migration guides, that will be published here soon:\r\n\r\nhttps://github.com/tensorflow/docs/tree/master/site/en/r2/guide", "Thanks for explaining. Just one more question: \r\nFor \"outputs = tf.layers.dense(inputs, units)\", in the future, is it proper to change it to \"outputs = tf.layers.Dense(units).apply(inputs)\"?", "`layers.Dense(256)(inputs)`", "thanks. but this still seems weird. DL models is already very complicated, why use oop to make it more complicated?", "My feeling is that it makes it less complicated: It gives a clear separation defining my network, and running my network, the magic re-use in the old \"function\" style is tricky, at best. OOP also gives a clear answer to the question of \"where is the state for this layer?\": it's in the object.\r\n\r\nAnd @chwang85, could you send us a patch PR for the typo?", "OK.\r\nBut why use \"tf.keras.layers.Dense\" rather than \"tf.layers.Dense\" to replace \"tf.layers.dense\"? Does that mean \"tf.layers.Dense\" will also be deprecated in the future?", "`tf.keras.layers.Dense` and `tf.layers.Dense` will both be the same object.\r\n", "Obsoleted by #26844", "Awful apis, awful warning, awful backward compatibility.", "> > @chwang85 Thanks for finding this typo. Please use \"keras.layers.Dense\". Thanks!\r\n> \r\n> Why do not you deprecate tf.Session()?\r\n\r\nAha, `tf.Session()` is no longer needed in eager mode, which is the default mode of tf 2.0.", "How does this affect Tensorflow.js?"]}, {"number": 26143, "title": "[TF2.0] Error Logging for GradientTape", "body": "Hello everyone,\r\n\r\nI was wondering if there is an option for error logging / or could we have tf output error message for gradient calculation. In the example below, the below will output `None` values in the current setting but will output correct gradients when the `tf.Variable`s are a `float` type. My question is, could we please add an error message stating something like `gradient calculation supports only float types`?\r\n\r\nBest Regards,\r\nSeung-jae Bang\r\n\r\n```\r\ndef forward(a, b):\r\n    \"\"\"f = a * b\"\"\"\r\n    return a * b\r\n\r\nparams = [tf.Variable(1), tf.Variable(2)]\r\n\r\nwith tf.GradientTape() as tape:\r\n    result = forward(*params)\r\n\r\ntape.gradient(result, params)\r\n```\r\n**System information**\r\n\r\n* Linux\r\n* TensorFlow installed from `pip install -U tf-nightly-2.0-preview` - \"2.0.0-dev20190226\"\r\n* Python version: 3.6\r\n\r\nccing: @random-forests ", "comments": ["I'd love to approve a PR adding this test. Feel like giving it a shot?", "I would be happy to give it a shot - I haven't contributed to TF before, would you have any pointers?\r\nAlso, would tensorflow/python/eager/backprop.py be the right place to make this change?\r\n\r\ncc: @random-forests ", "Yes, the change would be to add some logging to that particular file.\n\nIf you need any more pointers, happy to help.\n\nOn Mon, Mar 4, 2019 at 5:58 PM lazysjb <notifications@github.com> wrote:\n\n> I would be happy to give it a shot - I haven't contributed to TF before,\n> would you have any pointers?\n> Also, would tensorflow/python/eager/backprop.py be the right place to make\n> this change?\n>\n> cc: @random-forests <https://github.com/random-forests>\n>\n> \u2014\n> You are receiving this because you were assigned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/26143#issuecomment-469502963>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAATxdlUmDjQehdKpLmQuotUBd4yku7iks5vTc9VgaJpZM4bTIcM>\n> .\n>\n\n\n-- \n - Alex\n", "i would also like to contribute can you please help me where i can add logging in backprop.py\r\n", "You probably want to add the warning in tape.watch here https://github.com/tensorflow/tensorflow/blob/d280d3d9b951063bf9e02ac79e248d729d33a29c/tensorflow/python/eager/backprop.py#L804 and tape.gradient here https://github.com/tensorflow/tensorflow/blob/d280d3d9b951063bf9e02ac79e248d729d33a29c/tensorflow/python/eager/backprop.py#L890", "Hi, \r\nI wish to start contributing to TensorFlow and hence would like to know if someone is already working on this issue.", "@achalagarwal I think @shashvatshahi1998 is already working on this. @shashvatshahi1998 can you confirm?", "Ya I am working on that, but anyone else who is interested can start working. ", "Hey, This would be my first contribution to tf and i would like to know whether this issue is open and if anybody is contributing to this.", "Closing this out since I understand it to be resolved by the PR. I have checked the code which output warning as expected. Thanks!", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=26143\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=26143\">No</a>\n"]}, {"number": 26142, "title": "Use keras_graph when obtaining gradients", "body": "See https://github.com/tensorflow/tensorflow/issues/26098.", "comments": ["I'm a little worried about always dropping into graph mode. (I'll respond in more depth in #26098)"]}, {"number": 26141, "title": "Python 3.6.8 and Tensorflow 1.12.0 not working on windows 2008 R2", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 2008 R2 64-bit\r\n- TensorFlow installed from (source or binary): source (pip install tensorflow)\r\n- TensorFlow version: 1.12.0\r\n- Python version: 3.6.8\r\n- Installed using virtualenv? pip? conda?: pip\r\n- GPU model and memory: 4GB RAM\r\n\r\n\r\n\r\n**Describe the problem**\r\n\r\nI'm trying to import the tensorflow 1.12.0 library in python 3.6.8 but at the initial stage itself in getting following error.\r\nPlease help me out with the same.\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\n\r\nSuccessfully installed tensorflow-1.12.0\r\n\r\nC:\\Tensorflow\\models\\research>python\r\nPython 3.6.8 (tags/v3.6.8:3c6b436a57, Dec 24 2018, 00:16:47) [MSC v.1916 64 bit (AMD64)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import tensorflow as tf\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\tensorflow\\p\r\nython\\pywrap_tensorflow.py\", line 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\tensorflow\\p\r\nython\\pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\tensorflow\\p\r\nython\\pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\imp.py\", line 243, in load\r\n_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\imp.py\", line 343, in load\r\n_dynamic\r\n    return _load(spec)\r\nImportError: DLL load failed with error code -1073741795\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\tensorflow\\_\r\n_init__.py\", line 24, in <module>\r\n    from tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-import\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\tensorflow\\p\r\nython\\__init__.py\", line 49, in <module>\r\n    from tensorflow.python import pywrap_tensorflow\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\tensorflow\\p\r\nython\\pywrap_tensorflow.py\", line 74, in <module>\r\n    raise ImportError(msg)\r\nImportError: Traceback (most recent call last):\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\tensorflow\\p\r\nython\\pywrap_tensorflow.py\", line 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\tensorflow\\p\r\nython\\pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\tensorflow\\p\r\nython\\pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\imp.py\", line 243, in load\r\n_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\imp.py\", line 343, in load\r\n_dynamic\r\n    return _load(spec)\r\nImportError: DLL load failed with error code -1073741795\r\n\r\n\r\n**Any other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n", "comments": ["Tensorflow installation logs if required\r\n\r\nC:\\Tensorflow\\models\\research>pip install tensorflow\r\nCollecting tensorflow\r\n  Using cached https://files.pythonhosted.org/packages/05/cd/c171d2e33c0192b04560ce864c26eba83fed888\r\nfe5cd9ded661b2702f2ae/tensorflow-1.12.0-cp36-cp36m-win_amd64.whl\r\nRequirement already satisfied: keras-applications>=1.0.6 in c:\\users\\administrator\\appdata\\local\\pro\r\ngrams\\python\\python36\\lib\\site-packages (from tensorflow) (1.0.7)\r\nRequirement already satisfied: absl-py>=0.1.6 in c:\\users\\administrator\\appdata\\local\\programs\\pytho\r\nn\\python36\\lib\\site-packages (from tensorflow) (0.7.0)\r\nRequirement already satisfied: tensorboard<1.13.0,>=1.12.0 in c:\\users\\administrator\\appdata\\local\\p\r\nrograms\\python\\python36\\lib\\site-packages (from tensorflow) (1.12.2)\r\nRequirement already satisfied: numpy>=1.13.3 in c:\\users\\administrator\\appdata\\local\\programs\\python\r\n\\python36\\lib\\site-packages (from tensorflow) (1.16.1)\r\nRequirement already satisfied: wheel>=0.26 in c:\\users\\administrator\\appdata\\local\\programs\\python\\p\r\nython36\\lib\\site-packages (from tensorflow) (0.33.1)\r\nRequirement already satisfied: grpcio>=1.8.6 in c:\\users\\administrator\\appdata\\local\\programs\\python\r\n\\python36\\lib\\site-packages (from tensorflow) (1.18.0)\r\nRequirement already satisfied: astor>=0.6.0 in c:\\users\\administrator\\appdata\\local\\programs\\python\\\r\npython36\\lib\\site-packages (from tensorflow) (0.7.1)\r\nRequirement already satisfied: termcolor>=1.1.0 in c:\\users\\administrator\\appdata\\local\\programs\\pyt\r\nhon\\python36\\lib\\site-packages (from tensorflow) (1.1.0)\r\nRequirement already satisfied: protobuf>=3.6.1 in c:\\users\\administrator\\appdata\\local\\programs\\pyth\r\non\\python36\\lib\\site-packages (from tensorflow) (3.6.1)\r\nRequirement already satisfied: six>=1.10.0 in c:\\users\\administrator\\appdata\\local\\programs\\python\\p\r\nython36\\lib\\site-packages (from tensorflow) (1.12.0)\r\nRequirement already satisfied: keras-preprocessing>=1.0.5 in c:\\users\\administrator\\appdata\\local\\pr\r\nograms\\python\\python36\\lib\\site-packages (from tensorflow) (1.0.9)\r\nRequirement already satisfied: gast>=0.2.0 in c:\\users\\administrator\\appdata\\local\\programs\\python\\p\r\nython36\\lib\\site-packages (from tensorflow) (0.2.2)\r\nRequirement already satisfied: h5py in c:\\users\\administrator\\appdata\\local\\programs\\python\\python36\r\n\\lib\\site-packages (from keras-applications>=1.0.6->tensorflow) (2.9.0)\r\nRequirement already satisfied: markdown>=2.6.8 in c:\\users\\administrator\\appdata\\local\\programs\\pyth\r\non\\python36\\lib\\site-packages (from tensorboard<1.13.0,>=1.12.0->tensorflow) (3.0.1)\r\nRequirement already satisfied: werkzeug>=0.11.10 in c:\\users\\administrator\\appdata\\local\\programs\\py\r\nthon\\python36\\lib\\site-packages (from tensorboard<1.13.0,>=1.12.0->tensorflow) (0.14.1)\r\nRequirement already satisfied: setuptools in c:\\users\\administrator\\appdata\\local\\programs\\python\\py\r\nthon36\\lib\\site-packages (from protobuf>=3.6.1->tensorflow) (40.6.2)\r\nInstalling collected packages: tensorflow\r\nSuccessfully installed tensorflow-1.12.0", "@akrana I think for some reason, tensorflow was not installed correctly. I had this issue earlier and resolved it. Please uninstall python and tensorflow Then reinstall using the instructions [here](https://github.com/jvishnuvardhan/Installing-TensorFlow-GPU-on-Windows-10-TF1.12). Thanks!", "Hello, \r\nI did uninstall the Python 3.6.8, reinstall Python.\r\nUninstall tensorflow, reinstall it. Still I was facing same issue\r\nI degraded the python to 3.6.6 and reinstall tensorflow, Im still facing the issue as follow\r\n\r\n<Quote>\r\nC:\\Users\\Administrator>pip uninstall tensorflow\r\nUninstalling tensorflow-1.12.0:\r\n  Would remove:\r\n    c:\\users\\administrator\\appdata\\local\\programs\\python\\python36\\lib\\site-packa\r\nges\\tensorflow-1.12.0.dist-info\\*\r\n    c:\\users\\administrator\\appdata\\local\\programs\\python\\python36\\lib\\site-packa\r\nges\\tensorflow\\*\r\n    c:\\users\\administrator\\appdata\\local\\programs\\python\\python36\\scripts\\freeze\r\n_graph.exe\r\n    c:\\users\\administrator\\appdata\\local\\programs\\python\\python36\\scripts\\saved_\r\nmodel_cli.exe\r\n    c:\\users\\administrator\\appdata\\local\\programs\\python\\python36\\scripts\\tensor\r\nboard.exe\r\n    c:\\users\\administrator\\appdata\\local\\programs\\python\\python36\\scripts\\tflite\r\n_convert.exe\r\n    c:\\users\\administrator\\appdata\\local\\programs\\python\\python36\\scripts\\toco.e\r\nxe\r\n    c:\\users\\administrator\\appdata\\local\\programs\\python\\python36\\scripts\\toco_f\r\nrom_protos.exe\r\nProceed (y/n)? y\r\n  Successfully uninstalled tensorflow-1.12.0\r\n\r\nC:\\Users\\Administrator>pip install tensorflow\r\nCollecting tensorflow\r\n  Downloading https://files.pythonhosted.org/packages/bf/58/34bfa8fa17f863333611\r\n72b3b502e805195180f19a7496ad0f6149138d55/tensorflow-1.13.1-cp36-cp36m-win_amd64.\r\nwhl (63.1MB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 63.1MB 69kB/s\r\nRequirement already satisfied: numpy>=1.13.3 in c:\\users\\administrator\\appdata\\l\r\nocal\\programs\\python\\python36\\lib\\site-packages (from tensorflow) (1.16.1)\r\nCollecting tensorflow-estimator<1.14.0rc0,>=1.13.0 (from tensorflow)\r\n  Downloading https://files.pythonhosted.org/packages/bb/48/13f49fc3fa0fdf916aa1\r\n419013bb8f2ad09674c275b4046d5ee669a46873/tensorflow_estimator-1.13.0-py2.py3-non\r\ne-any.whl (367kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 368kB 6.6MB/s\r\nRequirement already satisfied: grpcio>=1.8.6 in c:\\users\\administrator\\appdata\\l\r\nocal\\programs\\python\\python36\\lib\\site-packages (from tensorflow) (1.18.0)\r\nRequirement already satisfied: keras-applications>=1.0.6 in c:\\users\\administrat\r\nor\\appdata\\local\\programs\\python\\python36\\lib\\site-packages (from tensorflow) (1\r\n.0.7)\r\nRequirement already satisfied: gast>=0.2.0 in c:\\users\\administrator\\appdata\\loc\r\nal\\programs\\python\\python36\\lib\\site-packages (from tensorflow) (0.2.2)\r\nRequirement already satisfied: termcolor>=1.1.0 in c:\\users\\administrator\\appdat\r\na\\local\\programs\\python\\python36\\lib\\site-packages (from tensorflow) (1.1.0)\r\nRequirement already satisfied: wheel>=0.26 in c:\\users\\administrator\\appdata\\loc\r\nal\\programs\\python\\python36\\lib\\site-packages (from tensorflow) (0.33.1)\r\nRequirement already satisfied: astor>=0.6.0 in c:\\users\\administrator\\appdata\\lo\r\ncal\\programs\\python\\python36\\lib\\site-packages (from tensorflow) (0.7.1)\r\nRequirement already satisfied: six>=1.10.0 in c:\\users\\administrator\\appdata\\loc\r\nal\\programs\\python\\python36\\lib\\site-packages (from tensorflow) (1.12.0)\r\nRequirement already satisfied: absl-py>=0.1.6 in c:\\users\\administrator\\appdata\\\r\nlocal\\programs\\python\\python36\\lib\\site-packages (from tensorflow) (0.7.0)\r\nRequirement already satisfied: protobuf>=3.6.1 in c:\\users\\administrator\\appdata\r\n\\local\\programs\\python\\python36\\lib\\site-packages (from tensorflow) (3.6.1)\r\nRequirement already satisfied: keras-preprocessing>=1.0.5 in c:\\users\\administra\r\ntor\\appdata\\local\\programs\\python\\python36\\lib\\site-packages (from tensorflow) (\r\n1.0.9)\r\nCollecting tensorboard<1.14.0,>=1.13.0 (from tensorflow)\r\n  Downloading https://files.pythonhosted.org/packages/fa/7b/3ee06856ec30d5136cd2\r\n002408df1d111fcff269f3691147dbf3b8dc0ba2/tensorboard-1.13.0-py3-none-any.whl (3.\r\n2MB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3.2MB 6.6MB/s\r\nCollecting mock>=2.0.0 (from tensorflow-estimator<1.14.0rc0,>=1.13.0->tensorflow\r\n)\r\n  Downloading https://files.pythonhosted.org/packages/e6/35/f187bdf23be87092bd0f\r\n1200d43d23076cee4d0dec109f195173fd3ebc79/mock-2.0.0-py2.py3-none-any.whl (56kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 61kB 3.9MB/s\r\nRequirement already satisfied: h5py in c:\\users\\administrator\\appdata\\local\\prog\r\nrams\\python\\python36\\lib\\site-packages (from keras-applications>=1.0.6->tensorfl\r\now) (2.9.0)\r\nRequirement already satisfied: setuptools in c:\\users\\administrator\\appdata\\loca\r\nl\\programs\\python\\python36\\lib\\site-packages (from protobuf>=3.6.1->tensorflow)\r\n(40.6.2)\r\nRequirement already satisfied: werkzeug>=0.11.15 in c:\\users\\administrator\\appda\r\nta\\local\\programs\\python\\python36\\lib\\site-packages (from tensorboard<1.14.0,>=1\r\n.13.0->tensorflow) (0.14.1)\r\nRequirement already satisfied: markdown>=2.6.8 in c:\\users\\administrator\\appdata\r\n\\local\\programs\\python\\python36\\lib\\site-packages (from tensorboard<1.14.0,>=1.1\r\n3.0->tensorflow) (3.0.1)\r\nCollecting pbr>=0.11 (from mock>=2.0.0->tensorflow-estimator<1.14.0rc0,>=1.13.0-\r\n>tensorflow)\r\n  Downloading https://files.pythonhosted.org/packages/8c/7f/fed53b379500fd889707\r\nd1f6e61c2a35e12f2de87396894aff89b017d1d6/pbr-5.1.2-py2.py3-none-any.whl (107kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 112kB 6.6MB/s\r\nInstalling collected packages: pbr, mock, tensorflow-estimator, tensorboard, ten\r\nsorflow\r\n  Found existing installation: tensorboard 1.12.2\r\n    Uninstalling tensorboard-1.12.2:\r\n      Successfully uninstalled tensorboard-1.12.2\r\nSuccessfully installed mock-2.0.0 pbr-5.1.2 tensorboard-1.13.0 tensorflow-1.13.1\r\n tensorflow-estimator-1.13.0\r\n\r\nC:\\Users\\Administrator>python\r\nPython 3.6.6 (v3.6.6:4cf1f54eb7, Jun 27 2018, 03:37:03) [MSC v.1900 64 bit (AMD6\r\n4)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>>\r\n>>> import tensorflow as tf\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-p\r\nackages\\tensorflow\\python\\pywrap_tensorflow.py\", line 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-p\r\nackages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-p\r\nackages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 24, in swig_impor\r\nt_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, descript\r\nion)\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\imp.py\r\n\", line 243, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\imp.py\r\n\", line 343, in load_dynamic\r\n    return _load(spec)\r\nImportError: DLL load failed with error code -1073741795\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-p\r\nackages\\tensorflow\\__init__.py\", line 24, in <module>\r\n    from tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-im\r\nport\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-p\r\nackages\\tensorflow\\python\\__init__.py\", line 49, in <module>\r\n    from tensorflow.python import pywrap_tensorflow\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-p\r\nackages\\tensorflow\\python\\pywrap_tensorflow.py\", line 74, in <module>\r\n    raise ImportError(msg)\r\nImportError: Traceback (most recent call last):\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-p\r\nackages\\tensorflow\\python\\pywrap_tensorflow.py\", line 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-p\r\nackages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-p\r\nackages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 24, in swig_impor\r\nt_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, descript\r\nion)\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\imp.py\r\n\", line 243, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python36\\lib\\imp.py\r\n\", line 343, in load_dynamic\r\n    return _load(spec)\r\nImportError: DLL load failed with error code -1073741795\r\n\r\n\r\nFailed to load the native TensorFlow runtime.\r\n\r\nSee https://www.tensorflow.org/install/errors\r\n\r\nfor some common reasons and solutions.  Include the entire stack trace\r\nabove this error message when asking for help.\r\n>>>\r\n<Unquote>", "@akrana Looking at the error log, I see the tensorflow was not uninstalled completely for some reason. Did you follow the instructions I provided? Could you follow that and let me know if that solved installation issue? Thanks!", "I think it was resolved. I am closing the issue. Please open a new ticket when new information is available. Thanks!", "m"]}, {"number": 26140, "title": "Tensorflow 1.13.1 not available on pypi", "body": "Hello! I see that 1.13.1 has been released yesterday, but it seems like it's not yet on pypi. When will it be available?\r\n", "comments": ["I have the same problem. I can't get new TF by pip.", "I have the same issue! I can't use tensorboard on Python 3.7 unless update to 1.13.1.", "Now available on PyPI - https://pypi.org/project/tensorflow/1.13.1/"]}, {"number": 26139, "title": "bazel-bin transform_graph err, loading graph ..pb failed with can't parse pb file ", "body": "This template is for miscellaneous issues not covered by the other issue categories.\r\n\r\nFor questions on how to work with TensorFlow, or support for problems that are not verified bugs in TensorFlow, please go to [StackOverflow](https://stackoverflow.com/questions/tagged/tensorflow).\r\n\r\nIf you are reporting a vulnerability, please use the [dedicated reporting process](https://github.com/tensorflow/tensorflow/blob/master/SECURITY.md).\r\n\r\nFor high-level discussions about TensorFlow, please post to discuss@tensorflow.org, for questions about the development or internal workings of TensorFlow, or if you would like to know how to contribute to TensorFlow, please post to developers@tensorflow.org.\r\n", "comments": ["![image](https://user-images.githubusercontent.com/16379388/53418747-77c99500-3a13-11e9-968c-8a04a06e15fd.png)\r\n", "@Micy1919 Please fill the issue [template](https://github.com/tensorflow/tensorflow/issues/new?template=10-build-installation-issue.md). Could you update them if they are relevant in your case, or leave them as N/A? Along with the template, please provide as many details as possible to find the root cause of the issue. It would be great if you can provide a small code to reproduce the error. Thanks!\r\n", "I think it was resolved. I am closing the issue. Please open a new ticket when new information is available. Thanks!"]}, {"number": 26138, "title": "TensorFlow v1.12.0 Test failures on s390x", "body": "**System information**\r\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04, 18.04 s390x\r\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: NA\r\nTensorFlow installed from (source or binary): source\r\nTensorFlow version: v1.12.0\r\nPython version: 2.7.x\r\nInstalled using virtualenv? pip? conda?: Building from source\r\nBazel version (if compiling from source): v0.15.0\r\nGCC/Compiler version (if compiling from source): 7.3.0 (Ubuntu 18.04), 5.4.0 (Ubuntu 16.04)\r\nCUDA/cuDNN version: NA\r\nGPU model and memory: NA\r\n\r\n**Describe the problem**\r\nWe have build TensorFlow v1.12.0 from source on Ubuntu 16.04, 18.04 on s390x platform. Observed test failures from contrib and python module. \r\n\r\n\r\n```\r\n/tensorflow/contrib/metrics:metric_ops_test\r\n//tensorflow/contrib/distributions:independent_test\r\n//tensorflow/contrib/slim/python/slim/data:tfexample_decoder_test\r\n//tensorflow/core/util/tensor_bundle:tensor_bundle_test\r\n//tensorflow/python/kernel_tests:concat_op_test\r\n//tensorflow/python/kernel_tests:fft_ops_test\r\n//tensorflow/python/kernel_tests:segment_reduction_ops_test\r\n//tensorflow/python:cluster_test\r\n//tensorflow/python:cost_analyzer_test\r\n//tensorflow/contrib/layers:normalization_test\r\n//tensorflow/python:nn_test\r\n```\r\n\r\nMost of the tests are failing with an error: `AssertionError: Not equal to tolerance rtol, atol.\r\n`\r\nCould you please let us know the severity of these failures? Are these covering/affecting any critical functionality of TensorFlow?\r\nAccordingly, we can start debugging the test failures.\r\n\r\n\r\n", "comments": ["@gunan Could you please guide us on this?\r\n", "@Nayana-ibm Could you mention the steps you followed for the installation? Recently I had followed the instructions [here](https://github.com/rnreich/ubuntu-tensorflow-gpu-all-versions) to install TF-GPU successfully. It is best if you can uninstall python and tensorflow and reinstall freshly. Thanks!", "if the tolerances on the failures are low enough, I think we can simply loosen the tolerances on the tests.\r\nFor example, if tolerances are 1e-5, we can make them 1e-4 if it helps.\r\nIf we are seeing issues where the numbers do not match up by a lot, such as we need to make the tolerances 1e-3 or higher in the above example, that probably points to some numerical issues that need debugging.", "Hello @gunan Thanks for the quick response. /CC @Nayana-ibm \r\nFrom above list, I am working on //tensorflow/python:nn_test & //tensorflow/contrib/layers:normalization_test where I tried your suggestion of lowering tolerance by 1. \r\n\r\n* With below changes in `//tensorflow/python:nn_test` all tests pass:\r\n\r\n```diff\r\n@@ -1005,7 +1005,7 @@ class MomentsTest(test_lib.TestCase):\r\n   def doOutputTest(self,\r\n                    input_shape,\r\n                    moments_axes,\r\n-                   tol=1e-4,\r\n+                   tol=1e-3,\r\n                    check_gradients=False):\r\n     for mu in [0.0, 1.0, 1e3]:\r\n       for sigma in [1.0, 0.1]:\r\n```\r\n\r\n*  Out of 5 failing tests in `//tensorflow/contrib/layers:normalization_test`, 3 tests pass with below changes:\r\n\r\n```diff\r\n@@ -149,22 +150,22 @@ class InstanceNormTest(test.TestCase):\r\n     self.doOutputTest((10, 10, 10, 30), 'NCHW', tol=1e-2)\r\n\r\n   def testOutputBigInput4DNCHW(self):\r\n-    self.doOutputTest((1, 100, 100, 1), 'NCHW', tol=1e-3)\r\n+    self.doOutputTest((1, 100, 100, 1), 'NCHW', tol=1e-2)\r\n\r\n   def testOutputSmallInput5DNCHW(self):\r\n-    self.doOutputTest((10, 10, 10, 10, 30), 'NCHW', tol=1e-2)\r\n+    self.doOutputTest((10, 10, 10, 10, 30), 'NCHW', tol=1e-1)\r\n\r\n   def testOutputBigInput5DNCHW(self):\r\n-    self.doOutputTest((1, 100, 100, 1, 1), 'NCHW', tol=1e-3)\r\n+    self.doOutputTest((1, 100, 100, 1, 1), 'NCHW', tol=1e-2)\r\n```\r\n\r\nHowever lowering tolerance by 2, unlike above, test cases `testOutputBigInput4DNHWC` & `testOutputBigInput5DNHWC` pass as below:\r\n\r\n```diff\r\n   def testOutputBigInput4DNHWC(self):\r\n-    self.doOutputTest((1, 100, 100, 1), 'NHWC', tol=1e-3)\r\n+    self.doOutputTest((1, 100, 100, 1), 'NHWC', tol=1e-1)\r\n\r\n   def testOutputBigInput5DNHWC(self):\r\n-    self.doOutputTest((1, 100, 100, 1, 1), 'NHWC', tol=1e-3)\r\n+    self.doOutputTest((1, 100, 100, 1, 1), 'NHWC', tol=1e-1)\r\n```\r\n\r\nPlease suggest if lowering tolerance by 2 be fine for these 2 test cases? Thanks.", "Also the same test cases with existing tolerance pass on changing below lines:\r\n\r\nFor `//tensorflow/python:nn_test` test as suggested in https://github.com/tensorflow/tensorflow/issues/16540:\r\n```diff\r\n-                  input_values, shape=input_shape, dtype=dtypes.float32)\r\n+                  input_values, shape=input_shape, dtype=dtypes.float64)\r\n               mean, variance = nn_impl.moments(\r\n                   inputs, moments_axes, keep_dims=keep_dims)\r\n```\r\nand for `//tensorflow/contrib/layers:normalization_test`:\r\n```diff\r\n-        inputs = random_ops.random_uniform(input_shape, seed=0) * sigma + mu\r\n+        inputs = random_ops.random_uniform(input_shape, seed=0, dtype=dtypes.float64) * sigma + mu\r\n```\r\n\r\nCould you please comment on this too? I had raised an issue https://github.com/tensorflow/tensorflow/issues/26135 on this. Thanks.", "IMHO the need to lower the tolerances to 1e-1 I think points to real numerical issues on big endian machines.\r\nYou will need to debug TF on s390x to get to the bottom of that issue.", "It has been 14 days with no activity and the `awaiting response` label was assigned. Is this still an issue?", "Closing this out since I understand it to be resolved, but please let me know if I'm mistaken. Thanks!"]}, {"number": 26137, "title": "RandomUniform", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\n- TensorFlow installed from (source or binary):\r\n- TensorFlow version (or github SHA if from source):\r\n\r\n\r\n**Provide the text output from tflite_convert**\r\n\r\nSome of the operators in the model are not supported by the standard TensorFlow Lite runtime. If those are native TensorFlow operators, you might be able to use the extended runtime by passing --enable_select_tf_ops, or by setting target_ops=TFLITE_BUILTINS,SELECT_TF_OPS when calling tf.lite.TFLiteConverter(). Otherwise, if you have a custom implementation for them you can disable this error with --allow_custom_ops, or by setting allow_custom_ops=True when calling tf.lite.TFLiteConverter(). Here is a list of builtin operators you are using: ADD, CONV_2D, DEPTHWISE_CONV_2D, DIV, FLOOR, FULLY_CONNECTED, MAX_POOL_2D, MUL, RESHAPE, SHAPE, SUB. Here is a list of operators for which you will need custom implementations: RandomUniform", "comments": ["@cicido \r\nThank you for your post. We noticed you have not filled out the fields in the issue [template](https://github.com/tensorflow/tensorflow/issues/new?template=00-bug-performance-issue.md). Could you update them if they are relevant in your case, or leave them as N/A? Along with the template, please provide as many details as possible to find the root cause of the issue. It would be great if you can provide a small code to reproduce the error. Thanks!", "I think it was resolved. I am closing the issue. Please open a new ticket when new information is available. Thanks!"]}, {"number": 26136, "title": "Estimator.train doesn't respect the RunConfig keep_checkpoint_max limit", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\nUBUNTU 16.04.5 LTS (Xenial Xerus)\r\n- TensorFlow installed from (source or binary):\r\npip version 1.12 tensorflow-gpu\r\n- TensorFlow version (use command below):\r\n1.12.0\r\n- Python version:\r\n3.5\r\n\r\n- CUDA/cuDNN version:\r\n9.0\r\n- GPU model and memory:\r\nTesla V100 16G\r\n\r\n**Describe the current behavior**\r\nRunning Estimator training as follows, should only keep 1 checkpoint file version (latest)\r\ninstead all checkpoints are kept.\r\n\r\nsession_config = tf.ConfigProto()\r\nsession_config.allow_soft_placement = True\r\n\r\nrun_conf = RunConfig(\r\n            model_dir=out_dir,\r\n            save_summary_steps=400,\r\n            save_checkpoints_steps=5000,\r\n            keep_checkpoint_max=1,\r\n            session_config=session_config,\r\n            tf_random_seed=None, \r\n            keep_checkpoint_every_n_hours=None,\r\n            log_step_count_steps=10000, \r\n            train_distribute=None, \r\n            device_fn=None,\r\n            protocol=None,\r\n            eval_distribute=None,\r\n            experimental_distribute=None\r\n        )\r\n\r\n\r\nestimator = tf.estimator.Estimator(\r\n            model_fn=model.build_model_fn,\r\n            config=run_config,\r\n            params=params\r\n        )\r\n\r\n\r\n\r\n**Describe the expected behavior**\r\nOnly keep_checkpoint_max checkpoints should be saved\r\n\r\n\r\n\r\n\r\n", "comments": ["I also am seeing this bug, but in the opposite direction. If if I set the limit to 1000 it only keeps the default 5 checkpoints.", "any solution to this? facing the same problem as well: `save_summary_steps`, `save_checkpoints_steps` are totally ignored ", "I didn't face any issue while running this code and by keeping ` _keep_checkpoint_max=1` in the example [here](https://colab.research.google.com/github/tensorflow/docs/blob/master/site/en/guide/estimator.ipynb#scrollTo=oGFY5nW_B3YU).", "Closing this issue as it was fixed in the recent Tensorflow version. Please feel free to reopen the issue if you still have a concern. Thanks!", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/26136\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/26136\">No</a>\n"]}, {"number": 26135, "title": " //tensorflow/contrib/layers:normalization_test fails with Assertion error", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): No\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):     Linux Ubuntu 16.04 s390x\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: NA\r\n- TensorFlow installed from (source or binary): Source\r\n- TensorFlow version (use command below): 1.12.0\r\n- Python version: 2.7.12\r\n- Bazel version (if compiling from source): 0.15.0\r\n- GCC/Compiler version (if compiling from source): gcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.11)\r\n- CUDA/cuDNN version: NA\r\n- GPU model and memory: NA\r\n\r\n**Describe the current behavior**\r\npython tensorflow/contrib/layers/python/layers/normalization_test.py fails on s390x with following parameters\r\ninput_shape = (1, 100, 100, 1)\r\ndata_format =  'NCHW' and \r\ntolerance = 1e-3\r\nmu = 1e2\r\nsigma = 0.1\r\n\r\n**Describe the expected behavior**\r\nIt should pass on s390x like on Intel.\r\n\r\n**Code to reproduce the issue**\r\npython tensorflow/contrib/layers/python/layers/normalization_test.py Or\r\nbazel test -c dbg  //tensorflow/contrib/layers:normalization_test\r\n\r\nroot@1da9d9e529b7:/home/test/tensorflow# python tensorflow/contrib/layers/python/layers/normalization_test.py\r\n..name:  GroupNorm/Reshape_2\r\n......................name:  InstanceNorm/instancenorm/add_1\r\n....F.........\r\nFAIL: testOutputBigInput4DNCHW (__main__.InstanceNormTest)\r\n\r\nTraceback (most recent call last):\r\n  File \"tensorflow/contrib/layers/python/layers/normalization_test.py\", line 172, in testOutputBigInput4DNCHW\r\n    self.doOutputTest((1, 100, 100, 1), 'NCHW', tol=1e-3)\r\n  File \"tensorflow/contrib/layers/python/layers/normalization_test.py\", line 155, in doOutputTest\r\n    self.assertAllClose(expected_mean, mean, rtol=tol, atol=tol)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/test_util.py\", line 1591, in assertAllClose\r\n    self._assertAllCloseRecursive(a, b, rtol=rtol, atol=atol, msg=msg)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/test_util.py\", line 1561, in _assertAllCloseRecursive\r\n    (path_str, path_str, msg)))\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/test_util.py\", line 1496, in _assertArrayLikeAllClose\r\n    a, b, rtol=rtol, atol=atol, err_msg=\"\\n\".join(msgs), equal_nan=True)\r\n  File \"/usr/local/lib/python2.7/dist-packages/numpy/testing/utils.py\", line 1395, in assert_allclose\r\n    verbose=verbose, header=header, equal_nan=equal_nan)\r\n  File \"/usr/local/lib/python2.7/dist-packages/numpy/testing/utils.py\", line 778, in assert_array_compare\r\n    raise AssertionError(msg)\r\nAssertionError:\r\nNot equal to tolerance rtol=0.001, atol=0.001\r\nMismatched value: a is different from b.\r\nnot close where = (array([0, 0, 0, 0, 0, 0]), array([ 8, 34, 44, 78, 87, 89]))\r\nnot close lhs = [ 0.  0.  0.  0.  0.  0.]\r\nnot close rhs = [-0.00105469 -0.00128662  0.00124512  0.00106445 -0.00124512 -0.00104004]\r\nnot close dif = [ 0.00105469  0.00128662  0.00124512  0.00106445  0.00124512  0.00104004]\r\nnot close tol = [ 0.00100105  0.00100129  0.00100125  0.00100106  0.00100125  0.00100104]\r\ndtype = float64, shape = (1, 100)\r\n(mismatch 6.0%)\r\n x: array([[ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\r\n         0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\r\n         0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,...\r\n y: array([[  2.612305e-04,   1.684570e-04,  -1.342773e-04,  -1.684570e-04,\r\n         -7.495117e-04,  -3.417969e-05,  -5.371094e-05,   6.567383e-04,\r\n         -1.054688e-03,   2.319336e-04,  -1.318359e-04,  -3.222656e-04,...\r\n\r\n----------------------------------------------------------------------\r\nRan 38 tests in 16.724s\r\n\r\nFAILED (failures=1)\r\n", "comments": ["This seems related to https://github.com/tensorflow/tensorflow/issues/16540. \r\n\r\nPlease note that along with testOutputBigInput4DNCHW, 4 other subtests are failing, testOutputSmallInput5DNCHW, testOutputBigInput5DNHWC, testOutputBigInput5DNCHW, testOutputBigInput4DNHWC.\r\n\r\nAs mentioned in the issue https://github.com/tensorflow/tensorflow/issues/16540, with increasing tolerance as below it passes the test case:\r\n\r\n```diff\r\ndef testOutputBigInput4DNCHW(self):\r\n-self.doOutputTest((1, 100, 100, 1), 'NCHW', tol=1e-3)\r\n+self.doOutputTest((1, 100, 100, 1), 'NCHW', tol=4e-3)\r\n```\r\n\r\nAlso those pass on passing dtype=dtypes.float64 as an argument in [doOutputTest function](https://github.com/tensorflow/tensorflow/blob/v1.12.0/tensorflow/contrib/layers/python/layers/normalization_test.py#L115):\r\n\r\n```diff\r\nreduced_axes = tuple(reduced_axes)\r\n\r\n-inputs = random_ops.random_uniform(input_shape, seed=0) * sigma + mu\r\n+inputs = random_ops.random_uniform(input_shape, seed=0, dtype=dtypes.float64) * sigma + mu\r\noutput_op = normalization.instance_norm(\r\n  inputs, center=False, scale=False, data_format=data_format)\r\nwith self.cached_session() as sess:\r\n```\r\n\r\nI am not aware even if I dont pass dtype=dtypes.float64, it shows this value in assertion log:\r\n\r\n**dtype = float64**, shape = (1, 100) but after manually passing this argument, it passes the test case.\r\n\r\nCould you please guide me where it automatically takes this dtype from? Is there any way it treats LittleEndian and BigEndian machines and choose dtype accordingly? \r\n\r\nThanks in advance :)\r\n\r\n", "Hi @gunan Could you please share your inputs of this? \r\n\r\n/CC @Nayana-ibm ", "the changes look ok to me.\r\ncould you run these tests with these changes with --runs_per_test=100 just to make sure they are not flaky?", "Automatically closing due to lack of recent activity. Please update the issue when new information becomes available, and we will reopen the issue. Thanks!\r\n", "Hi @gunan,\r\n\r\nWith --runs_per_test=100 test cases still pass which shows tests are not flaky. We are raising PR for the same. Thanks for your support.\r\n\r\n/CC @Nayana-ibm  ", "I'm reopening this since we're still discussing the associated PR.", "Hi @martinwicke \r\nWhile debugging //tensorflow/contrib/layers:normalization_test further and keeping your inputs  https://github.com/tensorflow/tensorflow/pull/26692#issuecomment-482172077 in mind, we have following solution to fix the normalization_test. \r\nPlease find below the changes:\r\n\r\n```diff\r\ndiff --git a/tensorflow/contrib/layers/python/layers/normalization.py b/tensorflow/contrib/layers/python/layers/normalization.py\r\nindex 76b03ff514..a871707c9e 100644\r\n--- a/tensorflow/contrib/layers/python/layers/normalization.py\r\n+++ b/tensorflow/contrib/layers/python/layers/normalization.py\r\n@@ -27,7 +27,8 @@ from tensorflow.python.ops import init_ops\r\n from tensorflow.python.ops import math_ops\r\n from tensorflow.python.ops import nn\r\n from tensorflow.python.ops import variable_scope\r\n-\r\n+from tensorflow.python.framework import dtypes\r\n+import sys\r\n\r\n __all__ = [\r\n     'group_norm',\r\n@@ -91,6 +92,11 @@ def instance_norm(inputs,\r\n     ValueError: If rank or channels dimension of `inputs` is undefined.\r\n   \"\"\"\r\n   inputs = ops.convert_to_tensor(inputs)\r\n+\r\n+  # Cast `inputs` array to float64 if machine is big endian\r\n+  if sys.byteorder == \"big\" and inputs.dtype.base_dtype == dtypes.float32:\r\n+    inputs = math_ops.cast(inputs, dtypes.float64)\r\n+\r\n   inputs_shape = inputs.shape\r\n   inputs_rank = inputs.shape.ndims\r\n```\r\nPlease let us know your inputs on this.", "Hi @martinwicke,\r\nCould you please put your response on above solution?", "Hi @martinwicke Did you get chance to look at above changes?\r\n@frreiss Please share if you have any inputs on this?", "I was OOO for a while, thank you for your patience.\r\n\r\nThis looks fine to me. ", "@kbhute-ibm this fix should be ok for now. \r\n\r\nThe numeric instability that is happening here worries me, so I'll look into the underlying issue a bit more. Hopefully it's just due to different register sizes across architectures.", "The corresponding PR is merged which resolves this issue. So closing the issue. Thanks."]}, {"number": 26134, "title": "Lite: Concatenation Op Refactored", "body": "1:> Code refactored for reference_ops usage as both optimized and reference are same.\r\n2:> Error message corrected.\r\n3:> Wrong restriction removed.\r\n4:> Test case added for Quantizied Input.", "comments": ["Even though both are the same now, when we add an optimized version in optimized_ops.h, we'll have a way of selecting between ref/opt using a custom resolver, so I would leave that code as it is.", "> Even though both are the same now, when we add an optimized version in optimized_ops.h, we'll have a way of selecting between ref/opt using a custom resolver, so I would leave that code as it is.\r\n\r\n@jdduke : Completely agree with you. But i think, the code is confusing, even i had to spend some time to find out, that both are same. Also it is not very big changes to accommodate optimization kernel if added in future. May be what we can do, we can keep the Enum(KernelType), and mark a TODO by optimization type, to be added in future. What do you think?", "This is a convention we follow in most op-code, so it won't make sense to modify one implementation. IMO we can keep the current logic as-is.", "@srjoglekar246: I found many op-code which follow convention as I mentioned in my previous comment. I think if we keep the current code it loses the readability also. It's better we follow the convention which is more readable.", "@jdduke: Would you please help conclude this PR, TIA!", "@jdduke : gentle reminder for conclusion, TIA!", "The new tests are fine, but I don't think it's worth removing the kOptimized codepath yet. Instead it'd be good to figure out how to refactor the code to make it easier to have a parallel optimized/reference codepath without the if/else conditions.", "> The new tests are fine, but I don't think it's worth removing the kOptimized codepath yet. Instead it'd be good to figure out how to refactor the code to make it easier to have a parallel optimized/reference codepath without the if/else conditions.\r\n\r\n@jdduke : Thanks for the suggestion! I have handled your comment, please check and approve, Thanks!", "@jdduke : Your comments are handled now, please check, Thanks!"]}, {"number": 26132, "title": "Tensorflow hang when specify 'nccl/xring' as all reduce alg ", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):Ubuntu 16.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:No\r\n- TensorFlow installed from (source or binary):binary\r\n- TensorFlow version (use command below):1.13.0-rc0\r\n- Python version:2.7.12\r\n- Bazel version (if compiling from source):0.20.0\r\n- GCC/Compiler version (if compiling from source):5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.11)\r\n- CUDA/cuDNN version:CUDA version:9.0.176 and cuDNN version:7.2.1.38\r\n- GPU model and memory:Tesla V100 , 32480MiB\r\n\r\n**Describe the current behavior**\r\nI train NeuMF model in distribute environment, and I find that TensorFlow hang all the time when training finish.   \r\nBelow is some detail about distributed training:\r\nModel : `NeuMF`\r\nDataset : `ml-1m`\r\nNum_worker : `2`\r\nNum_gpu_each_worker: `4`\r\nStrategy : `tf.contrib.distribute.MirrorStrategy` \r\nReduce_alg : replace `pscpu/pscpu` with `nccl/xring`\r\nNccl version : `2.3.7-1+cuda9.0`\r\n\r\nThe distributed training run 120 steps then tensorflow quit when use default all reduce alg `pscpu/pscpu` of `MirrorStrategy`. And when replace default all reduce alg with `nccl/xring` , distributed training run 120 steps, but TensorFlow hang all the time. Below is screen output of two conditions:  \r\nlog when normal exit:\r\n```\r\nI0226 10:04:21.481378 140388122244864 basic_session_run_hooks.py:247] loss = 0.3570031, step = 120 (1.436 sec)\r\nI0226 10:04:21.483242 140388122244864 basic_session_run_hooks.py:680] global_step/sec: 6.96639\r\nI0226 10:04:22.065148 140388122244864 util.py:168] Finalize strategy.\r\nI0226 10:04:22.066411 140388122244864 basic_session_run_hooks.py:594] Saving checkpoints for 125 into /tmp/ncf_model/model.ckpt.\r\nI0226 10:04:22.903732 140388122244864 estimator.py:359] Loss for final step: 0.35619634.\r\nI0226 10:04:22.906255 140388122244864 data_preprocessing.py:391] Shutting down train data creation subprocess.\r\n```\r\nlog when hang:\r\n```\r\nI0226 10:13:19.793405 140644590810880 basic_session_run_hooks.py:247] loss = 0.360583, step = 100 (1.755 sec)\r\nI0226 10:13:19.795331 140644590810880 basic_session_run_hooks.py:680] global_step/sec: 5.70165\r\nI0226 10:13:21.573970 140644590810880 basic_session_run_hooks.py:247] loss = 0.35865137, step = 110 (1.781 sec)\r\nI0226 10:13:21.576019 140644590810880 basic_session_run_hooks.py:680] global_step/sec: 5.616\r\nI0226 10:13:23.344115 140644590810880 basic_session_run_hooks.py:247] loss = 0.35676146, step = 120 (1.770 sec)\r\nI0226 10:13:23.347656 140644590810880 basic_session_run_hooks.py:680] global_step/sec: 5.64505\r\n``` \r\nCompare two log,  TensorFlow do not continue to save checkpoints and output final loss when use `nccl/xring` all reduce alg. How to solve this problem, thanks.\r\n\r\n**Code to reproduce the issue**\r\nI get NeuMF model source code from official models repo, and original code only support local training with estimator, and I add below code to support distributed training:  \r\n```\r\ndistribution = tf.contrib.distribute.MirroredStrategy(\r\n    num_gpus_per_worker=num_gpus)\r\n    \r\nrun_config = tf.estimator.RunConfig(\r\n    model_dir=model_dir,\r\n    log_step_count_steps=10,\r\n    train_distribute=distribution,\u00a0               \r\n    eval_distribute=distribution)\r\n    \r\n estimator = tf.estimator.Estimator(\r\n    model_fn=model_fn,\r\n    model_dir=model_dir,\r\n    config=run_config, \r\n    params=params)\r\n    \r\n train_spec = tf.estimator.TrainSpec(\r\n    train_input_fn,max_steps=5000,hooks=train_hooks)\r\n eval_spec = tf.estimator.EvalSpec(eval_input_fn,steps=100)\r\n tf.estimator.train_and_evaluate(estimator,train_spec,eval_spec)\r\n```\r\n\r\nThe `cross device ops` implement of `MirrorStrategy`  is `MultiWorkerAllReduce`  which is defined in `tensorflow/python/distribute/cross_device_ops.py`, I change value of `all_reduce_alg`  parameter of `__init__`  of class `MultiworkerAllReduce` from `pscpu/pscpu` to `nccl/xring`.\r\n  \r\n**Other info / logs**\r\nWhen hang, stack of two worker is:\r\n```\r\n#0  0x00007f990858ba13 in epoll_wait () at ../sysdeps/unix/syscall-template.S:84\r\n#1  0x00007f988f250d98 in pollset_work () from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#2  0x00007f988f270dcf in cq_pluck(grpc_completion_queue*, void*, gpr_timespec, void*) () from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#3  0x00007f988f27119b in grpc_completion_queue_pluck () from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#4  0x00007f988f1dc898 in grpc::CoreCodegen::grpc_completion_queue_pluck(grpc_completion_queue*, void*, gpr_timespec, void*) ()\r\n   from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#5  0x00007f988882ad02 in grpc::CompletionQueue::Pluck(grpc::internal::CompletionQueueTag*) () from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#6  0x00007f988882f056 in grpc::internal::BlockingUnaryCallImpl<tensorflow::RunStepRequest, tensorflow::RunStepResponse>::BlockingUnaryCallImpl(grpc::ChannelInterface*, grpc::internal::RpcMethod const&, grpc::ClientContext*, tensorflow::RunStepRequest const&, tensorflow::RunStepResponse*) () from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#7  0x00007f988882f26d in tensorflow::grpc::MasterService::Stub::RunStep(grpc::ClientContext*, tensorflow::RunStepRequest const&, tensorflow::RunStepResponse*) ()\r\n   from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#8  0x00007f98886b3f6d in tensorflow::GrpcRemoteMaster::RunStep(tensorflow::CallOptions*, tensorflow::RunStepRequestWrapper*, tensorflow::MutableRunStepResponseWrapper*) ()\r\n   from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#9  0x00007f98886adfc9 in tensorflow::GrpcSession::RunProto(tensorflow::CallOptions*, tensorflow::MutableRunStepRequestWrapper*, tensorflow::MutableRunStepResponseWrapper*) ()\r\n   from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#10 0x00007f98886aec52 in tensorflow::GrpcSession::RunHelper(tensorflow::RunOptions const&, std::vector<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, tensorflow::Tensor>, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, tensorflow::Tensor> > > const&, std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&, std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&, std::vector<tensorflow::Tensor, std::allocator<tensorflow::Tensor> >*, tensorflow::RunMetadata*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) ()\r\n   from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#11 0x00007f98886af3e0 in tensorflow::GrpcSession::Run(tensorflow::RunOptions const&, std::vector<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, tensorflow::Tensor>, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, tensorflow::Tensor> > > const&, std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&, std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&, std::vector<tensorflow::Tensor, std::allocator<tensorflow::Tensor> >*, tensorflow::RunMetadata*) () from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#12 0x00007f9888693f42 in tensorflow::SessionRef::Run(tensorflow::RunOptions const&, std::vector<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, tensorflow::Tensor>, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, tensorflow::Tensor> > > const&, std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&, std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&, std::vector<tensorflow::Tensor, std::allocator<tensorflow::Tensor> >*, tensorflow::RunMetadata*) () from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#13 0x00007f98888997a1 in TF_Run_Helper(tensorflow::Session*, char const*, TF_Buffer const*, std::vector<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, tensorflow::Tensor>, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, tensorflow::Tensor> > > const&, std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&, TF_Tensor**, std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&, TF_Buffer*, TF_Status*) [clone .constprop.664] ()\r\n   from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#14 0x00007f9888899f9e in TF_SessionRun () from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#15 0x00007f988868fbc9 in tensorflow::TF_SessionRun_wrapper_helper(TF_Session*, char const*, TF_Buffer const*, std::vector<TF_Output, std::allocator<TF_Output> > const&, std::vector<_object*, std::allocator<_object*> > const&, std::vector<TF_Output, std::allocator<TF_Output> > const&, std::vector<TF_Operation*, std::allocator<TF_Operation*> > const&, TF_Buffer*, TF_Status*, std::vector<_object*, std::allocator<_object*> >*) () from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#16 0x00007f988868fc62 in tensorflow::TF_SessionRun_wrapper(TF_Session*, TF_Buffer const*, std::vector<TF_Output, std::allocator<TF_Output> > const&, std::vector<_object*, std::allocator<_object*> > const&, std::vector<TF_Output, std::allocator<TF_Output> > const&, std::vector<TF_Operation*, std::allocator<TF_Operation*> > const&, TF_Buffer*, TF_Status*, std::vector<_object*, std::allocator<_object*> >*) ()\r\n   from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#17 0x00007f988864a70a in _wrap_TF_SessionRun_wrapper () from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#18 0x00000000004bc4aa in PyEval_EvalFrameEx ()\r\n#19 0x00000000004b9b66 in PyEval_EvalCodeEx ()\r\n#20 0x00000000004c1f56 in PyEval_EvalFrameEx ()\r\n#21 0x00000000004b9b66 in PyEval_EvalCodeEx ()\r\n#22 0x00000000004d5669 in ?? ()\r\n#23 0x00000000004a587e in PyObject_Call ()\r\n#24 0x00000000004be51e in PyEval_EvalFrameEx ()\r\n---Type <return> to continue, or q <return> to quit---\r\n```\r\n```\r\n90      pthread_join.c: No such file or directory.\r\nbt\r\n#0  0x00007f65d1baf98d in pthread_join (threadid=140057709098752, thread_return=0x0) at pthread_join.c:90\r\n#1  0x00007f6540377b97 in std::thread::join() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#2  0x00007f654ef477a0 in tensorflow::(anonymous namespace)::StdThread::~StdThread() () from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/../libtensorflow_framework.so\r\n#3  0x00007f6551b6c032 in tensorflow::GrpcServer::Join() () from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#4  0x00007f6551be4a8c in TF_ServerJoin () from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#5  0x00007f655198d756 in _wrap_TF_ServerJoin () from /home/zxy/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#6  0x00000000004bc4aa in PyEval_EvalFrameEx ()\r\n#7  0x00000000004b9b66 in PyEval_EvalCodeEx ()\r\n#8  0x00000000004c1f56 in PyEval_EvalFrameEx ()\r\n#9  0x00000000004b9b66 in PyEval_EvalCodeEx ()\r\n#10 0x00000000004c17c6 in PyEval_EvalFrameEx ()\r\n#11 0x00000000004b9b66 in PyEval_EvalCodeEx ()\r\n#12 0x00000000004c17c6 in PyEval_EvalFrameEx ()\r\n#13 0x00000000004b9b66 in PyEval_EvalCodeEx ()\r\n#14 0x00000000004c1f56 in PyEval_EvalFrameEx ()\r\n#15 0x00000000004b9b66 in PyEval_EvalCodeEx ()\r\n#16 0x00000000004c1f56 in PyEval_EvalFrameEx ()\r\n#17 0x00000000004b9b66 in PyEval_EvalCodeEx ()\r\n#18 0x00000000004c1f56 in PyEval_EvalFrameEx ()\r\n#19 0x00000000004b9b66 in PyEval_EvalCodeEx ()\r\n#20 0x00000000004c1f56 in PyEval_EvalFrameEx ()\r\n#21 0x00000000004b9b66 in PyEval_EvalCodeEx ()\r\n#22 0x00000000004c17c6 in PyEval_EvalFrameEx ()\r\n#23 0x00000000004b9b66 in PyEval_EvalCodeEx ()\r\n#24 0x00000000004eb69f in ?? ()\r\n#25 0x00000000004e58f2 in PyRun_FileExFlags ()\r\n#26 0x00000000004e41a6 in PyRun_SimpleFileExFlags ()\r\n#27 0x00000000004938ce in Py_Main ()\r\n#28 0x00007f65d17fd830 in __libc_start_main (main=0x493370 <main>, argc=30, argv=0x7ffdb8177748, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7ffdb8177738)\r\n    at ../csu/libc-start.c:291\r\n#29 0x0000000000493299 in _start ()\r\n```\r\n", "comments": ["Could you try with `CollectiveAllReduceStrategy`?  We have very limited support for MirroredStrategy running in distributed fashion.", "`CollectiveAllReduceStrategy` is ok, but I think nccl is the best for local reduction, so there is an idea that use nccl in a worker and other method based on network for reduction between workers and `nccl/xring` achieve this idea but has problem. So does the `CollectiveAllReduceStrategy` also achieve this idea, does `CollectiveAllReduceStrategy` also use nccl for reduction in a worker? ", "Yeah, we will enable nccl implementation shortly in `CollectiveAllReduceStrategy`.", "ok, thank you.", "You can now use `tf.distribute.MultiWorkerMirroredStrategy(communication=tf.distribute.experimental.CollectiveCommunication.NCCL)` to use nccl on multiple nodes.", "thank you, I find time to have a try  and I find this problem seems be related to NCCL version in these day."]}]