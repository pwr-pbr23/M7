[{"number": 49706, "title": "ValueError: Shapes (None, 10, 10) and (None, 10) are incompatible", "body": "**System information**\r\n- Have I written custom code (link bellow):\r\n- On Google Colab using TF 2.x\r\n\r\nBefore today, my code can run without any problem. But suddenly today some error occur. \r\n\r\n`ValueError                                Traceback (most recent call last)\r\n<ipython-input-37-91d03c49a48b> in <module>()\r\n      2                          batch_size=128,\r\n      3                          epochs=40,\r\n----> 4                          validation_data=(x_val, y_val))\r\n\r\n9 frames\r\n/usr/local/lib/python3.7/dist-packages/tensorflow/python/framework/func_graph.py in wrapper(*args, **kwargs)\r\n    984           except Exception as e:  # pylint:disable=broad-except\r\n    985             if hasattr(e, \"ag_error_metadata\"):\r\n--> 986               raise e.ag_error_metadata.to_exception(e)\r\n    987             else:\r\n    988               raise\r\n\r\nValueError: in user code:\r\n\r\n    /usr/local/lib/python3.7/dist-packages/keras/engine/training.py:830 train_function  *\r\n        return step_function(self, iterator)\r\n    /usr/local/lib/python3.7/dist-packages/keras/engine/training.py:813 run_step  *\r\n        outputs = model.train_step(data)\r\n    /usr/local/lib/python3.7/dist-packages/keras/engine/training.py:771 train_step  *\r\n        loss = self.compiled_loss(\r\n    /usr/local/lib/python3.7/dist-packages/keras/engine/compile_utils.py:201 __call__  *\r\n        loss_value = loss_obj(y_t, y_p, sample_weight=sw)\r\n    /usr/local/lib/python3.7/dist-packages/keras/losses.py:142 __call__  *\r\n        losses = call_fn(y_true, y_pred)\r\n    /usr/local/lib/python3.7/dist-packages/keras/losses.py:246 call  *\r\n        return ag_fn(y_true, y_pred, **self._fn_kwargs)\r\n    /usr/local/lib/python3.7/dist-packages/tensorflow/python/util/dispatch.py:206 wrapper  **\r\n        return target(*args, **kwargs)\r\n    /usr/local/lib/python3.7/dist-packages/keras/losses.py:1631 categorical_crossentropy\r\n        y_true, y_pred, from_logits=from_logits)\r\n    /usr/local/lib/python3.7/dist-packages/tensorflow/python/util/dispatch.py:206 wrapper\r\n        return target(*args, **kwargs)\r\n    /usr/local/lib/python3.7/dist-packages/keras/backend.py:4827 categorical_crossentropy\r\n        target.shape.assert_is_compatible_with(output.shape)\r\n    /usr/local/lib/python3.7/dist-packages/tensorflow/python/framework/tensor_shape.py:1161 assert_is_compatible_with\r\n        raise ValueError(\"Shapes %s and %s are incompatible\" % (self, other))\r\n\r\n    ValueError: Shapes (None, 10, 10) and (None, 10) are incompatible`\r\n\r\n\r\nlink for colab : https://colab.research.google.com/drive/14CCxoPOE3cDGIsz8Ua6XeF-Rl9zM4KRe?usp=sharing\r\nlink for dataset : https://drive.google.com/drive/folders/1BUWx1YzE-MtL2L-YZG4r2uqwWwNjjDA6?usp=sharing\r\n\r\n\r\n", "comments": ["@ghaliayik ,\r\n\r\nI have tried to run the codein TF version  2.5. and nightly version and noticed that session is being crashed. Could you please provide a minimal code snippet which pinpoint the issue.\r\n\r\nThanks!", "@tilakrayal ,\r\nYou mean like this ?\r\n\r\n![a](https://user-images.githubusercontent.com/11738835/119650557-29074180-be4e-11eb-9264-59292bf26fc0.PNG)\r\n![b](https://user-images.githubusercontent.com/11738835/119650551-27d61480-be4e-11eb-94c7-a06aa0c2f031.PNG)\r\n\r\n", "I try to run again just now and there is no more error again. Thanks @tilakrayal ", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/49706\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/49706\">No</a>\n", "If you see the error in future: The colab environment variables are lost if the notebook is idle for sometime (not sure exact amount of time). So you my want to rerun whole notebook from top most cell and try again."]}, {"number": 49705, "title": "Add missing valuidation to FusedBatchNorm.", "body": "PiperOrigin-RevId: 372460336\nChange-Id: Ic8c4e4de67c58a741bd87f2e182bed07247d1126", "comments": []}, {"number": 49704, "title": "Prevent overflow in sparse op", "body": "PiperOrigin-RevId: 372442006\nChange-Id: I60fe31cd7e56fb3501e97c63500caf902ddeee96", "comments": []}, {"number": 49703, "title": "Prevent overflow in sparse op", "body": "PiperOrigin-RevId: 372442006\nChange-Id: I60fe31cd7e56fb3501e97c63500caf902ddeee96", "comments": []}, {"number": 49701, "title": "Prevent overflow in sparse op", "body": "PiperOrigin-RevId: 372442006\nChange-Id: I60fe31cd7e56fb3501e97c63500caf902ddeee96", "comments": []}, {"number": 49700, "title": "Prevent overflow in sparse op", "body": "PiperOrigin-RevId: 372442006\nChange-Id: I60fe31cd7e56fb3501e97c63500caf902ddeee96", "comments": []}, {"number": 49699, "title": "Fix heap OOB read in dequantize op.", "body": "Also fixes SEGV in same op\n\nPiperOrigin-RevId: 372437896\nChange-Id: I135e94d360c2a1ce374c10f7e0fed1af603dbc02", "comments": []}, {"number": 49698, "title": "Fix heap OOB read in dequantize op.", "body": "Also fixes SEGV in same op\n\nPiperOrigin-RevId: 372437896\nChange-Id: I135e94d360c2a1ce374c10f7e0fed1af603dbc02", "comments": []}, {"number": 49697, "title": "Fix heap OOB read in dequantize op.", "body": "Also fixes SEGV in same op\n\nPiperOrigin-RevId: 372437896\nChange-Id: I135e94d360c2a1ce374c10f7e0fed1af603dbc02", "comments": []}, {"number": 49696, "title": "Fix heap OOB read in dequantize op.", "body": "Also fixes SEGV in same op\n\nPiperOrigin-RevId: 372437896\nChange-Id: I135e94d360c2a1ce374c10f7e0fed1af603dbc02", "comments": []}, {"number": 49695, "title": "Fix SEGV in CTC ops", "body": "PiperOrigin-RevId: 372430279\nChange-Id: I7ec2ad9d6f4d0980c33de45d27c6b17df5c6e26f", "comments": []}, {"number": 49694, "title": "Fix SEGV in CTC ops", "body": "PiperOrigin-RevId: 372430279\nChange-Id: I7ec2ad9d6f4d0980c33de45d27c6b17df5c6e26f", "comments": []}, {"number": 49693, "title": "Fix SEGV in CTC ops", "body": "PiperOrigin-RevId: 372430279\nChange-Id: I7ec2ad9d6f4d0980c33de45d27c6b17df5c6e26f", "comments": []}, {"number": 49692, "title": "Fix SEGV in CTC ops", "body": "PiperOrigin-RevId: 372430279\nChange-Id: I7ec2ad9d6f4d0980c33de45d27c6b17df5c6e26f", "comments": []}, {"number": 49691, "title": "Prevent heap OOB error in `MaxPoolGrad`", "body": "PiperOrigin-RevId: 372424854\nChange-Id: Idac0f23867ad8b0601cafbaaa52d5e64269e63a7", "comments": []}, {"number": 49690, "title": "Prevent heap OOB error in `MaxPoolGrad`", "body": "PiperOrigin-RevId: 372424854\nChange-Id: Idac0f23867ad8b0601cafbaaa52d5e64269e63a7", "comments": []}, {"number": 49689, "title": "Prevent heap OOB error in `MaxPoolGrad`", "body": "PiperOrigin-RevId: 372424854\nChange-Id: Idac0f23867ad8b0601cafbaaa52d5e64269e63a7", "comments": []}, {"number": 49688, "title": "Prevent heap OOB error in `MaxPoolGrad`", "body": "PiperOrigin-RevId: 372424854\nChange-Id: Idac0f23867ad8b0601cafbaaa52d5e64269e63a7", "comments": []}, {"number": 49687, "title": "Validate inputs of `FractionalAvgPoolGrad`.", "body": "PiperOrigin-RevId: 372420640\nChange-Id: Icc583928e6cdc3062e12498e4d2337a8fe3da016", "comments": []}, {"number": 49686, "title": "Validate inputs of `FractionalAvgPoolGrad`.", "body": "PiperOrigin-RevId: 372420640\nChange-Id: Icc583928e6cdc3062e12498e4d2337a8fe3da016", "comments": []}, {"number": 49685, "title": "Validate inputs of `FractionalAvgPoolGrad`.", "body": "PiperOrigin-RevId: 372420640\nChange-Id: Icc583928e6cdc3062e12498e4d2337a8fe3da016", "comments": []}, {"number": 49684, "title": "Validate inputs of `FractionalAvgPoolGrad`.", "body": "PiperOrigin-RevId: 372420640\nChange-Id: Icc583928e6cdc3062e12498e4d2337a8fe3da016", "comments": []}, {"number": 49683, "title": "Validate arguments of `FractionalMaxPoolGrad`", "body": "PiperOrigin-RevId: 372274982\nChange-Id: If46b0c442efa4eaef635ce6a476717060420122c", "comments": []}, {"number": 49682, "title": "Validate arguments of `FractionalMaxPoolGrad`", "body": "PiperOrigin-RevId: 372274982\nChange-Id: If46b0c442efa4eaef635ce6a476717060420122c", "comments": []}, {"number": 49681, "title": "Validate arguments of `FractionalMaxPoolGrad`", "body": "PiperOrigin-RevId: 372274982\nChange-Id: If46b0c442efa4eaef635ce6a476717060420122c", "comments": []}, {"number": 49680, "title": "Validate arguments of `FractionalMaxPoolGrad`", "body": "PiperOrigin-RevId: 372274982\nChange-Id: If46b0c442efa4eaef635ce6a476717060420122c", "comments": []}, {"number": 49679, "title": "Fix assertion failure in pooling_ops_3d", "body": "PiperOrigin-RevId: 372364504\nChange-Id: Iecde4fe26b47a8fa935d6e2611b5585ed5777781", "comments": []}, {"number": 49678, "title": "Fix assertion failure in pooling_ops_3d", "body": "PiperOrigin-RevId: 372364504\nChange-Id: Iecde4fe26b47a8fa935d6e2611b5585ed5777781", "comments": []}, {"number": 49677, "title": "Fix assertion failure in pooling_ops_3d", "body": "PiperOrigin-RevId: 372364504\nChange-Id: Iecde4fe26b47a8fa935d6e2611b5585ed5777781", "comments": []}, {"number": 49676, "title": "Fix assertion failure in pooling_ops_3d", "body": "PiperOrigin-RevId: 372364504\nChange-Id: Iecde4fe26b47a8fa935d6e2611b5585ed5777781", "comments": []}]