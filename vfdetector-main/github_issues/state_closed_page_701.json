[{"number": 32557, "title": "python kernel restart when training xgboost estimator", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- I am using a  stock example script provided in TensorFlow):\r\nhttps://www.tensorflow.org/beta/tutorials/estimators/boosted_trees_model_understanding\r\n\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\ndebian linux intel x86_64 \r\n\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\nNA\r\n\r\n- TensorFlow installed from (source or binary):\r\nbinary via\r\npip install of tf2.0.0.rc1\r\n\r\n- TensorFlow version (use command below):\r\ntf2.0.0.rc1\r\n\r\n- Python version:\r\n3.7.4\r\n\r\n- CUDA/cuDNN version:\r\nHow to determine?\r\n- GPU model and memory:\r\nGeForce RTX 2070 8GB\r\n\r\nv2.0.0-rc0-101-gd2d2566 2.0.0-rc1\r\n\r\n\r\n> == check python ===================================================\r\n> python version: 3.7.4\r\n> python branch: \r\n> python build version: ('default', 'Aug 13 2019 20:35:49')\r\n> python compiler version: GCC 7.3.0\r\n> python implementation: CPython\r\n> \r\n> \r\n> == check os platform ===============================================\r\n> os: Linux\r\n> os kernel version: #1 SMP Debian 4.19.37-5+deb10u2 (2019-08-08)\r\n> os release version: 4.19.0-5-amd64\r\n> os platform: Linux-4.19.0-5-amd64-x86_64-with-debian-10.1\r\n> linux distribution: ('debian', '10.1', '')\r\n> linux os distribution: ('debian', '10.1', '')\r\n> mac version: ('', ('', '', ''), '')\r\n> uname: uname_result(system='Linux', node='gsd', release='4.19.0-5-amd64', version='#1 SMP Debian 4.19.37-5+deb10u2 (2019-08-08)', machine='x86_64', processor='')\r\n> architecture: ('64bit', '')\r\n> machine: x86_64\r\n> \r\n> \r\n> == are we in docker =============================================\r\n> No\r\n> \r\n> == compiler =====================================================\r\n> c++ (Debian 8.3.0-6) 8.3.0\r\n> Copyright (C) 2018 Free Software Foundation, Inc.\r\n> This is free software; see the source for copying conditions.  There is NO\r\n> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n> \r\n> \r\n> == check pips ===================================================\r\n> numpy                1.17.2              \r\n> protobuf             3.9.1               \r\n> tensorflow           2.0.0rc1            \r\n> \r\n> == check for virtualenv =========================================\r\n> False\r\n> \r\n> == tensorflow import ============================================\r\n> tf.version.VERSION = 2.0.0-rc1\r\n> tf.version.GIT_VERSION = v2.0.0-rc0-101-gd2d2566\r\n> tf.version.COMPILER_VERSION = 7.3.1 20180303\r\n>      22191:\tfind library=libpthread.so.0 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/bin/../lib/tls/haswell/x86_64:/home/davis/anaconda3/envs/py3tf2/bin/../lib/tls/haswell:/home/davis/anaconda3/envs/py3tf2/bin/../lib/tls/x86_64:/home/davis/anaconda3/envs/py3tf2/bin/../lib/tls:/home/davis/anaconda3/envs/py3tf2/bin/../lib/haswell/x86_64:/home/davis/anaconda3/envs/py3tf2/bin/../lib/haswell:/home/davis/anaconda3/envs/py3tf2/bin/../lib/x86_64:/home/davis/anaconda3/envs/py3tf2/bin/../lib\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/bin/python)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/bin/../lib/tls/haswell/x86_64/libpthread.so.0\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/bin/../lib/tls/haswell/libpthread.so.0\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/bin/../lib/tls/x86_64/libpthread.so.0\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/bin/../lib/tls/libpthread.so.0\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/bin/../lib/haswell/x86_64/libpthread.so.0\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/bin/../lib/haswell/libpthread.so.0\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/bin/../lib/x86_64/libpthread.so.0\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/bin/../lib/libpthread.so.0\r\n>      22191:\t search cache=/etc/ld.so.cache\r\n>      22191:\t  trying file=/lib/x86_64-linux-gnu/libpthread.so.0\r\n>      22191:\t\r\n>      22191:\tfind library=libc.so.6 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/bin/../lib\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/bin/python)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/bin/../lib/libc.so.6\r\n>      22191:\t search cache=/etc/ld.so.cache\r\n>      22191:\t  trying file=/lib/x86_64-linux-gnu/libc.so.6\r\n>      22191:\t\r\n>      22191:\tfind library=libdl.so.2 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/bin/../lib\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/bin/python)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/bin/../lib/libdl.so.2\r\n>      22191:\t search cache=/etc/ld.so.cache\r\n>      22191:\t  trying file=/lib/x86_64-linux-gnu/libdl.so.2\r\n>      22191:\t\r\n>      22191:\tfind library=libutil.so.1 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/bin/../lib\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/bin/python)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/bin/../lib/libutil.so.1\r\n>      22191:\t search cache=/etc/ld.so.cache\r\n>      22191:\t  trying file=/lib/x86_64-linux-gnu/libutil.so.1\r\n>      22191:\t\r\n>      22191:\tfind library=librt.so.1 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/bin/../lib\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/bin/python)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/bin/../lib/librt.so.1\r\n>      22191:\t search cache=/etc/ld.so.cache\r\n>      22191:\t  trying file=/lib/x86_64-linux-gnu/librt.so.1\r\n>      22191:\t\r\n>      22191:\tfind library=libm.so.6 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/bin/../lib\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/bin/python)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/bin/../lib/libm.so.6\r\n>      22191:\t search cache=/etc/ld.so.cache\r\n>      22191:\t  trying file=/lib/x86_64-linux-gnu/libm.so.6\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /lib/x86_64-linux-gnu/libpthread.so.0\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /lib/x86_64-linux-gnu/libc.so.6\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /lib/x86_64-linux-gnu/libm.so.6\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /lib/x86_64-linux-gnu/librt.so.1\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /lib/x86_64-linux-gnu/libutil.so.1\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /lib/x86_64-linux-gnu/libdl.so.2\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tinitialize program: /home/davis/anaconda3/envs/py3tf2/bin/python\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\ttransferring control: /home/davis/anaconda3/envs/py3tf2/bin/python\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_heapq.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_opcode.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\tfind library=libffi.so.6 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../tls/haswell/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../tls/haswell:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../tls/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../tls:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../haswell/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../haswell:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../..\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_ctypes.cpython-37m-x86_64-linux-gnu.so)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../tls/haswell/x86_64/libffi.so.6\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../tls/haswell/libffi.so.6\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../tls/x86_64/libffi.so.6\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../tls/libffi.so.6\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../haswell/x86_64/libffi.so.6\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../haswell/libffi.so.6\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../x86_64/libffi.so.6\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../libffi.so.6\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../libffi.so.6\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_ctypes.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_struct.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\tfind library=libmkl_rt.so [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../tls/haswell/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../tls/haswell:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../tls/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../tls:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../haswell/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../haswell:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../..\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/_mklinit.cpython-37m-x86_64-linux-gnu.so)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../tls/haswell/x86_64/libmkl_rt.so\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../tls/haswell/libmkl_rt.so\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../tls/x86_64/libmkl_rt.so\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../tls/libmkl_rt.so\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../haswell/x86_64/libmkl_rt.so\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../haswell/libmkl_rt.so\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../x86_64/libmkl_rt.so\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../libmkl_rt.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../libmkl_rt.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/_mklinit.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/_mklinit.cpython-37m-x86_64-linux-gnu.so: error: symbol lookup error: undefined symbol: omp_get_num_threads (fatal)\r\n>      22191:\tfind library=libiomp5.so [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../..\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/_mklinit.cpython-37m-x86_64-linux-gnu.so)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../libiomp5.so\r\n>      22191:\t\r\n>      22191:\tfind library=libgcc_s.so.1 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/bin/../lib\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/bin/python)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/bin/../lib/libgcc_s.so.1\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/bin/../lib/libgcc_s.so.1\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../libiomp5.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/core/_multiarray_umath.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/math.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_datetime.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_pickle.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/core/_multiarray_tests.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/linalg/lapack_lite.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/linalg/_umath_linalg.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\tfind library=libz.so.1 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../..\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_ctypes.cpython-37m-x86_64-linux-gnu.so)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../libz.so.1\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../libz.so.1\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/zlib.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_bz2.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\tfind library=liblzma.so.5 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../..\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_ctypes.cpython-37m-x86_64-linux-gnu.so)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../liblzma.so.5\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../liblzma.so.5\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_lzma.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/grp.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_decimal.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/fft/fftpack_lite.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/mkl_fft/_pydfti.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/random/mtrand.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\tfind library=libcrypto.so.1.1 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../..\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_ctypes.cpython-37m-x86_64-linux-gnu.so)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../libcrypto.so.1.1\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../libcrypto.so.1.1\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_hashlib.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_blake2.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_sha3.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_bisect.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_random.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../libmkl_core.so\r\n>      22191:\t\r\n>      22191:\tfind library=libittnotify.so [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/bin/../lib\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/bin/python)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/bin/../lib/libittnotify.so\r\n>      22191:\t search cache=/etc/ld.so.cache\r\n>      22191:\t search path=/lib/x86_64-linux-gnu/tls/haswell/x86_64:/lib/x86_64-linux-gnu/tls/haswell:/lib/x86_64-linux-gnu/tls/x86_64:/lib/x86_64-linux-gnu/tls:/lib/x86_64-linux-gnu/haswell/x86_64:/lib/x86_64-linux-gnu/haswell:/lib/x86_64-linux-gnu/x86_64:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu/tls/haswell/x86_64:/usr/lib/x86_64-linux-gnu/tls/haswell:/usr/lib/x86_64-linux-gnu/tls/x86_64:/usr/lib/x86_64-linux-gnu/tls:/usr/lib/x86_64-linux-gnu/haswell/x86_64:/usr/lib/x86_64-linux-gnu/haswell:/usr/lib/x86_64-linux-gnu/x86_64:/usr/lib/x86_64-linux-gnu:/lib/tls/haswell/x86_64:/lib/tls/haswell:/lib/tls/x86_64:/lib/tls:/lib/haswell/x86_64:/lib/haswell:/lib/x86_64:/lib:/usr/lib/tls/haswell/x86_64:/usr/lib/tls/haswell:/usr/lib/tls/x86_64:/usr/lib/tls:/usr/lib/haswell/x86_64:/usr/lib/haswell:/usr/lib/x86_64:/usr/lib\t\t(system search path)\r\n>      22191:\t  trying file=/lib/x86_64-linux-gnu/tls/haswell/x86_64/libittnotify.so\r\n>      22191:\t  trying file=/lib/x86_64-linux-gnu/tls/haswell/libittnotify.so\r\n>      22191:\t  trying file=/lib/x86_64-linux-gnu/tls/x86_64/libittnotify.so\r\n>      22191:\t  trying file=/lib/x86_64-linux-gnu/tls/libittnotify.so\r\n>      22191:\t  trying file=/lib/x86_64-linux-gnu/haswell/x86_64/libittnotify.so\r\n>      22191:\t  trying file=/lib/x86_64-linux-gnu/haswell/libittnotify.so\r\n>      22191:\t  trying file=/lib/x86_64-linux-gnu/x86_64/libittnotify.so\r\n>      22191:\t  trying file=/lib/x86_64-linux-gnu/libittnotify.so\r\n>      22191:\t  trying file=/usr/lib/x86_64-linux-gnu/tls/haswell/x86_64/libittnotify.so\r\n>      22191:\t  trying file=/usr/lib/x86_64-linux-gnu/tls/haswell/libittnotify.so\r\n>      22191:\t  trying file=/usr/lib/x86_64-linux-gnu/tls/x86_64/libittnotify.so\r\n>      22191:\t  trying file=/usr/lib/x86_64-linux-gnu/tls/libittnotify.so\r\n>      22191:\t  trying file=/usr/lib/x86_64-linux-gnu/haswell/x86_64/libittnotify.so\r\n>      22191:\t  trying file=/usr/lib/x86_64-linux-gnu/haswell/libittnotify.so\r\n>      22191:\t  trying file=/usr/lib/x86_64-linux-gnu/x86_64/libittnotify.so\r\n>      22191:\t  trying file=/usr/lib/x86_64-linux-gnu/libittnotify.so\r\n>      22191:\t  trying file=/lib/tls/haswell/x86_64/libittnotify.so\r\n>      22191:\t  trying file=/lib/tls/haswell/libittnotify.so\r\n>      22191:\t  trying file=/lib/tls/x86_64/libittnotify.so\r\n>      22191:\t  trying file=/lib/tls/libittnotify.so\r\n>      22191:\t  trying file=/lib/haswell/x86_64/libittnotify.so\r\n>      22191:\t  trying file=/lib/haswell/libittnotify.so\r\n>      22191:\t  trying file=/lib/x86_64/libittnotify.so\r\n>      22191:\t  trying file=/lib/libittnotify.so\r\n>      22191:\t  trying file=/usr/lib/tls/haswell/x86_64/libittnotify.so\r\n>      22191:\t  trying file=/usr/lib/tls/haswell/libittnotify.so\r\n>      22191:\t  trying file=/usr/lib/tls/x86_64/libittnotify.so\r\n>      22191:\t  trying file=/usr/lib/tls/libittnotify.so\r\n>      22191:\t  trying file=/usr/lib/haswell/x86_64/libittnotify.so\r\n>      22191:\t  trying file=/usr/lib/haswell/libittnotify.so\r\n>      22191:\t  trying file=/usr/lib/x86_64/libittnotify.so\r\n>      22191:\t  trying file=/usr/lib/libittnotify.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../libmkl_intel_thread.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../libmkl_intel_lp64.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../libmkl_avx2.so\r\n>      22191:\t\r\n>      22191:\tfind library=libtensorflow_framework.so.2 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/tls/haswell/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/tls/haswell:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/tls/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/tls:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/haswell/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/haswell:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/tls/haswell/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/tls/haswell:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/tls/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/tls:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/haswell/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/haswell:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../tls/haswell/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../tls/haswell:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../tls/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../tls:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../haswell/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../haswell:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/..\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/_pywrap_tensorflow_internal.so)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/tls/haswell/x86_64/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/tls/haswell/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/tls/x86_64/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/tls/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/haswell/x86_64/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/haswell/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/x86_64/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/tls/haswell/x86_64/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/tls/haswell/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/tls/x86_64/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/tls/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/haswell/x86_64/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/haswell/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/x86_64/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../tls/haswell/x86_64/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../tls/haswell/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../tls/x86_64/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../tls/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../haswell/x86_64/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../haswell/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../x86_64/libtensorflow_framework.so.2\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../libtensorflow_framework.so.2\r\n>      22191:\t\r\n>      22191:\tfind library=libstdc++.so.6 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/..\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/_pywrap_tensorflow_internal.so)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/libstdc++.so.6\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../libstdc++.so.6\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/bin/../lib\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/bin/python)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/bin/../lib/libstdc++.so.6\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/bin/../lib/libstdc++.so.6\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../libtensorflow_framework.so.2\r\n>      22191:\t\r\n>      22191:\tfind library=libhdfs.so [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/..\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/_pywrap_tensorflow_internal.so)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../libhdfs.so\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/..\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/_pywrap_tensorflow_internal.so)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/libhdfs.so\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../libhdfs.so\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/bin/../lib\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/bin/python)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/bin/../lib/libhdfs.so\r\n>      22191:\t search cache=/etc/ld.so.cache\r\n>      22191:\t search path=/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/lib:/usr/lib\t\t(system search path)\r\n>      22191:\t  trying file=/lib/x86_64-linux-gnu/libhdfs.so\r\n>      22191:\t  trying file=/usr/lib/x86_64-linux-gnu/libhdfs.so\r\n>      22191:\t  trying file=/lib/libhdfs.so\r\n>      22191:\t  trying file=/usr/lib/libhdfs.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/_pywrap_tensorflow_internal.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/binascii.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_posixsubprocess.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/select.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/pyexpat.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_socket.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_csv.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/fcntl.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/termios.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/framework/fast_tensor_util.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_queue.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/wrapt/_wrappers.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_json.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\tfind library=libssl.so.1.1 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../..\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_ctypes.cpython-37m-x86_64-linux-gnu.so)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../libssl.so.1.1\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../libssl.so.1.1\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_ssl.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/array.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\tfind library=libhdf5-978d01a9.so.103.0.0 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/tls/haswell/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/tls/haswell:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/tls/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/tls:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/haswell/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/haswell:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/_errors.cpython-37m-x86_64-linux-gnu.so)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/tls/haswell/x86_64/libhdf5-978d01a9.so.103.0.0\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/tls/haswell/libhdf5-978d01a9.so.103.0.0\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/tls/x86_64/libhdf5-978d01a9.so.103.0.0\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/tls/libhdf5-978d01a9.so.103.0.0\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/haswell/x86_64/libhdf5-978d01a9.so.103.0.0\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/haswell/libhdf5-978d01a9.so.103.0.0\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/x86_64/libhdf5-978d01a9.so.103.0.0\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/libhdf5-978d01a9.so.103.0.0\r\n>      22191:\t\r\n>      22191:\tfind library=libhdf5_hl-db841637.so.100.1.1 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/_errors.cpython-37m-x86_64-linux-gnu.so)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/libhdf5_hl-db841637.so.100.1.1\r\n>      22191:\t\r\n>      22191:\tfind library=libsz-1c7dd0cf.so.2.0.1 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./tls/haswell/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./tls/haswell:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./tls/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./tls:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./haswell/x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./haswell:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./x86_64:/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/.\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/libhdf5-978d01a9.so.103.0.0)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./tls/haswell/x86_64/libsz-1c7dd0cf.so.2.0.1\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./tls/haswell/libsz-1c7dd0cf.so.2.0.1\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./tls/x86_64/libsz-1c7dd0cf.so.2.0.1\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./tls/libsz-1c7dd0cf.so.2.0.1\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./haswell/x86_64/libsz-1c7dd0cf.so.2.0.1\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./haswell/libsz-1c7dd0cf.so.2.0.1\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./x86_64/libsz-1c7dd0cf.so.2.0.1\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./libsz-1c7dd0cf.so.2.0.1\r\n>      22191:\t\r\n>      22191:\tfind library=libaec-2147abcd.so.0.0.4 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/.\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/libhdf5-978d01a9.so.103.0.0)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./libaec-2147abcd.so.0.0.4\r\n>      22191:\t\r\n>      22191:\tfind library=libz-a147dcb0.so.1.2.3 [0]; searching\r\n>      22191:\t search path=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/.\t\t(RPATH from file /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/libhdf5-978d01a9.so.103.0.0)\r\n>      22191:\t  trying file=/home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./libz-a147dcb0.so.1.2.3\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./libz-a147dcb0.so.1.2.3\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./libaec-2147abcd.so.0.0.4\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./libsz-1c7dd0cf.so.2.0.1\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/libhdf5-978d01a9.so.103.0.0\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/libhdf5_hl-db841637.so.100.1.1\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/_errors.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/defs.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/_objects.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/_conv.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5r.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5t.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/utils.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22192:\tfind library=libc.so.6 [0]; searching\r\n>      22192:\t search cache=/etc/ld.so.cache\r\n>      22192:\t  trying file=/lib/x86_64-linux-gnu/libc.so.6\r\n>      22192:\t\r\n>      22192:\t\r\n>      22192:\tcalling init: /lib/x86_64-linux-gnu/libc.so.6\r\n>      22192:\t\r\n>      22192:\t\r\n>      22192:\tinitialize program: /bin/sh\r\n>      22192:\t\r\n>      22192:\t\r\n>      22192:\ttransferring control: /bin/sh\r\n>      22192:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5z.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5a.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5s.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5p.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5ac.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/_proxy.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5d.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5ds.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5f.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5g.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5i.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5fd.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5pl.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5o.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5l.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/lite/experimental/microfrontend/python/ops/_audio_microfrontend_op.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/conversion.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/c_timestamp.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/nattype.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/np_datetime.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/timezones.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/tzconversion.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/timedeltas.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/offsets.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/ccalendar.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/strptime.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/fields.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/parsing.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/period.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/frequencies.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/timestamps.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/resolution.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/hashtable.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/missing.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/lib.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslib.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/algos.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/interval.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/properties.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/hashing.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/ops.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/index.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/join.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/sparse.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/indexing.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/internals.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/unicodedata.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/mmap.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/reshape.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/window.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/skiplist.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/groupby.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/reduction.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/parsers.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/json.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/writers.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/util/_move.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/io/msgpack/_packer.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/io/msgpack/_unpacker.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling init: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/testing.cpython-37m-x86_64-linux-gnu.so\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/bin/python [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /lib/x86_64-linux-gnu/libutil.so.1 [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_heapq.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_opcode.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_ctypes.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../libffi.so.6 [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_struct.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/_mklinit.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../libiomp5.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/core/_multiarray_umath.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/math.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_datetime.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_pickle.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/core/_multiarray_tests.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/linalg/lapack_lite.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/linalg/_umath_linalg.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/zlib.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_bz2.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_lzma.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../liblzma.so.5 [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/grp.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_decimal.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/fft/fftpack_lite.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/mkl_fft/_pydfti.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/random/mtrand.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_hashlib.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_blake2.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_sha3.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_bisect.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_random.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../libmkl_intel_lp64.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../libmkl_avx2.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../libmkl_intel_thread.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../libmkl_core.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/numpy/../../../libmkl_rt.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/_pywrap_tensorflow_internal.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/binascii.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../libz.so.1 [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_posixsubprocess.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/select.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/pyexpat.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_socket.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_csv.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/fcntl.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/termios.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/framework/fast_tensor_util.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_queue.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/wrapt/_wrappers.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_json.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/_ssl.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../libssl.so.1.1 [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/../../libcrypto.so.1.1 [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/array.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/_errors.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/defs.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/_objects.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/_conv.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5r.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5t.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/utils.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5z.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5a.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5s.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5p.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5ac.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/_proxy.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5d.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5ds.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5f.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5g.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5i.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5fd.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5pl.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5o.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/h5l.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/libhdf5_hl-db841637.so.100.1.1 [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/libhdf5-978d01a9.so.103.0.0 [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./libz-a147dcb0.so.1.2.3 [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./libsz-1c7dd0cf.so.2.0.1 [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/h5py/.libs/./libaec-2147abcd.so.0.0.4 [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/lite/experimental/microfrontend/python/ops/_audio_microfrontend_op.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/../libtensorflow_framework.so.2 [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /lib/x86_64-linux-gnu/librt.so.1 [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /lib/x86_64-linux-gnu/libdl.so.2 [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/conversion.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/c_timestamp.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/nattype.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/np_datetime.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/timezones.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/tzconversion.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/timedeltas.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/offsets.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/ccalendar.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/strptime.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/fields.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/parsing.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/period.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/frequencies.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/timestamps.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslibs/resolution.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/hashtable.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/missing.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/lib.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/tslib.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/algos.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/interval.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/properties.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/hashing.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/ops.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/index.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/join.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/sparse.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/indexing.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/internals.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/unicodedata.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/lib-dynload/mmap.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/reshape.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/window.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/bin/../lib/libstdc++.so.6 [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/bin/../lib/libgcc_s.so.1 [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /lib/x86_64-linux-gnu/libm.so.6 [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/skiplist.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/groupby.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/reduction.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/parsers.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/json.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/writers.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/util/_move.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/io/msgpack/_packer.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/io/msgpack/_unpacker.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/pandas/_libs/testing.cpython-37m-x86_64-linux-gnu.so [0]\r\n>      22191:\t\r\n>      22191:\t\r\n>      22191:\tcalling fini: /lib/x86_64-linux-gnu/libpthread.so.0 [0]\r\n>      22191:\t\r\n> \r\n> == env ==========================================================\r\n> LD_LIBRARY_PATH is unset\r\n> DYLD_LIBRARY_PATH is unset\r\n> \r\n> == nvidia-smi ===================================================\r\n> Mon Sep 16 13:02:01 2019       \r\n> +-----------------------------------------------------------------------------+\r\n> | NVIDIA-SMI 418.74       Driver Version: 418.74       CUDA Version: 10.1     |\r\n> |-------------------------------+----------------------+----------------------+\r\n> | GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n> | Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n> |===============================+======================+======================|\r\n> |   0  GeForce RTX 2070    On   | 00000000:01:00.0  On |                  N/A |\r\n> | 38%   30C    P8    14W / 175W |   1249MiB /  7949MiB |      6%      Default |\r\n> +-------------------------------+----------------------+----------------------+\r\n>                                                                                \r\n> +-----------------------------------------------------------------------------+\r\n> | Processes:                                                       GPU Memory |\r\n> |  GPU       PID   Type   Process name                             Usage      |\r\n> |=============================================================================|\r\n> |    0       814      G   /usr/lib/xorg/Xorg                            34MiB |\r\n> |    0       948      G   /usr/bin/gnome-shell                          24MiB |\r\n> |    0      1171      G   /usr/lib/xorg/Xorg                           217MiB |\r\n> |    0      1250      G   /usr/bin/gnome-shell                         176MiB |\r\n> |    0      1551      G   ...uest-channel-token=12821291265308298198     8MiB |\r\n> |    0      2551      G   ...equest-channel-token=447657113308850378   786MiB |\r\n> +-----------------------------------------------------------------------------+\r\n> \r\n> == cuda libs  ===================================================\r\n> \r\n> == tensorflow installed from info ==================\r\n> Name: tensorflow\r\n> Version: 2.0.0rc1\r\n> Summary: TensorFlow is an open source machine learning framework for everyone.\r\n> Home-page: https://www.tensorflow.org/\r\n> Author-email: packages@tensorflow.org\r\n> License: Apache 2.0\r\n> Location: /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages\r\n> Required-by: \r\n> \r\n> == python version  ==============================================\r\n> (major, minor, micro, releaselevel, serial)\r\n> (3, 7, 4, 'final', 0)\r\n> \r\n> == bazel version  ===============================================\r\n> \r\n\r\n**Describe the current behavior**\r\n\r\nDuring the train of the xgboosted tree, the kernel will abort and halt.\r\n\r\n**Describe the expected behavior**\r\n\r\nThat the python kernel operate normally.\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n> import numpy as np\r\n> import pandas as pd\r\n> import tensorflow as tf\r\n> import ssl\r\n> dftrain = pd.read_csv('https://storage.googleapis.com/tf-datasets/titanic/train.csv')\r\n> dfeval = pd.read_csv('https://storage.googleapis.com/tf-datasets/titanic/eval.csv')\r\n> y_train = dftrain.pop('survived')\r\n> y_eval = dfeval.pop('survived')\r\n> try:\r\n>   %tensorflow_version 2.x\r\n> except Exception:\r\n>   pass\r\n> import tensorflow as tf\r\n> tf.random.set_seed(123)\r\n> print( \"tensorflow version = {}\".format(tf.version))\r\n> import platform\r\n> print(platform.python_version())\r\n> vocabulary = dftrain['sex'].unique()\r\n> fc = tf.feature_column\r\n> CATEGORICAL_COLUMNS = ['sex', 'n_siblings_spouses', 'parch', 'class', 'deck', 'embark_town', 'alone']\r\n> NUMERIC_COLUMNS = ['age', 'fare']\r\n>   \r\n> def one_hot_cat_column(feature_name, vocab):\r\n>     return tf.feature_column.indicator_column(\r\n>         tf.feature_column.categorical_column_with_vocabulary_list(feature_name,\r\n>                                                                 vocab))\r\n> feature_columns = []\r\n> for feature_name in CATEGORICAL_COLUMNS:\r\n>     # Need to one-hot encode categorical features.\r\n>     # He finds the unique values in each column and uses that\r\n>     # array as a vocabulary\r\n>     vocabulary = dftrain[feature_name].unique()\r\n>     feature_columns.append(one_hot_cat_column(feature_name, vocabulary))\r\n> \r\n> for feature_name in NUMERIC_COLUMNS:\r\n>     feature_columns.append(tf.feature_column.numeric_column(feature_name,dtype=tf.float32))\r\n> \r\n> example = dict(dftrain.head(1))\r\n> class_fc = tf.feature_column.indicator_column(\r\n>     tf.feature_column.categorical_column_with_vocabulary_list('class', ('First', 'Second', 'Third')))\r\n> print('Feature value: \"{}\"'.format(example['class'].iloc[0]))\r\n> print('One-hot encoded: ', tf.keras.layers.DenseFeatures([class_fc])(example).numpy())\r\n> \r\n> # Use entire batch since this is such a small dataset.\r\n> NUM_EXAMPLES = len(y_train)\r\n> \r\n> def make_input_fn(X, y, n_epochs=None, shuffle=True):\r\n>   def input_fn():\r\n>     dataset = tf.data.Dataset.from_tensor_slices((dict(X), y))\r\n>     if shuffle:\r\n>       dataset = dataset.shuffle(NUM_EXAMPLES)\r\n>     # For training, cycle thru dataset as many times as need (n_epochs=None).    \r\n>     dataset = dataset.repeat(n_epochs)\r\n>     # In memory training doesn't use batching.\r\n>     dataset = dataset.batch(NUM_EXAMPLES)\r\n>     return dataset\r\n>   return input_fn\r\n> \r\n> # Training and evaluation input functions.\r\n> train_input_fn = make_input_fn(dftrain, y_train)\r\n> eval_input_fn = make_input_fn(dfeval, y_eval, shuffle=False, n_epochs=1)\r\n> linear_est = tf.estimator.LinearClassifier(feature_columns)\r\n> \r\n> # Train model.\r\n> linear_est.train(train_input_fn, max_steps=100)\r\n> \r\n> # Evaluation.\r\n> result = linear_est.evaluate(eval_input_fn)\r\n> \r\n> # Since data fits into memory, use entire dataset per layer. It will be faster.\r\n> # Above one batch is defined as the entire dataset. \r\n> n_batches = 1\r\n> est = tf.estimator.BoostedTreesClassifier(feature_columns,\r\n>                                           n_batches_per_layer=n_batches)\r\n> \r\n> # The model will stop training once the specified number of trees is built, not \r\n> # based on the number of steps.\r\n> est.train(train_input_fn, max_steps=100)   ##### <<<<<---- this kills notebook kernel\r\n> \r\n> \r\n\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\nOutput of the est.train call at end of sample script.  This output is generated and then the jupyter notebook will pop up a dialog which says kernel has stopped.\r\n\r\n> INFO:tensorflow:Calling model_fn.\r\n> WARNING:tensorflow:From /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/feature_column/feature_column.py:2158: NumericColumn._transform_feature (from tensorflow.python.feature_column.feature_column_v2) is deprecated and will be removed in a future version.\r\n> Instructions for updating:\r\n> The old _FeatureColumn APIs are being deprecated. Please use the new FeatureColumn APIs instead.\r\n> WARNING:tensorflow:From /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/feature_column/feature_column.py:2158: IndicatorColumn._transform_feature (from tensorflow.python.feature_column.feature_column_v2) is deprecated and will be removed in a future version.\r\n> Instructions for updating:\r\n> The old _FeatureColumn APIs are being deprecated. Please use the new FeatureColumn APIs instead.\r\n> WARNING:tensorflow:From /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/feature_column/feature_column_v2.py:4302: VocabularyListCategoricalColumn._get_sparse_tensors (from tensorflow.python.feature_column.feature_column_v2) is deprecated and will be removed in a future version.\r\n> Instructions for updating:\r\n> The old _FeatureColumn APIs are being deprecated. Please use the new FeatureColumn APIs instead.\r\n> WARNING:tensorflow:From /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_core/python/feature_column/feature_column.py:2158: VocabularyListCategoricalColumn._transform_feature (from tensorflow.python.feature_column.feature_column_v2) is deprecated and will be removed in a future version.\r\n> Instructions for updating:\r\n> The old _FeatureColumn APIs are being deprecated. Please use the new FeatureColumn APIs instead.\r\n> WARNING:tensorflow:From /home/davis/anaconda3/envs/py3tf2/lib/python3.7/site-packages/tensorflow_estimator/python/estimator/canned/boosted_trees.py:161: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\n> Instructions for updating:\r\n> Use `tf.cast` instead.\r\n> INFO:tensorflow:Done calling model_fn.\r\n> INFO:tensorflow:Create CheckpointSaverHook.\r\n> WARNING:tensorflow:Issue encountered when serializing resources.\r\n> Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.\r\n> '_Resource' object has no attribute 'name'\r\n> INFO:tensorflow:Graph was finalized.\r\n> INFO:tensorflow:Running local_init_op.\r\n> INFO:tensorflow:Done running local_init_op.\r\n> WARNING:tensorflow:Issue encountered when serializing resources.\r\n> Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.\r\n> '_Resource' object has no attribute 'name'\r\n> INFO:tensorflow:Saving checkpoints for 0 into /tmp/tmpr2q3edmx/model.ckpt.\r\n> WARNING:tensorflow:Issue encountered when serializing resources.\r\n> Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.\r\n> '_Resource' object has no attribute 'name'\r\n> INFO:tensorflow:loss = 0.6931468, step = 0\r\n> WARNING:tensorflow:It seems that global step (tf.train.get_global_step) has not been increased. Current value (could be stable): 0 vs previous value: 0. You could increase the global step by passing tf.train.get_global_step() to Optimizer.apply_gradients or Optimizer.minimize.\r\n> \u200b", "comments": ["This variant from the sample code also restarts the kernel during the train of the boosted tree.\r\n\r\nhttps://www.tensorflow.org/beta/tutorials/estimators/boosted_trees", "And this variant also fails.\r\n\r\nhttps://www.tensorflow.org/beta/tutorials/estimators/boosted_trees_model_understanding\r\n", "I am not seeing any problem in the code given in the tutorials.However i tried to execute the code given by you in colab and found the `TypeError: unsupported callable`. I am attaching the gist [here](https://colab.sandbox.google.com/gist/ravikyram/9d4851dfface5fde88fb4b27a7eae896/untitled192.ipynb).\r\nIn order to expedite the trouble-shooting process, please provide a minimal standalone code to reproduce the issue reported here. Thanks", "Thanks for looking at the problem.  I'm not sure I'm following you though.\nI am using the code sample's as is.  The sample you gave in a gist is\nfailing in the collab at the same point it crashes the kernel in a jupyter\nnotebook.  Which sample is working for you?  Do you have a url?\n\n\n\nOn Tue, Sep 17, 2019 at 5:51 AM ravikyram <notifications@github.com> wrote:\n\n> I am not seeing any problem in the code given in the tutorials.However i\n> tried to execute the code given by you in colab and found the TypeError:\n> unsupported callable. I am attaching the gist here\n> <https://colab.sandbox.google.com/gist/ravikyram/9d4851dfface5fde88fb4b27a7eae896/untitled192.ipynb>\n> .\n> In order to expedite the trouble-shooting process, please provide a\n> minimal standalone code to reproduce the issue reported here. Thanks\n>\n> \u2014\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/32557?email_source=notifications&email_token=ABBXUHGCHUSGV2KX2JQG7T3QKCSBXA5CNFSM4IXFBKYKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD636KBA#issuecomment-532145412>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABBXUHDVTHMOJT4DHKV5IFTQKCSBXANCNFSM4IXFBKYA>\n> .\n>\n\n\n-- \nJohn F. Davis\n6 Kandes Court\nDurham, NC 27713\n919-888-8358\nPublic Profile https://www.linkedin.com/in/netskink\n\n\u72ec\u6811\u4e00\u5e1c\n", "Ahh, nevermind.  I see the problem.  Somehow during copy and paste, the indentation was messed up in the def make_input_fn().  Relooking at the sample here: https://www.tensorflow.org/beta/tutorials/estimators/boosted_trees fixed the problem.  Many thanks!", "Hmm. perhaps not.  I have one sample which runs in collab and another which is similar which fails in jupyter.  I'm trying to figure out why.  If its a indentation error, I'll close out the issue.", "Hmm. Perhaps its a python version problem.  [Here](https://colab.research.google.com/gist/netskink/93d00c5662dffb21fe7e8d3c2d428245/boosted_trees_sample_1.ipynb) is a colab version which works. \r\n\r\nAt the start of the file it outputs this for version info.\r\n```\r\nplatform.python_version           3.6.8\r\ntf.version.GIT_VERSION          v2.0.0-rc0-101-gd2d2566\r\ntf.version.VERSION                  2.0.0-rc1\r\ntf.__version__                           2.0.0-rc1\r\n```\r\n\r\nIn my jupyter notebook it prints and then fails at the point it calls est.train() using the tf.estimator.BoostedTreesClassifier as before.\r\n\r\n```\r\nplatform.python_version           3.7.4\r\ntf.version.GIT_VERSION          v2.0.0-rc0-101-gd2d2566\r\ntf.version.VERSION                  2.0.0-rc1\r\ntf.__version__                           2.0.0-rc1\r\n```\r\n", "Hmm. creating a new environment using 3.6.8 and the problem persists.", "So this [gist](https://colab.research.google.com/gist/netskink/5512acede5c760eac0fdc43554393736/boosted_trees_sample_1_minimal.ipynb) is as minimal as it can be.  I've duplicated the version results at the top in my jupyter session.  The end result is that it works in colab but not juypter.\r\n", "I have tried to reproduce the issue.In colab it works fine .But gives the below error in Jupyter notebook.\r\n`TypeError: In op 'AccumulatorApplyGradient', input types ([tf.string, tf.int64, tf.float32]) are not compatible with expected types ([tf.string_ref, tf.int64, tf.float32])`.Thanks!", "I have what seems to be a similar issue. When writing a tutorial class I plan to give, I train one small dense network and one CNN network on the MNIST digits data set. Everything runs smoothly until I try to predict (with identical code) using the CNN, at which point I first get a TypeError, and if I try more times my kernel restarts.\r\n\r\nI am attaching my Jupyter notebook here.\r\n[Crashing kernel by predictions.ipynb.zip](https://github.com/tensorflow/tensorflow/files/3627241/Crashing.kernel.by.predictions.ipynb.zip)\r\n\r\n", "@ravikyram how are you seeing that message?  I get these messages in the notebook cell and the jupter-notebook starting terminal:\r\n\r\n`WARNING:tensorflow:From /home/davis/anaconda3/envs/py368tf2/lib/python3.6/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nIf using Keras pass *_constraint arguments to layers.\r\nWARNING:tensorflow:From /home/davis/anaconda3/envs/py368tf2/lib/python3.6/site-packages/tensorflow_core/python/training/training_util.py:236: Variable.initialized_value (from tensorflow.python.ops.variables) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse Variable.read_value. Variables in 2.X are initialized automatically both in eager and graph (inside tf.defun) contexts.\r\nINFO:tensorflow:Calling model_fn.\r\nWARNING:tensorflow:From /home/davis/anaconda3/envs/py368tf2/lib/python3.6/site-packages/tensorflow_core/python/feature_column/feature_column.py:2158: NumericColumn._transform_feature (from tensorflow.python.feature_column.feature_column_v2) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nThe old _FeatureColumn APIs are being deprecated. Please use the new FeatureColumn APIs instead.\r\nWARNING:tensorflow:From /home/davis/anaconda3/envs/py368tf2/lib/python3.6/site-packages/tensorflow_core/python/feature_column/feature_column.py:2158: IndicatorColumn._transform_feature (from tensorflow.python.feature_column.feature_column_v2) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nThe old _FeatureColumn APIs are being deprecated. Please use the new FeatureColumn APIs instead.\r\nWARNING:tensorflow:From /home/davis/anaconda3/envs/py368tf2/lib/python3.6/site-packages/tensorflow_core/python/feature_column/feature_column_v2.py:4302: VocabularyListCategoricalColumn._get_sparse_tensors (from tensorflow.python.feature_column.feature_column_v2) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nThe old _FeatureColumn APIs are being deprecated. Please use the new FeatureColumn APIs instead.\r\nWARNING:tensorflow:From /home/davis/anaconda3/envs/py368tf2/lib/python3.6/site-packages/tensorflow_core/python/feature_column/feature_column.py:2158: VocabularyListCategoricalColumn._transform_feature (from tensorflow.python.feature_column.feature_column_v2) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nThe old _FeatureColumn APIs are being deprecated. Please use the new FeatureColumn APIs instead.\r\nWARNING:tensorflow:From /home/davis/anaconda3/envs/py368tf2/lib/python3.6/site-packages/tensorflow_estimator/python/estimator/canned/boosted_trees.py:161: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.cast` instead.\r\nWARNING:tensorflow:From /home/davis/anaconda3/envs/py368tf2/lib/python3.6/site-packages/tensorflow_estimator/python/estimator/canned/head.py:437: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.cast` instead.\r\nWARNING:tensorflow:From /home/davis/anaconda3/envs/py368tf2/lib/python3.6/site-packages/tensorflow_core/python/ops/nn_impl.py:183: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse tf.where in 2.0, which has the same broadcast rule as np.where\r\nWARNING:tensorflow:From /home/davis/anaconda3/envs/py368tf2/lib/python3.6/site-packages/tensorflow_estimator/python/estimator/model_fn.py:337: scalar (from tensorflow.python.framework.tensor_shape) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse tf.TensorShape([]).\r\nINFO:tensorflow:Done calling model_fn.\r\nINFO:tensorflow:Create CheckpointSaverHook.\r\nWARNING:tensorflow:Issue encountered when serializing resources.\r\nType is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.\r\n'_Resource' object has no attribute 'name'\r\nINFO:tensorflow:Graph was finalized.\r\nINFO:tensorflow:Running local_init_op.\r\nINFO:tensorflow:Done running local_init_op.\r\nWARNING:tensorflow:Issue encountered when serializing resources.\r\nType is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.\r\n'_Resource' object has no attribute 'name'\r\nINFO:tensorflow:Saving checkpoints for 0 into /tmp/tmp4yss1yj4/model.ckpt.\r\nWARNING:tensorflow:Issue encountered when serializing resources.\r\nType is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.\r\n'_Resource' object has no attribute 'name'\r\nINFO:tensorflow:loss = 0.6931468, step = 0\r\nWARNING:tensorflow:It seems that global step (tf.train.get_global_step) has not been increased. Current value (could be stable): 0 vs previous value: 0. You could increase the global step by passing tf.train.get_global_step() to Optimizer.apply_gradients or Optimizer.minimize.`\r\n\r\n\r\nAnd\r\n\r\n`2019-09-18 12:15:28.326990: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2019-09-18 12:15:28.349134: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 3000000000 Hz\r\n2019-09-18 12:15:28.349794: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x558578e30f60 executing computations on platform Host. Devices:\r\n2019-09-18 12:15:28.349805: I tensorflow/compiler/xla/service/service.cc:175]   StreamExecutor device (0): Host, Default Version\r\nmalloc_consolidate(): invalid chunk size\r\n[I 12:15:32.389 NotebookApp] KernelRestarter: restarting kernel (1/5), keep random ports\r\nWARNING:root:kernel 07e87839-0b80-4347-b494-3751afe1633b restarted\r\n`", "I will try this with rc2 version of tensorflow", "I'm happy to say that this error no longer occurs with 2.0 version.\r\n\r\nprint(platform.python_version())\r\nprint(tf.version.GIT_VERSION)\r\nprint(tf.version.VERSION)\r\nprint(tf.__version__)\r\n\r\n3.7.4\r\nv2.0.0-rc2-26-g64c3d38\r\n2.0.0\r\n2.0.0", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=32557\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=32557\">No</a>\n", "Actually, I am mistaken.   It does indeed fail at the same point as earlier.\r\n\r\n3.7.4\r\nv2.0.0-rc2-26-g64c3d38\r\n2.0.0\r\n2.0.0\r\n\r\n\r\nthis line \r\nest.train(train_input_fn, max_steps=100)\r\n\r\nwill print this in the jupyter-notebook\r\n\r\nThe kernel appears to have died. It will restart automatically.\r\n", "> I am not seeing any problem in the code given in the tutorials.However i tried to execute the code given by you in colab and found the `TypeError: unsupported callable`. I am attaching the gist [here](https://colab.sandbox.google.com/gist/ravikyram/9d4851dfface5fde88fb4b27a7eae896/untitled192.ipynb).\r\n> In order to expedite the trouble-shooting process, please provide a minimal standalone code to reproduce the issue reported here. Thanks\r\n\r\nin the gist provided last return(make_input_fn) was not indented properly. After correct indentation issue no longer persists.", "> I am not seeing any problem in the code given in the tutorials.However i tried to execute the code given by you in colab and found the `TypeError: unsupported callable`. I am attaching the gist [here](https://colab.sandbox.google.com/gist/ravikyram/9d4851dfface5fde88fb4b27a7eae896/untitled192.ipynb).\r\n> In order to expedite the trouble-shooting process, please provide a minimal standalone code to reproduce the issue reported here. Thanks\r\n\r\nhttps://colab.research.google.com/gist/vikas080889/e6cfc858047597f5947345f9e3bf2833/untitled0.ipynb\r\nThis is working fine in colab.", "I will test again and upload a new geist.", "> > I am not seeing any problem in the code given in the tutorials.However i tried to execute the code given by you in colab and found the `TypeError: unsupported callable`. I am attaching the gist [here](https://colab.sandbox.google.com/gist/ravikyram/9d4851dfface5fde88fb4b27a7eae896/untitled192.ipynb).\r\n> > In order to expedite the trouble-shooting process, please provide a minimal standalone code to reproduce the issue reported here. Thanks\r\n> \r\n> https://colab.research.google.com/gist/vikas080889/e6cfc858047597f5947345f9e3bf2833/untitled0.ipynb\r\n> This is working fine in colab.\r\n\r\nIt worked for me in colab as well.  It did not work in jupyter notebook.  I think the geist is out of date. I'm making an update now.", "Here is an updated geist.  [https://gist.github.com/netskink/bf6fc29a4c485723521ed38f11c02012](https://gist.github.com/netskink/bf6fc29a4c485723521ed38f11c02012)", "It fails for me too. I've tested on machine with 24GB RAM, with and without GPU (T4 16GB). Kernel linked in the gist above (https://gist.github.com/netskink/bf6fc29a4c485723521ed38f11c02012) dies.\r\n\r\nMy env:\r\n```\r\nprint(platform.python_version())\r\nprint(tf.version.GIT_VERSION)\r\nprint(tf.version.VERSION)\r\nprint(tf.__version__)\r\n```\r\n```\r\n3.5.3\r\nv2.0.0-rc2-26-g64c3d38\r\n2.0.0\r\n2.0.0\r\n```\r\n", "Same here with\r\nv2.0.0-rc2-26-g64c3d38", "I've tried again.  It still fails.  Here is some additional info with a different setup.\r\n\r\n[https://gist.github.com/netskink/768a3915f61c47887b3080a58164ddaa](https://gist.github.com/netskink/768a3915f61c47887b3080a58164ddaa)", "I tried the same miniml.py code on a tf2.0 install above.  Today I tried a tf1.15 run on the same code.  The only mod was to comment out the set random call and the keras call.  In that case it runs and it gets a heap error.  Below is an excerpt.\r\n\r\n```\r\n2019-12-12 10:40:42.309333: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2019-12-12 10:40:42.314137: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2904000000 Hz\r\n2019-12-12 10:40:42.314344: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x563beb06c120 initialized for platform Host (this does not guarantee that XLA will be used). Devices:\r\n2019-12-12 10:40:42.314360: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\nWARNING:tensorflow:Issue encountered when serializing resources.\r\nType is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.\r\n'_Resource' object has no attribute 'name'\r\nWARNING:tensorflow:Issue encountered when serializing resources.\r\nType is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.\r\n'_Resource' object has no attribute 'name'\r\nWARNING:tensorflow:It seems that global step (tf.train.get_global_step) has not been increased. Current value (could be stable): 0 vs previous value: 0. You could increase the global step by passing tf.train.get_global_step() to Optimizer.apply_gradients or Optimizer.minimize.\r\n*** Error in `python3': corrupted size vs. prev_size: 0x00007fb8040255f0 ***\r\n======= Backtrace: =========\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x70bfb)[0x7fb89f3ccbfb]\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x76fc6)[0x7fb89f3d2fc6]\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x773b8)[0x7fb89f3d33b8]\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x78dfa)[0x7fb89f3d4dfa]\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x7993e)[0x7fb89f3d593e]\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x7b35f)[0x7fb89f3d735f]\r\n/lib/x86_64-linux-gnu/libc.so.6(posix_memalign+0x3f)[0x7fb89f3d8fef]\r\n/home/davis/miniconda3/envs/tf15/lib/python3.7/site-packages/tensorflow_core/python/../libtensorflow_framework.so.1(_ZN10tensorflow4port13AlignedMallocEmi+0x27)[0x7fb851815ee7]\r\n/home/davis/miniconda3/envs/tf15/lib/python3.7/site-packages/tensorflow_core/python/../libtensorflow_framework.so.1(+0xe3751f)[0x7fb85160351f]\r\n/home/davis/miniconda3/envs/tf15/lib/python3.7/site-packages/tensorflow_core/python/../libtensorflow_framework.so.1(_ZN10tensorflow6TensorC2EPNS_9AllocatorENS_8DataTypeERKNS_11TensorShapeERKNS_20AllocationAttributesE+0xaab)[0x7fb8514ce05b]\r\n/home/davis/miniconda3/envs/tf15/lib/python3.7/site-packages/tensorflow_core/python/../libtensorflow_framework.so.1(_ZN10tensorflow15OpKernelContext15allocate_tensorENS_8DataTypeERKNS_11TensorShapeEPNS_6TensorENS_19AllocatorAttributesERKNS_20AllocationAttributesE+0x96)[0x7fb851493a36]\r\n/home/davis/miniconda3/envs/tf15/lib/python3.7/site-packages/tensorflow_core/python/../libtensorflow_framework.so.1(_ZN10tensorflow15OpKernelContext15allocate_outputEiRKNS_11TensorShapeEPPNS_6TensorENS_19AllocatorAttributesE+0xb03)[0x7fb8514948c3]\r\n/home/davis/miniconda3/envs/tf15/lib/python3.7/site-packages/tensorflow_core/python/../libtensorflow_framework.so.1(_ZN10tensorflow15OpKernelContext15allocate_outputEiRKNS_11TensorShapeEPPNS_6TensorE+0x73)[0x7fb851494a93]\r\n/home/davis/miniconda3/envs/tf15/lib/python3.7/site-packages/tensorflow_core/python/../libtensorflow_framework.so.1(_ZN10tensorflow15OpKernelContext15allocate_outputEN4absl11string_viewERKNS_11TensorShapeEPPNS_6TensorE+0x9a)[0x7fb851494c7a]\r\n/home/davis/miniconda3/envs/tf15/lib/python3.7/site-packages/tensorflow_core/python/_pywrap_tensorflow_internal.so(_ZN10tensorflow30BoostedTreesMakeStatsSummaryOp7ComputeEPNS_15OpKernelContextE+0x3e8)[0x7fb855df9c88]\r\n/home/davis/miniconda3/envs/tf15/lib/python3.7/site-packages/tensorflow_core/python/../libtensorflow_framework.so.1(+0xf7be0c)[0x7fb851747e0c]\r\n/home/davis/miniconda3/envs/tf15/lib/python3.7/site-packages/tensorflow_core/python/../libtensorflow_framework.so.1(+0xf6e575)[0x7fb85173a575]\r\n/home/davis/miniconda3/envs/tf15/lib/python3.7/site-packages/tensorflow_core/python/../libtensorflow_framework.so.1(_ZN5Eigen15ThreadPoolTemplIN10tensorflow6thread16EigenEnvironmentEE10WorkerLoopEi+0x281)[0x7fb8517f8021]\r\n/home/davis/miniconda3/envs/tf15/lib/python3.7/site-packages/tensorflow_core/python/../libtensorflow_framework.so.1(_ZNSt17_Function_handlerIFvvEZN10tensorflow6thread16EigenEnvironment12CreateThreadESt8functionIS0_EEUlvE_E9_M_invokeERKSt9_Any_data+0x48)[0x7fb8517f5718]\r\n/home/davis/miniconda3/envs/tf15/lib/python3.7/site-packages/tensorflow_core/python/../libtensorflow_framework.so.1(+0x1686b1f)[0x7fb851e52b1f]\r\n/lib/x86_64-linux-gnu/libpthread.so.0(+0x74a4)[0x7fb89f7024a4]\r\n/lib/x86_64-linux-gnu/libc.so.6(clone+0x3f)[0x7fb89f444d0f]\r\n```", "The error disappears in latest tf-nightly by running your example [here](https://colab.research.google.com/drive/1ayucxfWWYFf50jNlo3bvGP01u9iZtV3X?usp=sharing)). \r\n\r\n@netskink Can you help to verify it with tf-nightly? Thanks.", "I\u2019ll try tomorrow.  Many thanks.\n\nOn Thu, Jan 23, 2020 at 16:51 Yanhui Liang <notifications@github.com> wrote:\n\n> The error disappears in latest tf-nightly by running your example here\n> <https://colab.research.google.com/drive/1ayucxfWWYFf50jNlo3bvGP01u9iZtV3X?usp=sharing>\n> ).\n>\n> @netskink <https://github.com/netskink> Can you help to verify it with\n> tf-nightly? Thanks.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n>\n>\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/32557?email_source=notifications&email_token=ABBXUHFY6ZOWPNXED56YSBLQ7IGPFA5CNFSM4IXFBKYKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEJY7NPI#issuecomment-577894077>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/ABBXUHC47H6RUHAYNZY3PCTQ7IGPFANCNFSM4IXFBKYA>\n> .\n>\n-- \nRocking the roll like a natural man!\n", "I am having the same issue and I have no access to the nightly, what can I do to have access ? \r\n\r\n\r\n\r\nprint(platform.python_version())\r\nprint(tf.version.GIT_VERSION)\r\nprint(tf.version.VERSION)\r\nprint(tf.__version__)\r\n\r\n3.7.6\r\nv2.0.0-rc2-26-g64c3d38\r\n2.0.0\r\n2.0.0\r\n627\r\n\r\nMany thanks :)", "@Jap8nted @netskink sorry for the incorrect colab link. You may try the [gist version](https://colab.research.google.com/gist/yhliang2018/308ea6cde76dd8c1853dc1453791a078/github-issue-32557_verify.ipynb).", "I tried it, the problem remained the same. The kernel is killed. Any other think I could do?\r\n\r\n3.7.6\r\nv1.12.1-23065-g4fb7a4a\r\n2.2.0-dev20200123\r\n2.2.0-dev20200123\r\n", "Still results in segmentation fault.\r\n\r\ncode gist is [here](https://gist.github.com/netskink/078c114a2e4d1a73c853822487b9ebc0).\r\n\r\noutput is here\r\n---------------------\r\n```\r\n(tf20) davis@twenty:~/progs/tf-boost$ python minimal.py \r\n3.7.5\r\nv1.12.1-23065-g4fb7a4a\r\n2.2.0-dev20200123\r\n2.2.0-dev20200123\r\n627\r\n264\r\n{'sex': 0    male\r\nName: sex, dtype: object, 'age': 0    22.0\r\nName: age, dtype: float64, 'n_siblings_spouses': 0    1\r\nName: n_siblings_spouses, dtype: int64, 'parch': 0    0\r\nName: parch, dtype: int64, 'fare': 0    7.25\r\nName: fare, dtype: float64, 'class': 0    Third\r\nName: class, dtype: object, 'deck': 0    unknown\r\nName: deck, dtype: object, 'embark_town': 0    Southampton\r\nName: embark_town, dtype: object, 'alone': 0    n\r\nName: alone, dtype: object}\r\nIndicatorColumn(categorical_column=VocabularyListCategoricalColumn(key='class', vocabulary_list=('First', 'Second', 'Third'), dtype=tf.string, default_value=-1, num_oov_buckets=0))\r\nFeature value: \"Third\"\r\n2020-01-27 09:57:07.542085: W tensorflow/stream_executor/platform/default/dso_loader.cc:55] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory\r\n2020-01-27 09:57:07.542156: E tensorflow/stream_executor/cuda/cuda_driver.cc:313] failed call to cuInit: UNKNOWN ERROR (303)\r\n2020-01-27 09:57:07.542225: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (twenty): /proc/driver/nvidia/version does not exist\r\n2020-01-27 09:57:07.543069: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2020-01-27 09:57:07.570690: I tensorflow/core/platform/profile_utils/cpu_utils.cc:101] CPU Frequency: 2904000000 Hz\r\n2020-01-27 09:57:07.571105: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x5586b6a462d0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:\r\n2020-01-27 09:57:07.571142: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\nOne-hot encoded:  [[0. 0. 1.]]\r\nWARNING:tensorflow:Using temporary folder as model directory: /tmp/tmpkbe22k89\r\nWARNING:tensorflow:From /home/davis/miniconda3/envs/tf20/lib/python3.7/site-packages/tensorflow_estimator/python/estimator/canned/boosted_trees.py:374: VocabularyListCategoricalColumn._num_buckets (from tensorflow.python.feature_column.feature_column_v2) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nThe old _FeatureColumn APIs are being deprecated. Please use the new FeatureColumn APIs instead.\r\nWARNING:tensorflow:From /home/davis/miniconda3/envs/tf20/lib/python3.7/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1632: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nIf using Keras pass *_constraint arguments to layers.\r\nWARNING:tensorflow:From /home/davis/miniconda3/envs/tf20/lib/python3.7/site-packages/tensorflow_core/python/training/training_util.py:236: Variable.initialized_value (from tensorflow.python.ops.variables) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse Variable.read_value. Variables in 2.X are initialized automatically both in eager and graph (inside tf.defun) contexts.\r\nWARNING:tensorflow:Issue encountered when serializing resources.\r\nType is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.\r\n'_Resource' object has no attribute 'name'\r\nWARNING:tensorflow:Issue encountered when serializing resources.\r\nType is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.\r\n'_Resource' object has no attribute 'name'\r\nWARNING:tensorflow:Issue encountered when serializing resources.\r\nType is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.\r\n'_Resource' object has no attribute 'name'\r\nWARNING:tensorflow:It seems that global step (tf.train.get_global_step) has not been increased. Current value (could be stable): 0 vs previous value: 0. You could increase the global step by passing tf.train.get_global_step() to Optimizer.apply_gradients or Optimizer.minimize.\r\nSegmentation fault\r\n\r\n```", "Thanks for the update! I can see another issue is that the global step is not increased any more. Very interesting, as colab works fine but jupter notebook fails. Let me assign it to the API owner for further investigation.", "I'm encountering segmentation faults while using this estimator as well, on version 2.1.0. The backtrace is [here](https://gist.github.com/zmjjmz/52e572033f0619eb9f2786420ee92985).\r\n\r\nMy environment is:\r\n- Debian 9 x86_64\r\n- Python 3.5.3\r\n- Tensorflow v2.1.0-rc2-17-ge5bf8de 2.1.0\r\n\r\nI'd believe that this issue is related to the above issues, but if it's helpful for me to file a new ticket and reproduce it using the tutorial code I can do so later. Have there been any updates on this since February?\r\n", "As suggested [here](https://stackoverflow.com/questions/55684807/tf-estimator-gradient-boosted-classifier-suddenly-stopped-while-training/61662723#61662723), a solution is to increase n_batches_per_layer depending on the amount of training steps. For 1000 steps I could use a value of 16 but needed a value of 32 for 3000 steps.\r\n", "Thanks @s-meinhardt, that solved my segmentation fault error when training BoostedTreesClassifier model in TFX.", "@netskink I tried to reproduce the issue in TF version 2.5 on [colab](https://colab.research.google.com/gist/saikumarchalla/ca102b2677b5a831ca8b9f48ce591159/untitled78.ipynb) but I am not facing any segmentation error. Seems the issue is resolved in latest TF version. Could you please check and confirm from your end as well. Thanks!", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32557\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32557\">No</a>\n"]}, {"number": 32555, "title": "Can't import from subpackages", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10 Enterprise\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): v2.0.0rc1\r\n- Python version: 3.7.2\r\n- CUDA/cuDNN version: 10.0/7.5\r\n- GPU model and memory: GeForce GTX Titan X, 12GB\r\n\r\n**Describe the current behavior**\r\n\r\nAs of v2.0.0rc1, I can't import anything from subpackages. Attempting to do so results in the error \"ModuleNotFoundError: No module named ...\".\r\n\r\nI had upgraded to rc1 using pip. Uninstalling and reinstalling tensorflow did not help. The issue is present in both tensorflow and tensorflow-gpu. This issue is not present in v2.0.0-rc0, including after reverting to it.\r\n\r\n**Describe the expected behavior**\r\n\r\nPreviously, it has always been possible to import definitions directly from subpackages.\r\n\r\n**Code to reproduce the issue**\r\n\r\nImports like the following previously worked and now both result in the error specified above:\r\n\r\n    from tensorflow.data import *\r\n    from tensorflow.io import TFRecordWriter\r\n\r\nThe following approaches still work:\r\n\r\n    import tensorflow as tf\r\n    writer = tf.io.TFRecordWriter\r\n\r\n    from tensorflow import io\r\n    writer = io.TFRecordWriter\r\n", "comments": ["The only supported way to use TensorFlow is `import tensorflow as tf` and then access the API via `tf....` attribute lookup. All the other ways that are possible are not supported, artifacts of Python's quirks, and can and will break with no rollback.\r\n\r\nIn this case, the only case that is always guaranteed to work is\r\n\r\n```python\r\nimport tensorflow as tf\r\nwriter = tf.io.TFRecordWriter\r\n```", "Closing due to no further activity."]}, {"number": 32554, "title": "Survey on Pull Request Prioritization", "body": "Dear Pull Requests integrators,\r\nWe are an international group of researchers investigating Pull Requests management activities. We implemented an automated approach, named CARTESIAN, for prioritizing Pull Requests (PRs) received by an open-source project according to the likelihood of acceptance/response. We would like to evaluate whether CARTESIAN can help integrators when reviewing PRs. \r\nAs we noticed that your project receives many PRs daily, we have taken the liberty of contacting you. Thus, we experimented CARTESIAN on Your projects, to help you in prioritizing PRs. To know more about these results, please fill in the form below. \r\nSurvey form link: https://forms.gle/bGkj3nRH9i6ArjUx8 \r\nYour participation is voluntary and confidential. We kindly request you, ONLY to INTEGRATORS, to participate in this study which is expected to take about 15 minutes of your time. You might withdraw at any time.\r\nBest regards,\r\nMuhammad Ilyas Azeem, National Engineering Research Center of Fundamental Software, Chinese Academy of Sciences, China\r\nAndrea Di Sorbo, University of Sannio, Italy\r\nSebastiano Panichella, Zurich University of Applied Science, Switzerland\r\nAlexander Serebrenik, Eindhoven University of Technology, The Netherlands\r\n", "comments": ["Thank you for note. We generally respond to all PRs (except obviously fraudulent ones) so I am not sure we'd deliver meaningful input data. TensorFlow is also too large to deal with for a single person, so we have a hierarchical triage process that identifies the best person to decide on any specific PR. \r\n\r\nConsequently, I could not properly fill out your survey, and I don't know that anyone else can.\r\n\r\nI will close this issue. This is fantastic research!"]}, {"number": 32553, "title": "FutureWarning in TensorFlow 1.14 after NumPy update.", "body": "System information:\r\n    OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\r\n    TensorFlow installed from (source or binary): binaries from pip\r\n    TensorFlow version (use command below):1.14\r\n    Python version: 3.6.1\r\n    CUDA/cuDNN version: 10.0 with any 7.5.0\r\n    GPU model and memory: Geforce RTX 2060\r\n\r\n\r\nAfter updating the NumPy to the latest version (1.17.2+mkl),\r\nI receive the following warnings in TensorFlow 1.14:\r\n\r\n```\r\n2019-09-16T13:46:07.976+0200\tWARNING\tC:\\python\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:516: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint8 = np.dtype([(\"qint8\", np.int8, 1)])\r\n\tpy.warnings:99\r\n```\r\n```\r\n2019-09-16T13:46:07.976+0200\tWARNING\tC:\\python\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:517: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint8 = np.dtype([(\"quint8\", np.uint8, 1)])\r\n\tpy.warnings:99\r\n```\r\n```\r\n2019-09-16T13:46:07.977+0200\tWARNING\tC:\\python\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:518: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint16 = np.dtype([(\"qint16\", np.int16, 1)])\r\n\tpy.warnings:99\r\n```\r\n```\r\n2019-09-16T13:46:07.977+0200\tWARNING\tC:\\python\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:519: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint16 = np.dtype([(\"quint16\", np.uint16, 1)])\r\n\tpy.warnings:99\r\n```\r\n```\r\n2019-09-16T13:46:07.977+0200\tWARNING\tC:\\python\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:520: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint32 = np.dtype([(\"qint32\", np.int32, 1)])\r\n\tpy.warnings:99\r\n```\r\n```\r\n2019-09-16T13:46:07.977+0200\tWARNING\tC:\\python\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  np_resource = np.dtype([(\"resource\", np.ubyte, 1)])\r\n\tpy.warnings:99\r\n```\r\n```\r\n2019-09-16T13:46:09.194+0200\tWARNING\tC:\\python\\lib\\site-packages\\tensorboard\\compat\\tensorflow_stub\\dtypes.py:541: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint8 = np.dtype([(\"qint8\", np.int8, 1)])\r\n\tpy.warnings:99\r\n```\r\n```\r\n2019-09-16T13:46:09.194+0200\tWARNING\tC:\\python\\lib\\site-packages\\tensorboard\\compat\\tensorflow_stub\\dtypes.py:542: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint8 = np.dtype([(\"quint8\", np.uint8, 1)])\r\n\tpy.warnings:99\r\n```\r\n```\r\n2019-09-16T13:46:09.195+0200\tWARNING\tC:\\python\\lib\\site-packages\\tensorboard\\compat\\tensorflow_stub\\dtypes.py:543: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint16 = np.dtype([(\"qint16\", np.int16, 1)])\r\n\tpy.warnings:99\r\n```\r\n```\r\n2019-09-16T13:46:09.195+0200\tWARNING\tC:\\python\\lib\\site-packages\\tensorboard\\compat\\tensorflow_stub\\dtypes.py:544: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint16 = np.dtype([(\"quint16\", np.uint16, 1)])\r\n\tpy.warnings:99\r\n```\r\n```\r\n2019-09-16T13:46:09.195+0200\tWARNING\tC:\\python\\lib\\site-packages\\tensorboard\\compat\\tensorflow_stub\\dtypes.py:545: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint32 = np.dtype([(\"qint32\", np.int32, 1)])\r\n\tpy.warnings:99\r\n```\r\n```\r\n2019-09-16T13:46:09.195+0200\tWARNING\tC:\\python\\lib\\site-packages\\tensorboard\\compat\\tensorflow_stub\\dtypes.py:550: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  np_resource = np.dtype([(\"resource\", np.ubyte, 1)])\r\n\tpy.warnings:99\r\n```", "comments": ["@kiflowb777, In order to expedite the trouble-shooting process, please provide a code snippet to reproduce the issue reported here. Thanks!\r\n", "I believe this is closed by 3402d711846", "@kiflowb777, Associated PR has been merged. Let us know if the problem still persists. Thanks!", "Closing this issue since the associated PR has been merged. Feel free to reopen if the problem still persists. Thanks!", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32553\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32553\">No</a>\n"]}, {"number": 32552, "title": "CUDNN_STATUS_ALLOC_FAILED with minimal network and data using CUDA 10.0 and CuDNN 7.6.x", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes, see below\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\r\n- TensorFlow installed from (source or binary): binaries from pip\r\n- TensorFlow version (use command below):1.13.1 through 2.0.0rc1 (e.g., v2.0.0-rc0-101-gd2d2566eef 2.0.0-rc1)\r\n- Python version: 3.6.8 and 3.7.4\r\n- Bazel version (if compiling from source): none\r\n- GCC/Compiler version (if compiling from source): none\r\n- CUDA/cuDNN version: 10.0 with any 7.6.x\r\n- GPU model and memory: Geforce RTX 2060 (Laptop)\r\n\r\n**Describe the current behavior**\r\nCode stops with CUDNN_STATUS_ALLOC_FAILED if using CuDNN 7.6 on CUDA 10.0.\r\nCode works fine if using CuDNN <=7.5 or if using CUDA 9.0 or on different computer (Quadro M5000).\r\n(But TF 2.0 binaries require CUD 10.0, CuDNN >= 7.6.)\r\nCode also works when adding a dense layer (`model.add(layers.Dense(1))`) or changing the input shape to `(3,1)`.\r\n\r\n**Describe the expected behavior**\r\nCode finishes.\r\n\r\n**Code to reproduce the issue**\r\n```\r\nimport numpy as np\r\nfrom tensorflow.keras import layers, models, optimizers\r\n\r\nmodel = models.Sequential()\r\nmodel.add(layers.Conv1D(1, 3, input_shape=(8, 1)))\r\n\r\n\r\noptimizer = optimizers.Adam(lr=1e-6)\r\nmodel.compile(optimizer=optimizer, loss='mse')\r\nx = np.zeros((1, *model.input.shape[1:]))\r\ny = np.zeros((1, *model.output.shape[1:]))\r\nmodel.fit(x, y)\r\n```\r\n\r\n**Other info / logs**\r\nHere is some more detailed information: https://stackoverflow.com/questions/57872336/should-i-be-able-to-use-precompiled-tensorflow-2-on-a-laptop-geforce-rtx-2060-gp", "comments": ["you should add \r\n```\r\nconfig = tf.ConfigProto()\r\nconfig.gpu_options.allow_growth = True\r\ntf.keras.backend.set_session(tf.Session(config=config))\r\n```", "@babytut this I had tried before, without success. I do not believe this is related to GPU memory.\r\n\r\nAgain cleaning all drivers, and again installing the most current drivers (436.30) seems to have fixed this for now, I'll reopen if it ever comes back."]}, {"number": 32551, "title": "Session() freezes the machine.", "body": "## System info:\r\n\r\n- Ubuntu 18.04\r\n- Nvidia Drivers: 390.116\r\n- TF version: v1.13.1-0-g6612da8951 (installed using pip3)\r\n- Cuda: 10.0\r\n- CUDNN: 7.5.1\r\n- Python: 3.6.8\r\n- GPU: 2 x GeForce GTX 1080 Ti\r\n\r\n## Description\r\n\r\nI have 5 alienware machines that have been working for over one year with the above configuration. Last week I noticed that tensorflow does not work anymore when I try to open a session:\r\n```\r\nimport tensorflow as tf \r\nsess = tf.Session()\r\n```\r\nIf I do so it freezes completely my pc. I'll try to add a screen after I post this message. I insist that for all the machines I am experiencing the very same problem.\r\n\r\n", "comments": ["[SOLVED]\r\n\r\nMy solution was this:\r\n\r\n1. remove completely nvidia drivers with `sudo apt-get purge nvidia-*`\r\n2. __[IMPORTANT]__ autoremove dependencies `sudo apt-get autoremove`\r\n3. install new version of the drivers: `sudo apt-get install nvidia-driver-430`\r\n\r\nSorry to have bothered you all.\r\n"]}, {"number": 32550, "title": "Timeline reports incorrect GPU memory usage", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): conda (binary)\r\n- TensorFlow version (use command below): 1.14 gpu\r\n- Python version: 3.6.7\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: 10.0\r\n- GPU model and memory:\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\n\r\nMy objective is to measure the amount of GPU memory needed by BERT during the inference process. I have already set the TF_FORCE_GPU_ALLOW_GROWTH (or a paraphrase thereof, I don't remember the exact flag) to true. NVIDIA-SMI shows a usage of ~2500 MB for a batch size of 227. \r\n\r\n1. Even if the allow growth is true, the tensorflow allocation is taking place in steps. I see the same peak usage in nvidia-smi for batch sizes 16, 32, 64 and then it jumps up suddenly. Usage for batch sizes 128 through 227 is as above, while for batch size 228, it is suddenly 4495MB. Hence, this measurement does not serve my purpose. It clearly depends more on the allocator behaviour than the network size + activations size.\r\n\r\n2. Timeline visualisation in chrome trace format shows a peak allocation on GPU_0_bfc as ~418MB for a batch size of 227. This is way too low. If I compare it with nvidia-smi trace (peaking at ~2500MB) this makes no sense.\r\n\r\n3. Tensorboard visualisation somehow shows the BERT node as using 175MB. Again, it makes no sense.\r\n\r\n**Describe the expected behavior**\r\nPlease help me get an accurate measurement of how much memory my current model and batch size is really taking to run on a GPU with TF. The only trustworthy metric I see in this labyrinth is nvidia-smi, but only for the batch sizes at which it suddenly steps up.\r\n\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\nCan use the google research bert and profile for memory using ProfilerHooks.\r\n\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n", "comments": ["@smr97, In order to expedite the trouble-shooting process, please provide a code snippet to reproduce the issue reported here. Thanks!\r\n", "This can be reproduced with [this](https://github.com/google-research/bert) repository. You just need to add the hooks for profiling. I have a modified model which is unfortunately proprietary, but this issue is definitely generic, and can be reproduced as above.", "Any update on this issue? I am also trying to find the accurate GPU memory usage by models. I am loading a resnet(99MB) and inception v3(92MB) model with a tf serving docker image, with the TF_FORCE_GPU_ALLOW_GROWTH flag. Based on reports of nvidia-smi, the GPU usage differs on machines with different capacity. You can find my observations in a comment [here](https://github.com/tensorflow/serving/issues/1496)", "Hi There,\n\n We are checking to see if you still need help on this, as you are using an older version of tensorflow which is officially considered end of life . We recommend that you upgrade to the latest 2.x version and let us know if the issue still persists in newer versions. Please open a new issue for any help you need against 2.x, and we will get you the right help. \n\n This issue will be closed automatically 7 days from now. If you still need help with this issue, please provide us with more information.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32550\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32550\">No</a>\n"]}, {"number": 32549, "title": "Chief-worker should waitting for all other workers.", "body": "<em>Please make sure that this is a feature request. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version (you are using): tensorflow1.12\r\n- Are you willing to contribute it (Yes/No): No\r\n\r\n\r\n**Describe the feature and the current behavior/state.**\r\nUse Ps-worker mode.\r\nWhen I use Estimator or MonitoredTrainingSession, I should have a chief-worker.\r\nChief-worker will do some chief-only hooks, like CheckpointSaverHook.\r\nBut now, I can't guarantee that chief-worker will quit before all other workers.\r\nIf chief-worker is quitted before all others workers, nobody will do the CheckpointSaverHook.\r\n\r\n**Will this change the current api? How?**\r\nI have no elegant idea so far.\r\n\r\n**Who will benefit with this feature?**\r\nAll.\r\n\r\n**Any Other info.**\r\nSo how can I fix the problem? Maybe you can offer some good ideas. \r\n\r\nThanks so much :)\r\n", "comments": ["@rchao Hi rchao\uff0csorry to trouble you, can you help?  :) \r\nThanks ~", "@shanshanpt, thanks for the question. If you're using Estimator, you can specify the hooks to run on workers in the `tf.estimator.EstimatorSpec` object you construct to return from your `model_fn`. If you're using `tf.compat.v1.train.MonitoredTrainingSession`, you can directory pass in the hooks. Hopefully this helps.", "> @shanshanpt, thanks for the question. If you're using Estimator, you can specify the hooks to run on workers in the `tf.estimator.EstimatorSpec` object you construct to return from your `model_fn`. If you're using `tf.compat.v1.train.MonitoredTrainingSession`, you can directory pass in the hooks. Hopefully this helps.\r\n\r\nI'm Sorry, maybe I didn't describe it clearly.\r\nThis is what my codes like:\r\n\r\n```\r\nsess = MonitoredTrainingSession(...)\r\nwhile not sess.should_stop():\r\n    do something ...\r\n```\r\n\r\nAnd only chief-worker can do the CheckpointSaverHook. If chief-worker is quitted before all others workers, no other workers will do the CheckpointSaverHook. But other workers are still doing the training-task. No worker will save the checkpoint now.\r\nSo I think there should a function to promise that chief-worker exit after all other workers.\r\n: ) \r\n", "> > @shanshanpt, thanks for the question. If you're using Estimator, you can specify the hooks to run on workers in the `tf.estimator.EstimatorSpec` object you construct to return from your `model_fn`. If you're using `tf.compat.v1.train.MonitoredTrainingSession`, you can directory pass in the hooks. Hopefully this helps.\r\n> \r\n> I'm Sorry, maybe I didn't describe it clearly.\r\n> This is what my codes like:\r\n> \r\n> ```\r\n> sess = MonitoredTrainingSession(...)\r\n> while not sess.should_stop():\r\n>     do something ...\r\n> ```\r\n> \r\n> And only chief-worker can do the CheckpointSaverHook. If chief-worker is quitted before all others workers, no other workers will do the CheckpointSaverHook. But other workers are still doing the training-task. No worker will save the checkpoint now.\r\n> So I think there should a function to promise that chief-worker exit after all other workers.\r\n> : )\r\n\r\nHave you figured out how to solve this problem"]}, {"number": 32548, "title": "tensorflow 2rc1 Failed to get convolution algorithm. This is probably because cuDNN failed to initialize, so try looking to see if a warning log message was printed above.", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): - Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 18.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): 2rc1\r\n- Python version: 3.6.7\r\n- Bazel version (if compiling from source): \r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: 10.1\r\n- GPU model and memory: GeForce RTX 2070 - 8GRAM\r\n\r\n\r\n**Describe the current behavior**\r\nMy program crashes when I try to execute it.\r\n\r\n**Describe the expected behavior**\r\nI want to fit my model to the dataset. \r\n\r\n**Code to reproduce the issue**\r\n\r\n```\r\nfrom __future__ import absolute_import, division, print_function, unicode_literals\r\n\r\nimport numpy as np\r\nimport tensorflow as tf\r\n\r\nDATA_URL = 'https://storage.googleapis.com/tensorflow/tf-keras-datasets/mnist.npz'\r\n\r\npath = tf.keras.utils.get_file('mnist.npz', DATA_URL)\r\nwith np.load(path) as data:\r\n  train_examples = data['x_train']\r\n  train_labels = data['y_train']\r\n  test_examples = data['x_test']\r\n  test_labels = data['y_test']\r\n\r\n\r\ntrain_examples = train_examples.reshape((-1, 28, 28, 1))\r\ntrain_dataset = tf.data.Dataset.from_tensor_slices((train_examples, train_labels))\r\ntest_dataset = tf.data.Dataset.from_tensor_slices((test_examples, test_labels))\r\nBATCH_SIZE = 64\r\nSHUFFLE_BUFFER_SIZE = 100\r\n\r\ntrain_dataset = train_dataset.shuffle(SHUFFLE_BUFFER_SIZE).batch(BATCH_SIZE)\r\n\r\nmodel = tf.keras.Sequential()\r\nmodel.add(tf.keras.layers.Conv2D(32, (3, 3), activation='relu', input_shape=(28, 28, 1)))\r\nmodel.add(tf.keras.layers.MaxPooling2D((2, 2)))\r\nmodel.add(tf.keras.layers.Flatten())\r\nmodel.add(tf.keras.layers.Dense(128, activation='relu'))\r\nmodel.add(tf.keras.layers.Dense(10, activation='softmax'))\r\n\r\n\r\nmodel.compile(optimizer=tf.keras.optimizers.RMSprop(),\r\n                loss=tf.keras.losses.SparseCategoricalCrossentropy(),\r\n                metrics=[tf.keras.metrics.SparseCategoricalAccuracy()])\r\n\r\nmodel.fit(train_dataset, epochs=10)\r\n```\r\n\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n**Other info / logs**\r\n\r\nI've tried to do use these options which didn't help:\r\n\r\n\r\n```\r\n# 1st option\r\nphysical_devices = tf.config.experimental.list_physical_devices('GPU')\r\ntf.config.experimental.set_memory_growth(physical_devices[0], True)\r\n```\r\n\r\n\r\n```\r\n# 2nd option\r\nconfig = tf.compat.v1.ConfigProto()\r\nconfig.gpu_options.allow_growth = True\r\nsess = tf.compat.v1.Session(config=config)\r\n```\r\n\r\nI would be grateful for help \r\n\r\n\r\n\r\n", "comments": ["You should add something like that\r\n\r\n```\r\nconfig = tf.ConfigProto()\r\nconfig.gpu_options.allow_growth = True\r\ntf.keras.backend.set_session(tf.Session(config=config))\r\n```", "> You should add something like that\r\n> \r\n> ```\r\n> config = tf.ConfigProto()\r\n> config.gpu_options.allow_growth = True\r\n> tf.keras.backend.set_session(tf.Session(config=config))\r\n> ```\r\n\r\nHi, \r\nI tried it but I get an error of - \r\n\r\n`\r\nTraceback (most recent call last):\r\n  File \"/media/alon/hdd/try1/tf2_example_load_numpy.py\", line 15, in <module>\r\n    tf.keras.backend.set_session(tf.compat.v1.Session(config=config))\r\nAttributeError: module 'tensorflow_core.keras.backend' has no attribute 'set_session'\r\n`\r\n\r\nAre you sure it works on tf 2?", "@alon1samuel, I tried on colab it executed as expected. Please take a look at colab [gist](https://colab.sandbox.google.com/gist/gadagashwini/44b8bf34a49d3bf06307449a978053ca/untitled152.ipynb). Thanks! ", "> @alon1samuel, I tried on colab it executed as expected. Please take a look at colab [gist](https://colab.sandbox.google.com/gist/gadagashwini/44b8bf34a49d3bf06307449a978053ca/untitled152.ipynb). Thanks!\r\n\r\nHi, \r\nThanks for the response and the idea on how to run this. \r\nI'm afraid my purpose was to run this algorithm locally on my computer. \r\n\r\nIs there a way to add or change code lines in order for the algorithm to run locally? \r\nOr would you say that in tf2 there's no way for that, currently?\r\n\r\nRegards,", "Have you checked the warnings preceding that error?\r\nI'm having the same issue after upgrading TF2 to the RC (release candidate) version. In my case it seems there is a mismatch between installed and compiled version of CuDNN (7.4.1 vs 7.6), which I'm trying to solve at the moment (without success so far)", "I'm getting the same error running the RC version in AWS AMI, so this is not just my environment. According to the [TF2 documentation](https://www.tensorflow.org/install/gpu), it should be ok with CuDNN 7.4, right? ", "> Have you checked the warnings preceding that error?\r\n> I'm having the same issue after upgrading TF2 to the RC (release candidate) version. In my case it seems there is a mismatch between installed and compiled version of CuDNN (7.4.1 vs 7.6), which I'm trying to solve at the moment (without success so far)\r\n\r\nI'm not getting warnings when I'm running this code...\r\nMaybe I can check some other stuff?", "Is there news regarding the bug? @jvishnuvardhan ", "It happens to me also in version 2.0.0 (in the official release)", "@alon1samuel I tested it on colab and I don't see any error. May be this is more related to GPU drivers. Can you check a simple code that runs on GPU or just [`tf.test.is_gpu_available`](https://www.tensorflow.org/api_docs/python/tf/test/is_gpu_available)? I will check it later tomorrow on a GPU at home. Thanks!", "Hello. My system info is `tf.__version__=2.0.0, cuda.version=10.0.130, cuDNN.version=7.6.4`. And when I use `tf.keras.layers.Conv2D`, it shows the error \"Failed to get convolution algorithm. This is probably because cuDNN failed to initialize.\", howerver, it can use `tf.keras.layers.Dense` to train model without creating any problems.\r\nMy solution is \r\n```physical_devices = tf.config.experimental.list_physical_devices('GPU')``` \r\n```tf.config.experimental.set_memory_growth(physical_devices[0], True) ```\r\nThen it will be good to train with Conv2D.\r\nI want to know why this helps. And I know these instructions are to make GPU apply memory when it need.\r\nThanks a lot.", "> Hello. My system info is `tf.__version__=2.0.0, cuda.version=10.0.130, cuDNN.version=7.6.4`. And when I use `tf.keras.layers.Conv2D`, it shows the error \"Failed to get convolution algorithm. This is probably because cuDNN failed to initialize.\", howerver, it can use `tf.keras.layers.Dense` to train model without creating any problems.\r\n> My solution is\r\n> `physical_devices = tf.config.experimental.list_physical_devices('GPU')`\r\n> `tf.config.experimental.set_memory_growth(physical_devices[0], True) `\r\n> Then it will be good to train with Conv2D.\r\n> I want to know why this helps. And I know these instructions are to make GPU apply memory when it need.\r\n> Thanks a lot.\r\n\r\nThanks for this answer, it helped me know some more about the problem. \r\nIt still doesn't work. but now it also says that my CUDNN-7.4.2 and source was compiled with 7.6.0. \r\nI've updated my cudnn to 7.6.4 and now it works!!! :) :) :) :+1: :+1: :100: \r\n\r\nHere is the error that was issued for if someone wants to know:\r\n\r\n\r\n2019-11-03 09:20:32.326324: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0\r\n2019-11-03 09:20:32.326347: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0\r\n2019-11-03 09:20:32.326366: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10.0\r\n2019-11-03 09:20:32.326385: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10.0\r\n2019-11-03 09:20:32.326403: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10.0\r\n2019-11-03 09:20:32.326421: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10.0\r\n2019-11-03 09:20:32.326441: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7\r\n2019-11-03 09:20:32.328514: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1746] Adding visible gpu devices: 0\r\n2019-11-03 09:20:32.338509: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0\r\n2019-11-03 09:20:32.340039: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1159] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2019-11-03 09:20:32.340055: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1165]      0 \r\n2019-11-03 09:20:32.340062: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1178] 0:   N \r\n2019-11-03 09:20:32.346288: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1304] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 6761 MB memory) -> physical GPU (device: 0, name: GeForce RTX 2070, pci bus id: 0000:17:00.0, compute capability: 7.5)\r\nEpoch 1/10\r\n2019-11-03 09:20:45.674047: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0\r\n2019-11-03 09:20:46.299255: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7\r\n2019-11-03 09:20:48.026792: E tensorflow/stream_executor/cuda/cuda_dnn.cc:319] Loaded runtime CuDNN library: 7.4.2 but source was compiled with: 7.6.0.  CuDNN library major and minor version needs to match or have higher minor version in case of CuDNN 7.0 or later version. If using a binary install, upgrade your CuDNN library.  If building from sources, make sure the library loaded at runtime is compatible with the version specified during compile configuration.\r\n2019-11-03 09:20:48.028412: E tensorflow/stream_executor/cuda/cuda_dnn.cc:319] Loaded runtime CuDNN library: 7.4.2 but source was compiled with: 7.6.0.  CuDNN library major and minor version needs to match or have higher minor version in case of CuDNN 7.0 or later version. If using a binary install, upgrade your CuDNN library.  If building from sources, make sure the library loaded at runtime is compatible with the version specified during compile configuration.\r\n2019-11-03 09:20:48.029369: W tensorflow/core/common_runtime/base_collective_executor.cc:216] BaseCollectiveExecutor::StartAbort Unknown: Failed to get convolution algorithm. This is probably because cuDNN failed to initialize, so try looking to see if a warning log message was printed above.\r\n\t [[{{node sequential/conv2d/Conv2D}}]]\r\n\r\n", "@alon1samuel Please close the issue if it was already resolved for you. If you have any more concerns, please let us know. Thanks!", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32548\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32548\">No</a>\n"]}, {"number": 32547, "title": "tensorflow.contrib.integrate.odeint does not work with the default __call__ method of subclass of tf.Keras.layers.Layer", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 19.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): both 1.14 and 1.15-rc0\r\n- Python version: 3.7\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: 10.1/7.0\r\n- GPU model and memory: Titan RTX, 24 GB\r\n\r\n**Describe the current behavior**\r\n__For Tensorflow 1.14:__\r\nWhen defining ODE function using the default `__call__` method of any subclass of `tf.Keras.layers.Layer`, an `ValueError` is raised, stating `VarIsInitializedOp` has been marked as not fetchable. To avoid this issue, the ODE function has to be defined using either pure TensorFlow functions, or the `call` method of the subclass instead of `__call__`. \r\n__For Tensorflow 1.15-rc0:__\r\nThe same code will run forever without error message. The above solution (using `call` instead of `__call__`) also applies here. \r\n\r\n**Describe the expected behavior**\r\n`tensorflow.contrib.integrate.odeint` should work with the default `__call__` method of any subclass of `tf.Keras.layers.Layer` under both TensorFlow 1.14 and 1.15-rc0.\r\n\r\n**Code to reproduce the issue**\r\n```python\r\nimport tensorflow as tf\r\nfrom tensorflow.python.keras import backend, layers, Input\r\nbackend.clear_session()\r\nfrom tensorflow.contrib.integrate import odeint\r\n\r\nx = Input(shape=(10,))\r\nl0 = layers.Dense(units=10)\r\nl0.build(x.shape)  # this line is necessary only to make call work\r\n\r\ndef ode_func(h, t, *ode_params):\r\n    return l0(h)  # l0.call(h) avoids the error which is hacky\r\n\r\nts = tf.constant([0., 1.], dtype=tf.float64)\r\nh_ts = odeint(ode_func, x, ts)\r\n```\r\n\r\n**Other info / logs**\r\n<details><summary>For TensorFlow 1.14: ValueError: '.../VarIsInitializedOp' not fetchable; click here for detailed logs.</summary>\r\n<p>\r\n\r\n```python\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-3-ad0e95799922> in <module>()\r\n     13 print('code start')\r\n     14 \r\n---> 15 h_ts = odeint(ode_func, x, ts)\r\n     16 \r\n     17 print('code finished')\r\n\r\n23 frames\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/contrib/integrate/python/ops/odes.py in odeint(func, y0, t, rtol, atol, method, options, full_output, name)\r\n    538         full_output=full_output,\r\n    539         name=scope,\r\n--> 540         **options)\r\n    541 \r\n    542 \r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/contrib/integrate/python/ops/odes.py in _dopri5(func, y0, t, rtol, atol, full_output, first_step, safety, ifactor, dfactor, max_num_steps, name)\r\n    403         lambda _, __, ___, i: i < num_times,\r\n    404         interpolate, (solution, history, rk_state, 1),\r\n--> 405         name='interpolate_loop')\r\n    406 \r\n    407     y = solution.stack(name=scope)\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/control_flow_ops.py in while_loop(cond, body, loop_vars, shape_invariants, parallel_iterations, back_prop, swap_memory, name, maximum_iterations, return_same_structure)\r\n   3499       ops.add_to_collection(ops.GraphKeys.WHILE_CONTEXT, loop_context)\r\n   3500     result = loop_context.BuildLoop(cond, body, loop_vars, shape_invariants,\r\n-> 3501                                     return_same_structure)\r\n   3502     if maximum_iterations is not None:\r\n   3503       return result[1]\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/control_flow_ops.py in BuildLoop(self, pred, body, loop_vars, shape_invariants, return_same_structure)\r\n   3010       with ops.get_default_graph()._mutation_lock():  # pylint: disable=protected-access\r\n   3011         original_body_result, exit_vars = self._BuildLoop(\r\n-> 3012             pred, body, original_loop_vars, loop_vars, shape_invariants)\r\n   3013     finally:\r\n   3014       self.Exit()\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/control_flow_ops.py in _BuildLoop(self, pred, body, original_loop_vars, loop_vars, shape_invariants)\r\n   2935         expand_composites=True)\r\n   2936     pre_summaries = ops.get_collection(ops.GraphKeys._SUMMARY_COLLECTION)  # pylint: disable=protected-access\r\n-> 2937     body_result = body(*packed_vars_for_body)\r\n   2938     post_summaries = ops.get_collection(ops.GraphKeys._SUMMARY_COLLECTION)  # pylint: disable=protected-access\r\n   2939     if not nest.is_sequence_or_composite(body_result):\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/contrib/integrate/python/ops/odes.py in interpolate(solution, history, rk_state, i)\r\n    381             lambda rk_state, *_: t[i] > rk_state.t1,\r\n    382             adaptive_runge_kutta_step, (rk_state, history, 0),\r\n--> 383             name='integrate_loop')\r\n    384         y = _interp_evaluate(rk_state.interp_coeff, rk_state.t0, rk_state.t1,\r\n    385                              t[i])\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/control_flow_ops.py in while_loop(cond, body, loop_vars, shape_invariants, parallel_iterations, back_prop, swap_memory, name, maximum_iterations, return_same_structure)\r\n   3499       ops.add_to_collection(ops.GraphKeys.WHILE_CONTEXT, loop_context)\r\n   3500     result = loop_context.BuildLoop(cond, body, loop_vars, shape_invariants,\r\n-> 3501                                     return_same_structure)\r\n   3502     if maximum_iterations is not None:\r\n   3503       return result[1]\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/control_flow_ops.py in BuildLoop(self, pred, body, loop_vars, shape_invariants, return_same_structure)\r\n   3010       with ops.get_default_graph()._mutation_lock():  # pylint: disable=protected-access\r\n   3011         original_body_result, exit_vars = self._BuildLoop(\r\n-> 3012             pred, body, original_loop_vars, loop_vars, shape_invariants)\r\n   3013     finally:\r\n   3014       self.Exit()\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/control_flow_ops.py in _BuildLoop(self, pred, body, original_loop_vars, loop_vars, shape_invariants)\r\n   2935         expand_composites=True)\r\n   2936     pre_summaries = ops.get_collection(ops.GraphKeys._SUMMARY_COLLECTION)  # pylint: disable=protected-access\r\n-> 2937     body_result = body(*packed_vars_for_body)\r\n   2938     post_summaries = ops.get_collection(ops.GraphKeys._SUMMARY_COLLECTION)  # pylint: disable=protected-access\r\n   2939     if not nest.is_sequence_or_composite(body_result):\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/contrib/integrate/python/ops/odes.py in adaptive_runge_kutta_step(rk_state, history, n_steps)\r\n    345       with ops.control_dependencies(\r\n    346           [check_underflow, check_max_num_steps, check_numerics]):\r\n--> 347         y1, f1, y1_error, k = _runge_kutta_step(func, y0, f0, t0, dt)\r\n    348 \r\n    349       with ops.name_scope('error_ratio'):\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/contrib/integrate/python/ops/odes.py in _runge_kutta_step(func, y0, f0, t0, dt, tableau, name)\r\n    121       ti = t0 + alpha_i * dt\r\n    122       yi = y0 + _scaled_dot_product(dt_cast, beta_i, k)\r\n--> 123       k.append(func(yi, ti))\r\n    124 \r\n    125     if not (tableau.c_sol[-1] == 0 and tableau.c_sol[:-1] == tableau.beta[-1]):\r\n\r\n<ipython-input-3-ad0e95799922> in ode_func(h, t, *ode_params)\r\n      8 \r\n      9 def ode_func(h, t, *ode_params):\r\n---> 10     return l0(h)  # l0.call(h) avoids the error which is hacky\r\n     11 \r\n     12 ts = tf.constant([0., 1.], dtype=tf.float64)\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/engine/base_layer.py in __call__(self, inputs, *args, **kwargs)\r\n    559       # framework.\r\n    560       if base_layer_utils.needs_keras_history(inputs):\r\n--> 561         base_layer_utils.create_keras_history(inputs)\r\n    562 \r\n    563     # Handle Keras mask propagation from previous layer to current layer.\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/engine/base_layer_utils.py in create_keras_history(tensors)\r\n    198     keras_tensors: The Tensors found that came from a Keras Layer.\r\n    199   \"\"\"\r\n--> 200   _, created_layers = _create_keras_history_helper(tensors, set(), [])\r\n    201   return created_layers\r\n    202 \r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/engine/base_layer_utils.py in _create_keras_history_helper(tensors, processed_ops, created_layers)\r\n    244             constants[i] = backend.function([], op_input)([])\r\n    245       processed_ops, created_layers = _create_keras_history_helper(\r\n--> 246           layer_inputs, processed_ops, created_layers)\r\n    247       name = op.name\r\n    248       node_def = op.node_def.SerializeToString()\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/engine/base_layer_utils.py in _create_keras_history_helper(tensors, processed_ops, created_layers)\r\n    244             constants[i] = backend.function([], op_input)([])\r\n    245       processed_ops, created_layers = _create_keras_history_helper(\r\n--> 246           layer_inputs, processed_ops, created_layers)\r\n    247       name = op.name\r\n    248       node_def = op.node_def.SerializeToString()\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/engine/base_layer_utils.py in _create_keras_history_helper(tensors, processed_ops, created_layers)\r\n    242             constants[i] = op_input\r\n    243           else:\r\n--> 244             constants[i] = backend.function([], op_input)([])\r\n    245       processed_ops, created_layers = _create_keras_history_helper(\r\n    246           layer_inputs, processed_ops, created_layers)\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/backend.py in __call__(self, inputs)\r\n   3251     inputs = nest.flatten(inputs)\r\n   3252 \r\n-> 3253     session = get_session(inputs)\r\n   3254     feed_arrays = []\r\n   3255     array_vals = []\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/backend.py in get_session(op_input_list)\r\n    460   if not _MANUAL_VAR_INIT:\r\n    461     with session.graph.as_default():\r\n--> 462       _initialize_variables(session)\r\n    463   return session\r\n    464 \r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/backend.py in _initialize_variables(session)\r\n    877     # marked as initialized.\r\n    878     is_initialized = session.run(\r\n--> 879         [variables_module.is_variable_initialized(v) for v in candidate_vars])\r\n    880     uninitialized_vars = []\r\n    881     for flag, v in zip(is_initialized, candidate_vars):\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py in run(self, fetches, feed_dict, options, run_metadata)\r\n    948     try:\r\n    949       result = self._run(None, fetches, feed_dict, options_ptr,\r\n--> 950                          run_metadata_ptr)\r\n    951       if run_metadata:\r\n    952         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py in _run(self, handle, fetches, feed_dict, options, run_metadata)\r\n   1156     # Create a fetch handler to take care of the structure of fetches.\r\n   1157     fetch_handler = _FetchHandler(\r\n-> 1158         self._graph, fetches, feed_dict_tensor, feed_handles=feed_handles)\r\n   1159 \r\n   1160     # Run request and get response.\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py in __init__(self, graph, fetches, feeds, feed_handles)\r\n    485         self._ops.append(True)\r\n    486       else:\r\n--> 487         self._assert_fetchable(graph, fetch.op)\r\n    488         self._fetches.append(fetch)\r\n    489         self._ops.append(False)\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py in _assert_fetchable(self, graph, op)\r\n    498     if not graph.is_fetchable(op):\r\n    499       raise ValueError(\r\n--> 500           'Operation %r has been marked as not fetchable.' % op.name)\r\n    501 \r\n    502   def fetches(self):\r\n\r\nValueError: Operation 'odeint/interpolate_loop/interpolate/integrate_loop/runge_kutta_step/VarIsInitializedOp' has been marked as not fetchable.\r\n```\r\n\r\n</p>\r\n</details>\r\n\r\n\r\n\r\n", "comments": ["@richardwth I don't see any error in colab using Tensorflow 1.15.rco but its running for ever. Please take a look at Github gist [here](https://colab.sandbox.google.com/gist/gowthamkpr/88b90d105739479b2f40b30df5cd0577/untitled142.ipynb).", "> @richardwth I don't see any error in colab using Tensorflow 1.15.rco but its running for ever. Please take a look at Github gist [here](https://colab.sandbox.google.com/gist/gowthamkpr/88b90d105739479b2f40b30df5cd0577/untitled142.ipynb).\r\n\r\nYes, I can confirm that using your colab script, for Tensorflow 1.15-rc0, the code runs forever without error message; for Tensorflow 1.14, the same error as I mentioned occurs. I've updated my description. ", "We don't expect contrib to work with Keras, and probably cannot support it in the near future. Closing it for now.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32547\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32547\">No</a>\n"]}, {"number": 32546, "title": "[autograph List comprehension issue] OperatorNotAllowedInGraphError error in Tensorflow 2.0", "body": "**System information**\r\n- OS Platform and Distribution \r\nMac os (10.14.6)\r\n- TensorFlow installed from (source or binary):\r\nbinary\r\n- TensorFlow version (use command below):\r\n 2.0.0rc1\r\n- Python version:\r\nPython 3.6.4\r\n\r\nI'm learn tensorflow2.0 from [official tutorials](https://www.tensorflow.org/beta/guide/autograph#batching).I can understand the result from below code.\r\n```\r\ndef square_if_positive(x):\r\n  return [i ** 2 if i > 0 else i for i in x]\r\nsquare_if_positive(range(-5, 5))\r\n\r\n# result\r\n[-5, -4, -3, -2, -1, 0, 1, 4, 9, 16]\r\n```\r\nBut if I change the inputs with tensor not python code, just like this, I got a error\r\n```\r\n@tf.function\r\ndef square_if_positive(x):\r\n  return [i ** 2 if i > 0 else i for i in x]\r\nsquare_if_positive(tf.range(-5, 5))\r\n```\r\n```\r\n\r\n~/tf2_workspace/tf2.0/lib/python3.6/site-packages/tensorflow_core/python/eager/function.py in _create_graph_function(self, args, kwargs, override_flat_arg_shapes)\r\n   1984             arg_names=arg_names,\r\n   1985             override_flat_arg_shapes=override_flat_arg_shapes,\r\n-> 1986             capture_by_value=self._capture_by_value),\r\n   1987         self._function_attributes,\r\n   1988         # Tell the ConcreteFunction to clean up its graph once it goes out of\r\n\r\n~/tf2_workspace/tf2.0/lib/python3.6/site-packages/tensorflow_core/python/framework/func_graph.py in func_graph_from_py_func(name, python_func, args, kwargs, signature, func_graph, autograph, autograph_options, add_control_dependencies, arg_names, op_return_value, collections, capture_by_value, override_flat_arg_shapes)\r\n    851                                           converted_func)\r\n    852 \r\n--> 853       func_outputs = python_func(*func_args, **func_kwargs)\r\n    854 \r\n    855       # invariant: `func_outputs` contains only Tensors, CompositeTensors,\r\n\r\n~/tf2_workspace/tf2.0/lib/python3.6/site-packages/tensorflow_core/python/eager/def_function.py in wrapped_fn(*args, **kwds)\r\n    323         # __wrapped__ allows AutoGraph to swap in a converted function. We give\r\n    324         # the function a weak reference to itself to avoid a reference cycle.\r\n--> 325         return weak_wrapped_fn().__wrapped__(*args, **kwds)\r\n    326     weak_wrapped_fn = weakref.ref(wrapped_fn)\r\n    327 \r\n\r\n~/tf2_workspace/tf2.0/lib/python3.6/site-packages/tensorflow_core/python/framework/func_graph.py in wrapper(*args, **kwargs)\r\n    841           except Exception as e:  # pylint:disable=broad-except\r\n    842             if hasattr(e, \"ag_error_metadata\"):\r\n--> 843               raise e.ag_error_metadata.to_exception(type(e))\r\n    844             else:\r\n    845               raise\r\n\r\nOperatorNotAllowedInGraphError: in converted code:\r\n\r\n    <ipython-input-37-6c17f29a3443>:3 square_if_positive  *\r\n        return [i**2 if i > 0 else i for i in x]\r\n    /Users/zhangpan/tf2_workspace/tf2.0/lib/python3.6/site-packages/tensorflow_core/python/framework/ops.py:547 __iter__\r\n        self._disallow_iteration()\r\n    /Users/zhangpan/tf2_workspace/tf2.0/lib/python3.6/site-packages/tensorflow_core/python/framework/ops.py:540 _disallow_iteration\r\n        self._disallow_when_autograph_enabled(\"iterating over `tf.Tensor`\")\r\n    /Users/zhangpan/tf2_workspace/tf2.0/lib/python3.6/site-packages/tensorflow_core/python/framework/ops.py:518 _disallow_when_autograph_enabled\r\n        \" decorating it directly with @tf.function.\".format(task))\r\n\r\n    OperatorNotAllowedInGraphError: iterating over `tf.Tensor` is not allowed: AutoGraph did not convert this function. Try decorating it directly with @tf.function.\r\n```\r\nI can't find any specifications about this error. I think the real reason is not \"iterating over tf.Tensor is not allowed\" . Becase I can write like this.\r\n\r\n```\r\n@tf.function\r\ndef square_if_positive(x):\r\n    for i in x:\r\n        if i>0:\r\n            tf.print(i**2)\r\n        else:\r\n            tf.print(i)\r\n\r\nsquare_if_positive(tf.range(10))\r\n```\r\niterate over tensor just like above code.\r\nSo my question is what's the real reason about this error? Any suggestions will help me. I really can't understand this error through I read a lot of materials.\r\n\r\n", "comments": ["@payne4handsome ,\r\nWhen tried executing the code for TF-2.0rc1 output is received as follows(no error is faced),\r\n```\r\ndef square_if_positive(x):\r\n  return [i ** 2 if i > 0 else i for i in x]\r\nsquare_if_positive(tf.range(-5, 5)\r\n##prints \r\n[<tf.Tensor: id=169, shape=(), dtype=int32, numpy=-5>,\r\n <tf.Tensor: id=175, shape=(), dtype=int32, numpy=-4>,\r\n <tf.Tensor: id=181, shape=(), dtype=int32, numpy=-3>,\r\n <tf.Tensor: id=187, shape=(), dtype=int32, numpy=-2>,\r\n <tf.Tensor: id=193, shape=(), dtype=int32, numpy=-1>,\r\n <tf.Tensor: id=199, shape=(), dtype=int32, numpy=0>,\r\n <tf.Tensor: id=209, shape=(), dtype=int32, numpy=1>,\r\n <tf.Tensor: id=217, shape=(), dtype=int32, numpy=4>,\r\n <tf.Tensor: id=225, shape=(), dtype=int32, numpy=9>,\r\n <tf.Tensor: id=233, shape=(), dtype=int32, numpy=16>]\r\n```\r\nif you want a clearer output please try using the below code-\r\n```\r\ndef square_if_positive(x):\r\n  return tf.where(x>0,x**2,x)\r\nsquare_if_positive(tf.range(-5, 5))\r\n##prints\r\n<tf.Tensor: id=263, shape=(10,), dtype=int32, numpy=array([-5, -4, -3, -2, -1,  0,  1,  4,  9, 16], dtype=int32)>\r\n```\r\nThanks!", "@oanush  sorry, I made a mistake. I got errors from below code. I annotate a function with @tf.function that will be compiled into a graph.\r\n```\r\n@tf.function\r\ndef square_if_positive(x):\r\n  return [i ** 2 if i > 0 else i for i in x]\r\nsquare_if_positive(tf.range(-5, 5))\r\n```\r\nI got errors like I explained above", "Issue replicating for TF-2.0rc1,please find the [gist](https://colab.sandbox.google.com/gist/oanush/0983d6584c1c687c0456fff142db4ad4/32546.ipynb) of colab.Thanks!\r\n", "The issues exists with tf-nightly version ```'2.1.0-dev20191004'```", "@kkimdev FYI\r\n\r\nThe root cause is that autograph doesn't yet support list comprehensions (primarily because it's difficult to determine the dtype of the result in all cases).\r\n\r\nAs a workaround, you can use `tf.map_fn` for the comprehension:\r\n\r\n```\r\nreturn tf.map_fn(lambda i: i ** 2 if i > 0 else i, x)\r\n```\r\n\r\nOr an explicit loop (which is a bit more verbose):\r\n\r\n```\r\nr = tf.TensorArray(x.dtype, 0, dynamic_size=True)\r\nfor i in x:\r\n  r = r.write(r.size(), i ** 2 if i > 0 else i)\r\nreturn r.stack()\r\n```\r\n\r\nWe also need to raise a better error message about this and either update the documentation, until this is resolved.\r\n\r\n", "I am interested to look into it deeper and to see if we can support this list comprehensions. Will send a PR if possible.", "@mdanatg Thanks for your explains. Looking forward to your better solution", "Hello Everyone I am getting this error\r\n**OperatorNotAllowedInGraphError: using a `tf.Tensor` as a Python `bool` is not allowed in Graph execution. Use Eager execution or decorate this function with _@tf.function**\r\n\r\nI am trying to implement Neural style transfer. Please help me with this. Here is the collab link Please take a look into it. I tried everything still It does not resolved.\r\n\r\nLink: https://drive.google.com/open?id=15aXoga8nCJQ3gjBtG6gpcO-3vUlB8A06", "@nikhilrana015 please use the updated tutorial at https://www.tensorflow.org/tutorials/generative/style_transfer. The notebook you linked uses a method of extracting intermediate layers that's unsupported in eager execution (`model.get_layer(i).get_output_at(1)`).\r\n\r\ncc @omalleyt12 ", "@mdanatg  I tried to replace `model.get_layer(i).get_output_at(1)` `with model.get_layer(i).output` but it gives me an error **Attribute Error: Layer block4_conv2 has multiple inbound nodes, hence the notion of \"layer output\" is ill-defined. Use `get_output_at(node_index)` instead.**\r\n\r\nI figured out the error but I don't know how to resolve it. In my code Total loss is tensor but when I extract the value by using .numpy() it gives me an error that there is no attribute. \r\n\r\nThe if statement In the last cell before Checking the Code Markdown gives me an error of operation Not allowed in Graph error. Please Help me in this. \r\n", "Sorry for the delay. @omalleyt12, any thoughts on that error?", "Was able to reproduce the issue with TF v2.2 and TF-nightly (i.e. v2.3.0-dev20200625). Please find the gist of it [here](https://colab.research.google.com/gist/amahendrakar/c8ec17433c4e4ae8dbdd0291bc34d7d6/32546.ipynb). Thanks!", "same issue, here. ", "This is not a particularly meaningful issue thread at this point because it's got a few different user requests for help at this point.\r\n\r\n1. The original issue (& the gist above) are for this reason that @mdanatg mentioned (@mdanatg I know we track this issue internally, should we make a separate github issue that's clearer to users?)\r\n\r\n> The root cause is that autograph doesn't yet support list comprehensions (primarily because it's difficult to determine the dtype of the result in all cases).\r\n\r\n> As a workaround, you can use tf.map_fn for the comprehension:\r\n\r\n> return tf.map_fn(lambda i: i ** 2 if i > 0 else i, x)\r\n> Or an explicit loop (which is a bit more verbose):\r\n\r\n> r = tf.TensorArray(x.dtype, 0, dynamic_size=True)\r\n> for i in x:\r\n>   r = r.write(r.size(), i ** 2 if i > 0 else i)\r\n> return r.stack()\r\n> We also need to raise a better error message about this and either update the documentation, until this is resolved.\r\n\r\n2. @nikhilrana015 I don't run into the issue you mentioned when I try running your colab. If you're still running problems please make a separate github issue so that we can triage more effectively. My guess is the issue you were running into probably had something to do with using a layer multiple times to construct different functional models, and probably trying to grab the wrong symbolic outputs.\r\n\r\nFor anyone else seeing this thread: please make a different github issue unless you're specifically having problems w/ the list comprehension issue @mdanatg mentioned.", "I can able to reproduce the error and the issue still exists in 2.6 nightly as well. Thanks!", "Hi,\r\n\r\nI have a similar problem where I'm trying to iterate over a tensor in eager mode but I can't.\r\n\r\nNaturally, you would do something like:\r\n\r\n```\r\nprobs = tf.convert_to_tensor(np.array([[1,2,3], [4,5,6], [7,8,9]]))\r\nindexs = tf.convert_to_tensor(np.array([1, 2, 3]))\r\n\r\n@tf.function\r\ndef iterate_tensor(probs, indexs):\r\n    return [output[label] for output, label in zip(probs, indexs)]\r\niterate_tensor(probs, indexs)\r\n```\r\n\r\nBut this gives the error ```OperatorNotAllowedInGraphError: iterating over `tf.Tensor` is not allowed:```\r\n\r\nAnother thing that I tried was:\r\n\r\n```\r\nprobs = tf.convert_to_tensor(np.array([[1,2,3], [4,5,6], [7,8,9]]))\r\nindexs = tf.convert_to_tensor(np.array([1, 2, 3]))\r\n\r\n@tf.function\r\ndef iterate_tensor(probs, indexs):\r\n    return tf.map_fn(lambda i: i[0][i[1]], (probs, indexs), dtype=(tf.int64, tf.int64))\r\n\r\niterate_tensor(probs, indexs)\r\n```\r\n\r\nGives the error ```ValueError: The two structures don't have the same nested structure.```", "Was able to reproduce the issue with TF v2.7. Please find the gist [here](https://colab.sandbox.google.com/gist/kumariko/5538aa31a851e93eb0f25a6039eca116/32546.ipynb#scrollTo=IgffAbk23Qbd). Thanks!", "Hi @payne4handsome ! I was able to resolve this issue by replacing **tf.range() with range()**. Attaching [Gist](https://colab.sandbox.google.com/gist/mohantym/87dd7e3abd2540dc5b0ec6124af7d1d9/32546.ipynb#scrollTo=iT1EKzzHdWZk) for [reference](https://github.com/tensorflow/tensorflow/issues/33308).", "This issue has been automatically marked as stale because it has no recent activity. It will be closed if no further activity occurs. Thank you.\n", "This issue has been automatically marked as stale because it has no recent activity. It will be closed if no further activity occurs. Thank you.\n", "Closing as stale. Please reopen if you'd like to work on this further.\n", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32546\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32546\">No</a>\n"]}, {"number": 32545, "title": "tf.keras.layers.Add can add tensors with dimension ()", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): ubuntu 18.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): 2.0.0-dev20190731\r\n- Python version: 3.6.7\r\n- Bazel version (if compiling from source): N/A\r\n- GCC/Compiler version (if compiling from source): N/A\r\n- CUDA/cuDNN version: N/A\r\n- GPU model and memory: N/A\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\n\r\nwhen I add multiple tensors with shape (), tf.keras.layers.Add complains that\r\n>  File \"/home/xieyi/.local/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 680, in __call__\r\n    self._maybe_build(inputs)\r\n  File \"/home/xieyi/.local/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 1905, in _maybe_build\r\n    self.build(input_shapes)\r\n  File \"/home/xieyi/.local/lib/python3.6/site-packages/tensorflow_core/python/keras/utils/tf_utils.py\", line 299, in wrapper\r\n    output_shape = fn(instance, input_shape)\r\n  File \"/home/xieyi/.local/lib/python3.6/site-packages/tensorflow_core/python/keras/layers/merge.py\", line 95, in build\r\n    batch_sizes = [s[0] for s in input_shape if s is not None]\r\n  File \"/home/xieyi/.local/lib/python3.6/site-packages/tensorflow_core/python/keras/layers/merge.py\", line 95, in <listcomp>\r\n    batch_sizes = [s[0] for s in input_shape if s is not None]\r\nIndexError: tuple index out of range\r\n\r\n**Describe the expected behavior**\r\n\r\nI expect tf.keras.layers.Add can process tensors of any dimension.\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\n#!/usr/bin/python3\r\n\r\nimport tensorflow as tf;\r\n\r\na = tf.constant(1);\r\nb = tf.constant(2);\r\nc = tf.constant(3);\r\nd = tf.keras.layers.Add()([a,b,c]);\r\n```\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n", "comments": ["I have tried on colab with TF version 2.0.0-dev20190731, 2.0.0.dev20190915 ,2.0.0-rc1 and was able to reproduce the issue.Please, find the gist [here](https://colab.sandbox.google.com/gist/ravikyram/4d2dbc41b14058292781f56e3bbfb225/untitled185.ipynb).Thanks!", "@breadbread1984 I think this was resolved in recent `tf-nightly`. I ran it without any issues. Please take a look at the [colab gist](https://colab.research.google.com/gist/jvishnuvardhan/2447d8ec4f353efa284642210c74ab39/untitled66.ipynb). \r\n\r\nCan you please verify once and close the issue if this was resolved for you. thanks!", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32545\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32545\">No</a>\n"]}, {"number": 32544, "title": "tf.keras batch normalization is batch dependent at test time", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Both\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 7\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): 1.13\r\n- Python version: 3.7\r\n- CUDA/cuDNN version: 10\r\n- GPU model and memory: RTX\r\n\r\n**Describe the current behavior**\r\n\r\nWhen doing inference using tf.keras batchnormalization,  for a given input sample x, the output is dependent on the other samples in the batch.  I can modify the other samples in the batch to influence the output of x.  This should not be the case as all samples should be processed independently.  Whether I run a sample x as a batch size of 1 or with other samples, its output should be exactly the same.  I am seeing differences of 0.3 at times (see my output below).\r\n\r\nIt appears keras is also having this issue: https://github.com/keras-team/keras/issues/12400\r\n\r\n**Describe the expected behavior**\r\nUpon using tf.keras batch normalization at test time, a given input sample x should have the same output regardless of the other samples in the batch\r\n\r\n**Code to reproduce the issue**\r\nNote: I put the code into colab and was able to verify the bug.\r\n\r\n```\r\nimport tensorflow as tf\r\nimport numpy as np\r\n\r\ninput1 = tf.keras.layers.Input(shape=(128,128,1))\r\nx = tf.keras.layers.BatchNormalization()(input1)\r\nx = tf.keras.layers.Flatten()(x)\r\nx = tf.keras.layers.Dense(5, activation = 'softmax')(x)\r\n\r\nmodel = tf.keras.models.Model(input1, x)\r\n\r\nbatchSize = 64\r\nx = np.random.rand(1, 128,128,1)\r\nx = np.repeat(x, batchSize, axis=0)\r\n\r\nprint('The following rows should all be equal...')\r\nfor k in range(1, batchSize):  \r\n    y = model.predict(x[0:k,:,:,:], batch_size=8)\r\n    print(y[0,:])\r\n```\r\nI get the following output:\r\n\r\n```\r\nThe following rows should all be equal...\r\n2019-09-15 16:46:29.463998: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1512] Adding visible gpu devices: 0\r\n2019-09-15 16:46:29.463998: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2019-09-15 16:46:29.463998: I tensorflow/core/common_runtime/gpu/gpu_device.cc:990]      0 \r\n2019-09-15 16:46:29.463998: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1003] 0:   N \r\n2019-09-15 16:46:29.464999: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 11334 MB memory) -> physical GPU (device: 0, name: TITAN X (Pascal), pci bus id: 0000:09:00.0, compute capability: 6.1)\r\n2019-09-15 16:46:30.597112: I tensorflow/stream_executor/dso_loader.cc:152] successfully opened CUDA library cublas64_100.dll locally\r\n[0.38215435 0.66578805 0.45068434 0.85698235 0.7698223 ]\r\n[0.38215438 0.66578805 0.45068428 0.85698223 0.76982236]\r\n[0.38215438 0.66578805 0.45068428 0.85698223 0.76982236]\r\n[0.38215438 0.66578805 0.45068428 0.85698223 0.76982236]\r\n[0.38215438 0.66578805 0.45068428 0.85698223 0.76982236]\r\n[0.38215438 0.66578805 0.45068428 0.85698223 0.76982236]\r\n[0.38215438 0.66578805 0.45068428 0.85698223 0.76982236]\r\n[0.38215438 0.66578805 0.45068428 0.85698223 0.76982236]\r\n[0.38215438 0.66578805 0.45068428 0.85698223 0.76982236]\r\n[0.38215438 0.66578805 0.45068428 0.85698223 0.76982236]\r\n[0.38215438 0.66578805 0.45068428 0.85698223 0.76982236]\r\n[0.38215438 0.66578805 0.45068428 0.85698223 0.76982236]\r\n[0.38215438 0.66578805 0.45068428 0.85698223 0.76982236]\r\n[0.38215438 0.66578805 0.45068428 0.85698223 0.76982236]\r\n[0.38215438 0.66578805 0.45068428 0.85698223 0.76982236]\r\n[0.38215438 0.66578805 0.45068428 0.85698223 0.76982236]\r\n[0.38215443 0.66578794 0.4506843  0.85698223 0.76982224]\r\n[0.38215443 0.66578794 0.4506843  0.85698223 0.76982224]\r\n[0.38215443 0.66578794 0.4506843  0.85698223 0.76982224]\r\n[0.38215443 0.66578794 0.4506843  0.85698223 0.76982224]\r\n[0.38215443 0.66578794 0.4506843  0.85698223 0.76982224]\r\n[0.38215443 0.66578794 0.4506843  0.85698223 0.76982224]\r\n[0.38215443 0.66578794 0.4506843  0.85698223 0.76982224]\r\n[0.38215443 0.66578794 0.4506843  0.85698223 0.76982224]\r\n[0.38215443 0.66578794 0.4506843  0.85698223 0.76982224]\r\n[0.38215443 0.66578794 0.4506843  0.85698223 0.76982224]\r\n[0.38215443 0.66578794 0.4506843  0.85698223 0.76982224]\r\n[0.38215443 0.66578794 0.4506843  0.85698223 0.76982224]\r\n[0.38215443 0.66578794 0.4506843  0.85698223 0.76982224]\r\n[0.38215443 0.66578794 0.4506843  0.85698223 0.76982224]\r\n[0.38215443 0.66578794 0.4506843  0.85698223 0.76982224]\r\n```\r\nWhen i run on the CPU, the problem goes away.\r\n\r\nWhen I run on my own data, I get the following code / output which shows the problem more severely:\r\n    \r\n```\r\n    x,y = testGenerator.next(0)\r\n    score = []\r\n    for kk in range(1, 16):\r\n        s = model.predict(x[0:kk,:,:,:])\r\n        print(s[0][0,:])\r\n```\r\nGives output...\r\n```\r\n[9.3195647e-01 4.5844557e-04 6.6464258e-05 6.7509413e-02 2.0588086e-06\r\n 1.3121526e-06 1.7270798e-06 2.0374323e-06 2.1472629e-06]\r\n[9.3195647e-01 4.5844595e-04 6.6464192e-05 6.7509346e-02 2.0587986e-06\r\n 1.3121462e-06 1.7270781e-06 2.0374266e-06 2.1472567e-06]\r\n[9.3195623e-01 4.5845023e-04 6.6464687e-05 6.7509525e-02 2.0588097e-06\r\n 1.3121534e-06 1.7270876e-06 2.0374339e-06 2.1472645e-06]\r\n[9.1518945e-01 5.7900354e-04 8.6429020e-05 8.4134214e-02 2.4391386e-06\r\n 1.5495950e-06 2.0541604e-06 2.3649241e-06 2.5034813e-06]\r\n[9.1518945e-01 5.7900301e-04 8.6429180e-05 8.4134296e-02 2.4391431e-06\r\n 1.5496009e-06 2.0541527e-06 2.3649197e-06 2.5034813e-06]\r\n[9.1442782e-01 5.8447709e-04 8.7354209e-05 8.4889315e-02 2.4558769e-06\r\n 1.5600473e-06 2.0685882e-06 2.3791872e-06 2.5190409e-06]\r\n[9.1442782e-01 5.8447709e-04 8.7354209e-05 8.4889315e-02 2.4558769e-06\r\n 1.5600473e-06 2.0685882e-06 2.3791872e-06 2.5190409e-06]\r\n[9.1442782e-01 5.8447709e-04 8.7354209e-05 8.4889315e-02 2.4558769e-06\r\n 1.5600473e-06 2.0685882e-06 2.3791872e-06 2.5190409e-06]\r\n[9.1442782e-01 5.8447709e-04 8.7354209e-05 8.4889315e-02 2.4558769e-06\r\n 1.5600473e-06 2.0685882e-06 2.3791872e-06 2.5190409e-06]\r\n[2.7099210e-01 5.2615767e-03 1.4831917e-03 7.2222257e-01 9.9957060e-06\r\n 6.1737474e-06 8.7498120e-06 7.3227852e-06 8.3933583e-06]\r\n[2.7099210e-01 5.2615767e-03 1.4831917e-03 7.2222257e-01 9.9957060e-06\r\n 6.1737474e-06 8.7498120e-06 7.3227852e-06 8.3933583e-06]\r\n[2.7099210e-01 5.2615767e-03 1.4831917e-03 7.2222257e-01 9.9957060e-06\r\n 6.1737474e-06 8.7498120e-06 7.3227852e-06 8.3933583e-06]\r\n[2.7099210e-01 5.2615767e-03 1.4831917e-03 7.2222257e-01 9.9957060e-06\r\n 6.1737474e-06 8.7498120e-06 7.3227852e-06 8.3933583e-06]\r\n[2.7099210e-01 5.2615767e-03 1.4831917e-03 7.2222257e-01 9.9957060e-06\r\n 6.1737474e-06 8.7498120e-06 7.3227852e-06 8.3933583e-06]\r\n[1.9735371e-01 5.5795610e-03 1.7620743e-03 7.9526496e-01 9.8536966e-06\r\n 6.0714729e-06 8.6973323e-06 7.0008568e-06 8.0944292e-06]\r\n```\r\n\r\n\r\n**EDIT 1:** Added code to replicate issue.  Also, If you remove the batch norm, the problem still persists. \r\n\r\n**EDIT 2:** Displayed results from running on my own data.", "comments": ["@isaacgerg, I could execute the code in colab. Please take a look at colab [gist](https://colab.sandbox.google.com/gist/gadagashwini/ccbd9e29de1c4dd5cf591c08b18bbe41/untitled151.ipynb) and confirm the expected behavior. Thanks!", "@gadagashwini Yes, that gist looks correct.  For the run I did, the first 2 rows were not identical.", "Coming from https://github.com/keras-team/keras/issues/12400\r\nI can verify that the rows are not equal for me. I tried multiple times, it is not equal.", "@gadagashwini I am able to replicate the error exactly when fixing the RNG seeds.\r\n\r\n```\r\nimport random\r\nimport tensorflow as tf\r\nimport numpy as np\r\n\r\ntf.keras.backend.clear_session()\r\nrandom.seed(1)\r\nnp.random.seed(1)\r\ntf.random.set_random_seed(1) \r\ninput1 = tf.keras.layers.Input(shape=(128,128,1))\r\n#x = tf.keras.layers.BatchNormalization()(input1)\r\nx = tf.keras.layers.Flatten()(input1)\r\nx = tf.keras.layers.Dense(5, activation = 'softmax')(x)\r\n\r\nmodel = tf.keras.models.Model(input1, x)\r\n\r\nbatchSize = 32\r\nx = np.random.rand(1, 128,128,1)\r\nx = np.repeat(x, batchSize, axis=0)\r\n\r\nprint('The following rows should all be equal...')\r\nfor k in range(1, batchSize):  \r\n    y = model.predict(x[0:k,:,:,:], batch_size=8)\r\n    print(y[0,:])\r\n```\r\nIn colab, i get the following snippet...\r\n```\r\nThe following rows should all be equal...\r\n[0.06958179 0.13309403 0.07133754 0.45234346 0.27364326]\r\n[0.06958182 0.13309415 0.07133748 0.45234346 0.27364317]\r\n[0.06958182 0.13309413 0.07133747 0.4523434  0.27364317]\r\n[0.06958182 0.13309413 0.07133747 0.4523434  0.27364317]\r\n[0.06958182 0.13309413 0.07133747 0.4523434  0.27364317]\r\n[0.06958182 0.13309413 0.07133747 0.4523434  0.27364317]\r\n[0.06958179 0.13309415 0.07133748 0.45234346 0.2736431 ]\r\n[0.06958179 0.13309415 0.07133748 0.45234346 0.2736431 ]\r\n[0.06958179 0.13309415 0.07133748 0.45234346 0.2736431 ]\r\n[0.06958179 0.13309415 0.07133748 0.45234346 0.2736431 ]\r\n[0.06958179 0.13309415 0.07133748 0.45234346 0.2736431 ]\r\n[0.06958179 0.13309415 0.07133748 0.45234346 0.2736431 ]\r\n[0.06958179 0.13309415 0.07133748 0.45234346 0.2736431 ]\r\n[0.06958179 0.13309415 0.07133748 0.45234346 0.2736431 ]\r\n[0.06958179 0.13309415 0.07133748 0.45234346 0.2736431 ]\r\n```", "@isaacgerg, Can you please share the colab gist here. Thanks!", "@gadagashwini \r\nhttps://colab.research.google.com/gist/isaacgerg/b6c6727a768744383359a2faf8c946d7/tfkeras_bug1.ipynb", "@twinanda have you come up with a fix?", "@isaacgerg no, unfortunately not. I am looking into other normalization methods for this. Maybe instancenorm might yield similar convergence, without the inconsistency of batchnorm. Let me know if you find something on your side. :)", "I believe I've figured it out, but no one will like the verdict, myself included: the problem is **numeric precision**, and `BatchNormalization` has nothing to do with it. It's a work in progress, but I've narrowed down the exact operation responsible: `np.dot` - you can follow the work [here](https://stackoverflow.com/questions/58740925/why-is-np-dot-imprecise-n-dim-arrays). Will update later with all relevant testing code, and a solution. I've also made [OP's](https://github.com/keras-team/keras/issues/12400) images into a gif for direct comparison:\r\n\r\n<img src=\"https://i.stack.imgur.com/nOqIG.gif\" width=\"350\">\r\n\r\n(P.S. removing `BatchNormalization` in your tests may \"solve\" the problem, but it's _not_ BN that's problematic, but how it transforms input tensor dimensionalities - will clarify later)", "@OverLordGoldDragon Thanks for following up.  I wonder if this is the same issue found with softmax here: https://github.com/keras-team/keras/issues/13328", "I'm inclined to agree that this looks like normal floating point variability. Thanks for the analysis everyone.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32544\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32544\">No</a>\n"]}, {"number": 32543, "title": "RNN layer does not reset dropout masks of RNNCell", "body": "\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): macOS Mojave 10.14.6\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below):  v1.12.1-9392-gf3c7314d83 1.15.0-rc0\r\n- Python version: 3.7.4\r\n\r\n**Describe the current behavior**\r\nThe RNN layer with an RNNCell does not reset the states of dropout masks compared to the layer implementations of the cells. Thus the behavior of `tf.keras.layers.GRU(10)` != `tf.keras.layers.RNN(tf.keras.layers.GRUCell(10))`.\r\n\r\nThis is especially problematic, because the [Keras RNN API tutorial](https://www.tensorflow.org/beta/guide/keras/rnn#rnn_layers_and_rnn_cells) states both approaches are mathematically equivalent.\r\n\r\n**Describe the expected behavior**\r\nThe RNN layer should check the type of the RNNCell and, if it is a subclass of `DropoutRNNCellMixin`, reset the dropout masks after each call. By calling `cell.reset_recurrent_dropout_mask()` and `cell.reset_dropout_mask`.\r\n\r\n**Code to reproduce the issue**\r\nPartially copied from https://github.com/tensorflow/tensorflow/issues/29391\r\n```python\r\nfrom __future__ import absolute_import, division, print_function\r\nimport numpy as np\r\n\r\nimport tensorflow as tf\r\ntf.enable_eager_execution()\r\n\r\n\r\ntf.enable_eager_execution()\r\nprint(tf.__version__)\r\ndata = np.random.normal(0, 1, (1, 10, 2)).astype(np.float32)\r\nrnn = tf.keras.layers.GRU(units=10, dropout=0.5,\r\n                                   recurrent_dropout=0.5)\r\nprint(set([rnn(data, training=True).numpy()[0, 0] for _ in range(5)]))\r\n\r\nrnn_cell = tf.keras.layers.GRUCell(units=10, dropout=0.5,\r\n                                   recurrent_dropout=0.5)\r\nrnn = tf.keras.layers.RNN(rnn_cell)\r\nprint(set([rnn(data, training=True).numpy()[0, 0] for _ in range(5)]))\r\n```\r\n\r\nOutput:\r\n```\r\nWARNING:tensorflow:From check_dropout.py:5: The name tf.enable_eager_execution is deprecated. Please use tf.compat.v1.enable_eager_execution instead.\r\n\r\n1.15.0-rc0\r\n{0.04537238, 0.15487108, 0.0, 0.08881481, 0.055508718}  # Different dropout mask was used for each call\r\n{-0.34464198}  # Same dropout mask was used for each call\r\n```", "comments": ["I have tried on colab with TF 1.15.0-rc0 , nightly versions and was able to reproduce the issue.Please, find the gist [here](https://colab.sandbox.google.com/gist/ravikyram/d29fc400d2933fbf3efedfe1311f9a83/untitled186.ipynb).Thanks!", "Thanks for reporting the issue, let me fix it.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=32543\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=32543\">No</a>\n"]}, {"number": 32542, "title": "latest master ", "body": "", "comments": ["\nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed (or fixed any issues), please reply here with `@googlebot I signed it!` and we'll verify it.\n\n----\n\n#### What to do if you already signed the CLA\n\n##### Individual signers\n\n*   It's possible we don't have your GitHub username or you're using a different email address on your commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n\n##### Corporate signers\n\n*   Your company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to [go/cla#troubleshoot](http://go/cla#troubleshoot) ([Public version](https://opensource.google.com/docs/cla/#troubleshoot)).\n*   The email used to register you as an authorized contributor must be the email used for the Git commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n*   The email used to register you as an authorized contributor must also be [attached to your GitHub account](https://github.com/settings/emails).\n\t\t\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F32542) for more info**.\n\n<!-- need_sender_cla -->"]}, {"number": 32541, "title": "[Intel MKL] Disable \"Conv3D with stride > 1\" cases.", "body": "Currently \"Conv3D\" op with stride > 1 is not supported in eager mode, so we have to disable these test cases for now.", "comments": ["> Thank you for your PR!\r\n> \r\n> > Currently \"Conv3D\" op with stride > 1 is not supported in eager mode\r\n> \r\n> Is this also true for GPU? If GPU does support it, we should change the predicate a bit.\r\n\r\nGPU does support it. Eager mode CPU does not support it.", "All (the pull request submitter and all commit authors) CLAs are signed, **but** one or more commits were authored or co-authored by someone other than the pull request submitter.\n\nWe need to confirm that all authors are ok with their commits being contributed to this project.  Please have them confirm that by leaving a comment that contains only `@googlebot I consent.` in this pull request.\n\n*Note to project maintainer:* There may be cases where the author cannot leave a comment, or the comment is not properly detected as consent.  In those cases, you can manually confirm consent of the commit author(s), and set the `cla` label to `yes` (if enabled on your project).\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F32541) for more info**.\n\n<!-- need_author_consent -->", "@penpornk as @wenxizhu has left Intel for a new feature I will take care of this PR, and you comments has been addressed, please help to check.\r\nFor the CLA, can you help on this, thanks a lot? ", " @googlebot I consent", "@penpornk thank you.", "Ah sorry, I think we are missing a fullstop after `consent`. That's why the bot doesn't fix the CLA. I'm manually set CLA to yes then. Reasoning: Both authors have CLA, and the non-PR-owner author has expressed consent in contributing to this project.", "A Googler has manually verified that the CLAs look good.\n\n(Googler, please make sure the reason for overriding the CLA status is clearly documented in these comments.)\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F32541) for more info**.\n\n<!-- cla_yes -->", "@penpornk thanks for the CLA. "]}, {"number": 32540, "title": "tf.map_fn doesn't support unpacking multiple tensors of different dimensions", "body": "<em>Please make sure that this is a feature request. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version (you are using): 2.0.0-dev20190731\r\n- Are you willing to contribute it (Yes/No): No\r\n\r\n\r\n\r\n**Describe the feature and the current behavior/state.**\r\n\r\ntf.map_fn support unpacking elements from multiple tensors of the same dimension, but it doesn't support unpacking from multiple tensors of different dimensions. the following code is an instance.\r\n\r\n```python\r\nimport tensorflow as tf;\r\nimport numpy as np;\r\n\r\na = tf.constant(np.random.normal(size = (10,3,4)));\r\nb = tf.constant(np.random.normal(size = (10,4,5)));\r\nc = tf.map_fn(lambda x: tf.linalg.matmul(x[0], x[1]), (a, b));\r\n```\r\nplease support the feature to make batch processing easily.\r\n\r\n**Will this change the current api? How?**\r\n\r\nthe api can be remained the same.\r\n\r\n**Who will benefit with this feature?**\r\n\r\npeople who want to process batch of data\r\n\r\n**Any Other info.**\r\n", "comments": []}, {"number": 32539, "title": "tf-Java 1.14.0 can not open shared object file libtensorflow_frameword.so.1", "body": "**System information**\r\n- OS system: CentOS 7.3\r\n- TensorFlow installed from binary: import tensorflow from maven repo\r\n- TensorFlow version: 1.14.0\r\n- Python version: 3.6.5\r\n- CUDA/cuDNN version: cuda10-cudnn7\r\n\r\n\r\n**Describe the current behavior**\r\nWe are using tensorflow java api to loaded a tensorflow model and a program exception is thrown. The exception information shows that the dependent resource file (libtensorflow_jni.so : libtensorflow_frameword.so.1) is missing.  We find that the tensorflow jar file contains this resource file, but the file failed to extract, resulting in an exception. We suspect this is due to the program filtering the files to be extracted by suffix names (.so).\r\n**Describe the expected behavior**\r\nThe program can load model file successfully. \r\n\r\n**Code to reproduce the issue**\r\nThe maven setting:\r\n```\r\n<dependency>\r\n            <groupId>org.tensorflow</groupId>\r\n            <artifactId>tensorflow</artifactId>\r\n            <version>1.14.0</version>\r\n</dependency>\r\n```\r\n```\r\nimport org.tensorflow.SavedModelBundle;\r\nimport org.tensorflow.Tensor;\r\n\r\npublic static void main(String[] args){\r\n        String dir = \"xxx\" // model path \r\n        savedModelBundle = SavedModelBundle.load(dir, \"serve\");\r\n    }\r\n}\r\n```\r\n\r\n**Other info / logs**\r\nException in thread \"main\" java.lang.UnsatisfiedLinkError: /tmp/tensorflow_native_libraries-1568533726609-0/libtensorflow_jni.so: libtensorflow_framework.so.1: cannot open shared object file: No such file or directory\r\n        at java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1941)\r\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1824)\r\n        at java.lang.Runtime.load0(Runtime.java:809)\r\n        at java.lang.System.load(System.java:1086)\r\n        at org.tensorflow.NativeLibrary.load(NativeLibrary.java:101)\r\n        at org.tensorflow.TensorFlow.init(TensorFlow.java:66)\r\n        at org.tensorflow.TensorFlow.<clinit>(TensorFlow.java:70)\r\n        at org.tensorflow.SavedModelBundle.<clinit>(SavedModelBundle.java:170)", "comments": ["We have a similar issue with the jar running with Ubuntu 18.04", "@doladola Can you try with TF1.15.0rc1 and let us know whether the issue persists? Thanks!", "I run into the same issue as well, @jvishnuvardhan could you refer a related commit so we could try it out?", "@oliverhu Finally `TF1.15.0` stable version was released. Can you try it and let us know how it progresses. Thanks!", "@jvishnuvardhan  thanks, will try it out. Just curious what is the supporting model (priority) for 1.15? Is 1.15 a LTS version or it is just some temporary release?", "@oliverhu `TF1.15` is a stable version. This is the final TF1.x version. I think this will be supported for around an year only. We would suggest everyone to take a look at TF2.x which will be the only version going to be supported in future.  Thanks! ", "It has been 14 days with no activity and the `awaiting response` label was assigned. Is this still an issue?", "Automatically closing this out since I understand it to be resolved, but please let me know if I'm mistaken.Thanks!", "Hi, I just had the same problem following the getting started with [maven](https://www.tensorflow.org/install/lang_java) and changing the dependency version from 1.14 to 1.15 solved."]}, {"number": 32538, "title": "Systemlibs cherry-picks for r2.0", "body": "These are all in master already but did not make it into the r2.0 branch.\r\n\r\nSummary:\r\n\r\n- Fix installed header paths, generated headers were installed wrong relative to where they should be.\r\n- Add pkgconfig entry for libtensorflow_cc as well.\r\n- Add enum34 and functools32 systemlibs.\r\n- Fix headers for jsoncpp systemlibs.\r\n", "comments": []}, {"number": 32537, "title": "systemlibs: unbundle functools32", "body": "Signed-off-by: Jason Zaman <jason@perfinion.com>", "comments": []}, {"number": 32536, "title": "Travis test", "body": "Adding pull request for travis", "comments": ["\nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed (or fixed any issues), please reply here with `@googlebot I signed it!` and we'll verify it.\n\n----\n\n#### What to do if you already signed the CLA\n\n##### Individual signers\n\n*   It's possible we don't have your GitHub username or you're using a different email address on your commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n\n##### Corporate signers\n\n*   Your company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to [go/cla#troubleshoot](http://go/cla#troubleshoot) ([Public version](https://opensource.google.com/docs/cla/#troubleshoot)).\n*   The email used to register you as an authorized contributor must be the email used for the Git commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n*   The email used to register you as an authorized contributor must also be [attached to your GitHub account](https://github.com/settings/emails).\n\t\t\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F32536) for more info**.\n\n<!-- need_sender_cla -->"]}, {"number": 32535, "title": "Build TensorFlow Lite for Raspberry Pi with SELECT_TF_OPS", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Raspbian GNU/Linux 9.1 (stretch)\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: 1.14\r\n- Python version:\r\n- Installed using virtualenv? pip? conda?:\r\n- Bazel version (if compiling from source): 0.26.1\r\n- GCC/Compiler version (if compiling from source): \r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\n\r\n\r\n**Describe the problem**\r\n\r\nHi, I am trying to use TF Lite with SELECT_TF_OPS on my Raspberry Pi 3B. According to your docs, Python API is currently not fully supported, so I tried to use the C++ API. Then I have to compile a static library for TF Lite [https://www.tensorflow.org/lite/guide/build_rpi#cross-compile_for_raspberry_pi](url) . The problem is how can I config it to support SELECT_TF_OPS? The only information I found is on [https://www.tensorflow.org/lite/guide/ops_select#c](url), but it is about compiling using Bazel, which is not compatible with the compiling instructions on Raspberry Pi? Does anyone has any suggestions or ideas about this issue?\r\n\r\nThanks!", "comments": ["Recently this issue is fixed with the master branch.\r\nNow, you can use SELECT_TF_OPS with Python tf.lite.Interpreter API.\r\n\r\nThanks.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32535\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/32535\">No</a>\n"]}, {"number": 32534, "title": "import packages of tf2.0.0rc in pycharm", "body": "i'm using tf2.0.0rc, win10.\r\n\r\nwhen i write the below code in pycharm, `Dataset` is underlined with a red line, and shows a message `cannot find reference 'Dataset' in '__init__.py' `, and pycharm can't auto-complete `Dataset`'s functions, but the script can run well.\r\n\r\n```python\r\nfrom tensorflow_core.python.data import Dataset\r\n\r\ndataset = Dataset.from_tensors([2])\r\n```\r\n\r\nwhen i write the below code, there is no red line, and pycharm can auto-complete `Dataset`'s functions, but the script has error:`KeyError: \"Registering two gradient with name 'ReduceDataset'! (Previous registration was in register /home/xiefangyuan/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/framework/registry.py:66)\"`\r\n\r\n```python\r\nfrom tensorflow_core.python.data.ops.dataset_ops import Dataset\r\n\r\ndataset = Dataset.from_tensors([2])\r\n```", "comments": ["it has the same problem when i import almost every packsge of tf2.0.0rc in pycharm", "see https://github.com/tensorflow/tensorflow/issues/31973", "I have tried on colab with TF version 2.0.0-rc0, 2.0.0-rc1  and observed that \r\n```\r\nfrom tensorflow_core.python.data import Dataset\r\n\r\ndataset = Dataset.from_tensors([2])\r\n```\r\nhas no issue. However i can reproduce the issue with \r\n```\r\nfrom tensorflow_core.python.data.ops.dataset_ops import Dataset\r\n\r\ndataset = Dataset.from_tensors([2])\r\n```\r\nPlease, find the gist [here](https://colab.sandbox.google.com/gist/ravikyram/015651d955d4b6d1d2900daaa4efbe0c/untitled187.ipynb).Thanks!", "> I have tried on colab with TF version 2.0.0-rc0, 2.0.0-rc1 and observed that\r\n> \r\n> ```\r\n> from tensorflow_core.python.data import Dataset\r\n> \r\n> dataset = Dataset.from_tensors([2])\r\n> ```\r\n> \r\n> has no issue. However i can reproduce the issue with\r\n> \r\n> ```\r\n> from tensorflow_core.python.data.ops.dataset_ops import Dataset\r\n> \r\n> dataset = Dataset.from_tensors([2])\r\n> ```\r\n> \r\n> Please, find the gist [here](https://colab.sandbox.google.com/gist/ravikyram/015651d955d4b6d1d2900daaa4efbe0c/untitled187.ipynb).Thanks!\r\n\r\nit is the same, the first one can run well, but in pycharm, there is no autocomplete, and cannot find reference 'Dataset' in '__init__.py' . the second one support autocomplete, but it has error.\r\n\r\nwhat i am expecting is both no error and autocomplete in pycharm. i just go back to use tf1.14.0.", "The supported way to use tensorflow is with the following import:\r\n`import tensorflow as tf`\r\nIn this case, you would use `tf.data.Dataset` instead. If you want to use V1 dataset, then you can reference it using `tf.compat.v1.data.Dataset`.\r\n\r\nCode under tensorflow_core.python or tensorflow.python is not a part of our public API and has no guarantees.", "Closing, since this question is about unsupported usecase for TensorFlow.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=32534\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=32534\">No</a>\n", "> The supported way to use tensorflow is with the following import:\r\n> `import tensorflow as tf`\r\n> In this case, you would use `tf.data.Dataset` instead. If you want to use V1 dataset, then you can reference it using `tf.compat.v1.data.Dataset`.\r\n> \r\n> Code under tensorflow_core.python or tensorflow.python is not a part of our public API and has no guarantees.\r\n\r\nwhat i really want is autocomplete and no reference errors or warnings in pycharm **editor**(i think pycharm can standardize my code and prevent potential errors), but by writing `import tensorflow as tf` and using tf 2.0.0rc0, pycharm can not autocomplete tf's packages or functions, and show some reference errors in the **editor** not in the terminal, even though the code can run well, but the code doesn't look fine in the pycharm **editor**.\r\n\r\nbut never mind, up to now, i think stable tf 1.14.0 is better for me.", "You are right that 2.0.0rc0 had autocomplete issues. You can try 2.0.0rc1, which had some of the autocomplete issues fixed."]}, {"number": 32533, "title": "Improved compatibility with sklearn", "body": "The original PR in keras-team/keras is [this](https://github.com/keras-team/keras/pull/12833\r\n)\r\n\r\n\r\n## Summary\r\n\r\nScikit-learn estimators are instanced only with hyper-parameter information. No knowledge on the data (X or y) is needed until the estimator is fitted. On the other hand, KerasRegressor and KerasClassifier receive as argument a build_fn that instantiates and compiles the estimator. At this point, the input and output shapes are needed to define the network's architecture. This is a subtle but important difference between Scikit-learn estimators and KerasClassifier/KerasRegressor.\r\n\r\nAlso, Scikit-learn's GridSearchCV and RandomizedSearchCV (and probably Scikit-optimize's BayesSearchCV) automatically infer the most appropriate CV folding (stratified or not) from the base_estimator. KerasClassifier and KerasRegressor, however, do not have the attribute needed for this to work.\r\n\r\n\r\n## Related Issues\r\n\r\n#32532", "comments": ["\nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed (or fixed any issues), please reply here with `@googlebot I signed it!` and we'll verify it.\n\n----\n\n#### What to do if you already signed the CLA\n\n##### Individual signers\n\n*   It's possible we don't have your GitHub username or you're using a different email address on your commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n\n##### Corporate signers\n\n*   Your company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to [go/cla#troubleshoot](http://go/cla#troubleshoot) ([Public version](https://opensource.google.com/docs/cla/#troubleshoot)).\n*   The email used to register you as an authorized contributor must be the email used for the Git commit. Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n*   The email used to register you as an authorized contributor must also be [attached to your GitHub account](https://github.com/settings/emails).\n\t\t\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F32533) for more info**.\n\n<!-- need_sender_cla -->", "@googlebot I signed it!", "CLAs look good, thanks!\n\n\u2139\ufe0f **Googlers: [Go here](https://goto.google.com/prinfo/https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fpull%2F32533) for more info**.\n\n<!-- ok -->", "Adding @fchollet for more input here.\r\n\r\nI am not sure if the sklearn wrapper in keras is still under support or not, and I don't have much knowledge about it.  ", "I've fixed a minor bug in the get_params method of BaseWrapper that I detected later. Just tell me if you want me to squash the commits.", "@daviddiazvico  Could you please resolve the conflicts? Thanks!", "@fchollet Can you please take a look on this PR? Thanks!", "Can I do anything to speed this up? Thanks!", "I'm commenting here since I was working on a similar project and encountered another sklearn compatibility bug. @daviddiazvico would be happy to see if I can fix this for this PR. \r\n\r\nI found an issue using the `KerasClassifier` wrapper with any Keras Callback. I tested and confirmed on collab ([notebook](https://colab.research.google.com/drive/1IeTVO9R25R77vgI2G1ReU4rVGuW6bdVx)).\r\n\r\n**Describe the current behavior**\r\nCross-validation (and presumably other sklearn functionality) is not compatible with `KerasClassifier` when used with a callback.\r\n\r\n**Describe the expected behavior**\r\nThat all sklearn functions are applicable to the sklearn keras wrappers.\r\n\r\n**Standalone code to reproduce the issue** \r\nhttps://colab.research.google.com/drive/1IeTVO9R25R77vgI2G1ReU4rVGuW6bdVx\r\n\r\n**Other info / logs**\r\nI believe the issue stems from the copying of `Callback` returning a new instance. The solution is probably to borrow some ideas from sklearn `Pipeline` or `Ensamble`, which are meta-estimators that deal with having nested estimator instances. I think `BaseWrapper` should be made some type of meta-estimator since it can contain other instantiated objects.\r\n\r\nAlso a general comment based on the discussion in #32532 : I also think that the wrappers should strictly accept only sklearn compatibible data, i.e. `numpy.array`-like X, y with `X.shape==(n_datapoints, n_features)` and `y.shape==(n_data_points,1)` or `y.shape==(n_data_points,)`\r\n\r\nFinally, what are thoughts on just passing `X` and `y` to `build_fn`? I see a use case for extracting other data, such as number of classes to pick an appropriate loss function or final layer activation.", "Ping @fchollet for review, and removing myself as reviewer.", "@fchollet @daviddiazvico I started working on this in a separate branch to evaluate the feasibility of making this close to the sklearn API by changing the implementation to mirror sklearn's `BaseEstimator`, `ClassifierMixin` and  `RegressorMixin`.\r\n\r\nThe source is on [my fork](https://github.com/adriangb/tensorflow/tree/wrapper-devel), a brief explanation below.\r\n\r\nThe idea is similar to the current wrapper, but there was a lot of re-writing I had to do:\r\n1. Incorporate most of the changes @daviddiazvico proposed but without breaking the existing API for `build_fn` (i.e. all of the existing tests still pass, no required parameters for build_fn).\r\n2. Moved the dictionary of __init__ parameters to self.__dict__ to comply with sklearn API.\r\n3. Add `__getstate__` and `__setstate__` with logic for pickling keras `Model` and `Callback` instances.\r\n4. Add `sample_weight` argument, needed for sklearn compatibility.\r\n5. Create methods `_build_keras_model` and `_fit_keras_model` in `BaseWrapper` to clean up handling of the `X` and `y` parameters (previously, logic regarding categorical loss functions existed in `BaseWrapper`, now that functionality got moved to `KerasClassifier.fit`.\r\n6. Allow `build_fn` to be an instance of `tensorflow.python.keras.models.Model`.\r\n6. A lot of other minor things to fix new edge cases or existing incompatibilities.\r\n\r\nThis allows some cool things, for example, subclassing of `KerasClassifier` with hardcoded params:\r\n```python3\r\nclass CustomClassifier(KerasClassifier):\r\n\r\n    # define fit or model building params\r\n    def __init___(self,\r\n        hidden_layers=(100,),\r\n        max_n_no_progress=10,\r\n    ):\r\n        self.hidden_layers=hidden_layers\r\n        self.max_n_no_progress = max_n_no_progress\r\n        # must manually assign each param\r\n        # just like if you inherited from sklearn.base.BaseEstimator\r\n\r\n        # can define callbacks anywhere as long as the attribute is called 'callbacks'\r\n        self.callbacks = [EarlyStop(max_n_no_progress)]\r\n        \r\n        super().__init___()   # call with no arguments is okay\r\n\r\n    # define model building\r\n    def __call__(X, y, n_classes_, hidden_layers):\r\n        # can request X, y or any attribute of the class\r\n        if X.shape[1] == 1:\r\n          # easy to implement logic to dynamically pick last layer activation, etc.\r\n        return model\r\n```\r\n\r\nCallbacks are also supported, and they can be pickled along with the rest of the class.", "Following our discussion at https://github.com/tensorflow/tensorflow/pull/37201, our current plan is to deprecate and no longer maintain the wrapper, and let the external Scikeras library take over. Thank you for your understanding."]}, {"number": 32531, "title": "Update the version to 1.15.0-rc1.", "body": "", "comments": []}, {"number": 32530, "title": "[r2.0:CherryPick]:Update the version to 2.0.0-rc2", "body": "", "comments": []}, {"number": 32529, "title": "Keras code freezes on GPU ", "body": "Please go to Stack Overflow for help and support:\r\n\r\nhttps://stackoverflow.com/questions/tagged/tensorflow\r\n\r\nIf you open a GitHub issue, here is our policy:\r\n------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\n\r\nYes\r\n\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\n\r\nUbuntu 18.04\r\n\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**:\r\n- **TensorFlow installed from (source or binary)**:\r\n\r\nbinary (pip)\r\n\r\n- **TensorFlow version (use command below)**:\r\n\r\n1.14\r\n\r\n- **Python version**:\r\n\r\n3.6.3\r\n\r\n- **Bazel version (if compiling from source)**:\r\n- **GCC/Compiler version (if compiling from source)**:\r\n- **CUDA/cuDNN version**:\r\n\r\n\r\nCuda: 10.2\r\ncuDNN: 7.6.2.24-1+cuda10.0\r\n\r\n- **GPU model and memory**:\r\n\r\nGeforce GTX 1080Ti\r\n\r\n- **Exact command to reproduce**:\r\n\r\nIt is a lot of code and data that I am trying to dumb down to something easily reproducible.\r\n\r\n### Describe the problem\r\n\r\nMy keras model training freezes up.  By freeze up I mean I cannot ctrl-c out of the code, I can ctrl-z and kill.  The training never proceeds, it just sits at that point and the python process goes to 100% and the GPU goes to 100%.  Stack trace included below seems to indicate the code is waiting on something.\r\n\r\n```+-----------------------------------------------------------------------------+\r\n| Processes:                                                       GPU Memory |\r\n|  GPU       PID   Type   Process name                             Usage      |\r\n|=============================================================================|\r\n|    0      3499      C   python                                      6545MiB |\r\n+-----------------------------------------------------------------------------+\r\nSat Sep 14 12:29:32 2019       \r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 430.26       Driver Version: 430.26       CUDA Version: 10.2     |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  GeForce GTX 108...  Off  | 00000000:02:00.0 Off |                  N/A |\r\n| 38%   65C    P2    82W / 250W |   6555MiB / 11177MiB |    100%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n                                                                               \r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                       GPU Memory |\r\n|  GPU       PID   Type   Process name                             Usage      |\r\n|=============================================================================|\r\n|    0      3499      C   python                                      6545MiB |\r\n+-----------------------------------------------------------------------------+\r\n```\r\n\r\n```\r\ntop - 12:30:48 up 9 days, 15:45,  3 users,  load average: 1.04, 1.48, 1.44\r\nTasks: 224 total,   1 running, 156 sleeping,   0 stopped,   1 zombie\r\n%Cpu(s):  0.0 us,  5.8 sy,  6.8 ni, 87.4 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\r\nKiB Mem : 65913412 total, 40978484 free,  9833572 used, 15101356 buff/cache\r\nKiB Swap: 67048444 total, 67048444 free,        0 used. 55203584 avail Mem \r\n\r\n  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                                                                    \r\n 3499 jostheim  25   5 28.628g 4.935g 761640 S  99.7  7.9  22:56.33 python       \r\n```\r\n\r\n### Source code / logs\r\n\r\nGDB traces are here:\r\n\r\n[https://pastebin.com/qcpHGadT](https://pastebin.com/qcpHGadT)", "comments": ["@jostheim ,\r\nHi can you please provide a simple and standalone code to reproduce the issue reported from our end ? Thanks!", "Automatically closing due to lack of recent activity. Please update the issue when new information becomes available, and we will reopen the issue. Thanks!", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=32529\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=32529\">No</a>\n"]}, {"number": 32528, "title": "EstimatorSpec documentation removed from 1.14, 1.15", "body": "Looks like the documentation for tf.estimator.EstimatorSpec got lost along the way from 1.13 to 1.14. Can we please add it back in?\r\n\r\n## URL(s) with the issue: https://www.tensorflow.org/versions/r1.14/api_docs/python/tf/estimator/EstimatorSpec\r\nhttps://www.tensorflow.org/versions/r1.15/api_docs/python/tf/estimator/EstimatorSpec\r\n\r\n## Description of issue (what needs changing): Reinstate documentation (see https://www.tensorflow.org/versions/r1.13/api_docs/python/tf/estimator/EstimatorSpec)\r\n\r\n### Submit a pull request? no", "comments": ["We're not going to go back and fix the 1.14 and older docs. But this is fixed in 1.15+. The fix will be published early next week.", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=32528\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=32528\">No</a>\n"]}, {"number": 32527, "title": "[r2.0-CherryPick]:Disallow comparing ObjectIdentityWrapper to others", "body": "When using the experimental_ref() API in Tensors & Variables. A common\r\nbug I hit was incorrectly comparing a wrapped object with an unwrapped\r\nobject instead of first calling deref(). To avoid this we raise an\r\nexception now instead of returning False. This implies that if Tensors\r\nand Variables are kept in the same set or dictionary as other objects,\r\nan exception can be raised if there is a hash collision.\r\n\r\nPiperOrigin-RevId: 268837575\r\n(cherry picked from commit 57e8769bc4ef1c94ddbcfbe4a39afe8f73b433c5)", "comments": []}, {"number": 32526, "title": "[r1.15-CherryPick]:Disallow comparing ObjectIdentityWrapper to others", "body": "When using the experimental_ref() API in Tensors & Variables. A common\r\nbug I hit was incorrectly comparing a wrapped object with an unwrapped\r\nobject instead of first calling deref(). To avoid this we raise an\r\nexception now instead of returning False. This implies that if Tensors\r\nand Variables are kept in the same set or dictionary as other objects,\r\nan exception can be raised if there is a hash collision.\r\n\r\nPiperOrigin-RevId: 268837575\r\n(cherry picked from commit 57e8769bc4ef1c94ddbcfbe4a39afe8f73b433c5)", "comments": []}]