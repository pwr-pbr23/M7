[{"number": 12337, "title": "[XLA] Bring XLA Transpose021Tiled up-to-date with reference CUDA implementation.", "body": "The Transpose021Tiled is no longer up-to-date with the reference Cuda implementation and this PR updates the XLA to generate codes that resemble the latest reference Cuda implementation. The main improvement is that a two dimensional logical thread block is launched instead of a one dimensional one. Having more threads in a block increases throughput of transpose.", "comments": ["Can one of the admins verify this patch?", "(Reassigning to balance pull request review load)", "Can you merge this into the master branch instead?", "@tjingrant Please copy the changes and send the pull request against the master branch. We're not making anymore changes to the 1.3 branch.", "@tjingrant Please copy the changes and send the pull request against the master branch. We're not making anymore changes to the 1.3 branch."]}, {"number": 12336, "title": "Update learning.py", "body": "Using core variables and training framework instead of deprecated variables", "comments": ["Can one of the admins verify this patch?", "@alanyee, thanks for your PR! By analyzing the history of the files in this pull request, we identified @tensorflower-gardener, @sguada and @jhseu to be potential reviewers.", "Jenkins, test this please"]}, {"number": 12335, "title": "Correct minimum Python 3 version in install instruction", "body": "https://github.com/tensorflow/tensorflow/issues/12309", "comments": ["Can one of the admins verify this patch?", "We do have python 3.3 wheels available on PyPI: https://pypi.python.org/pypi/tensorflow\r\n\r\nIf we make this change, we should remove the wheels from pypi in the next release.", "It's actually NumPy that made 3.4 the minimum, but I imagine that will cause some confusion for people that are careless with their `pip install` commands.\r\n\r\nAnother alternative would be to change `numpy>=1.11.0` to `numpy==1.11.0` when `python==3.3`.", "Actually we need to go higher than 1.12 in numpy due to our new autograd dependency.\r\nSo we wont be able to pin it to 1.11.\r\n\r\nI am ok with this change and also having 3.3 wheel on pypi for a while.\r\nWe can use it as a transition period.\r\n", "This page https://www.tensorflow.org/install/install_linux still says \"Python 3.3+\". \r\n\r\nPlease could you deploy these updates to avoid further confusion?\r\n\r\nThank you."]}, {"number": 12334, "title": "Add \"noclang\" tag to platform_setround_test.", "body": "", "comments": []}, {"number": 12333, "title": "Updating the Release notes with cudnn 7.", "body": "", "comments": []}, {"number": 12332, "title": "Building Error on Windows of master branch", "body": "After fixing the error mention in #12288 , there are new error as shown below:\r\n\r\n```\r\n.....................................\r\n\"C:\\v-clhian\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_stream_executor.dir\\Release\\cuda_event.obj\"\r\n\"C:\\v-clhian\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_stream_executor.dir\\Release\\cuda_fft.obj\"\r\n\"C:\\v-clhian\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_stream_executor.dir\\Release\\cuda_gpu_executor.obj\"\r\n\"C:\\v-clhian\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_stream_executor.dir\\Release\\cuda_platform.obj\"\r\n\"C:\\v-clhian\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_stream_executor.dir\\Release\\cuda_platform_id.obj\"\r\n\"C:\\v-clhian\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_stream_executor.dir\\Release\\cuda_rng.obj\"\r\n\"C:\\v-clhian\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_stream_executor.dir\\Release\\cuda_stream.obj\"\r\n\"C:\\v-clhian\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_stream_executor.dir\\Release\\cuda_timer.obj\"\r\nCreating library C:/v-clhian/tensorflow/tensorflow/contrib/cmake/build/Release/pywrap_tensorflow_internal.lib and object C:/v-clhian/tensorflow/tensorflow/contrib/cmake/build/Release/pywrap_tensorflow_internal.exp\r\n5>pywrap_tensorflow_internal.exp : warning LNK4070: /OUT:_pywrap_tensorflow_internal.pyd directive in .EXP differs from output filename 'C:\\v-clhian\\tensorflow\\tensorflow\\contrib\\cmake\\build\\Release\\pywrap_tensorflow_internal.dll'; ignoring directive [C:\\v-clhian\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow_internal.vcxproj]\r\n5>zero_initializer_op.obj : error LNK2019: unresolved external symbol \"public: void __cdecl tensorflow::functor::TensorSetZero<struct Eigen::GpuDevice,struct Eigen::half>::operator()(struct Eigen::GpuDevice const &,class Eigen::TensorMap<class Eigen::Tensor<struct Eigen::half,1,1,__int64>,16,struct Eigen::MakePointer>)\" (??R?$TensorSetZero@UGpuDevice@Eigen@@uhalf@2@@functor@tensorflow@@qeaaxaebugpudevice@Eigen@@v?$TensorMap@V?$Tensor@Uhalf@Eigen@@$00$00_J@Eigen@@$0BA@UMakePointer@2@@4@@z) referenced in function \"public: virtual void __cdecl tensorflow::ZeroInitializerOp<struct Eigen::GpuDevice,struct Eigen::half>::Compute(class tensorflow::OpKernelContext *)\" (?Compute@?$ZeroInitializerOp@UGpuDevice@Eigen@@uhalf@2@@tensorflow@@ueaaxpeavopkernelcontext@2@@z) [C:\\v-clhian\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow_internal.vcxproj]\r\n5>zero_initializer_op.obj : error LNK2019: unresolved external symbol \"public: void __cdecl tensorflow::functor::TensorSetZero<struct Eigen::GpuDevice,float>::operator()(struct Eigen::GpuDevice const &,class Eigen::TensorMap<class Eigen::Tensor<float,1,1,__int64>,16,struct Eigen::MakePointer>)\" (??R?$TensorSetZero@UGpuDevice@Eigen@@m@functor@tensorflow@@qeaaxaebugpudevice@Eigen@@v?$TensorMap@V?$Tensor@M$00$00_J@Eigen@@$0BA@UMakePointer@2@@4@@z) referenced in function \"public: virtual void __cdecl tensorflow::ZeroInitializerOp<struct Eigen::GpuDevice,float>::Compute(class tensorflow::OpKernelContext *)\" (?Compute@?$ZeroInitializerOp@UGpuDevice@Eigen@@m@tensorflow@@ueaaxpeavopkernelcontext@2@@z) [C:\\v-clhian\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow_internal.vcxproj]\r\n5>zero_initializer_op.obj : error LNK2019: unresolved external symbol \"public: void __cdecl tensorflow::functor::TensorSetZero<struct Eigen::GpuDevice,double>::operator()(struct Eigen::GpuDevice const &,class Eigen::TensorMap<class Eigen::Tensor<double,1,1,__int64>,16,struct Eigen::MakePointer>)\" (??R?$TensorSetZero@UGpuDevice@Eigen@@n@functor@tensorflow@@qeaaxaebugpudevice@Eigen@@v?$TensorMap@V?$Tensor@N$00$00_J@Eigen@@$0BA@UMakePointer@2@@4@@z) referenced in function \"public: virtual void __cdecl tensorflow::ZeroInitializerOp<struct Eigen::GpuDevice,double>::Compute(class tensorflow::OpKernelContext *)\" (?Compute@?$ZeroInitializerOp@UGpuDevice@Eigen@@n@tensorflow@@ueaaxpeavopkernelcontext@2@@z) [C:\\v-clhian\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow_internal.vcxproj]\r\n5>C:\\v-clhian\\tensorflow\\tensorflow\\contrib\\cmake\\build\\Release\\pywrap_tensorflow_internal.dll : fatal error LNK1120: 3 unresolved externals [C:\\v-clhian\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow_internal.vcxproj]\r\n5>Done Building Project \"C:\\v-clhian\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow_internal.vcxproj\" (default targets) -- FAILED.\r\n1>Done Building Project \"C:\\v-clhian\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default targets) -- FAILED.\r\n\r\nBuild FAILED.\r\n```\r\n\r\nMay be some other Cmakelist error, could you help fix this?\r\n\r\n", "comments": ["This should be fixed by #12315. Can you try pulling that branch and see if it fixes the problem for you (you might get a result faster than waiting for our CI builds :)...)?", "Thanks, I will try again."]}, {"number": 12331, "title": "Jenkins' PR builds have been failing regularly since Aug. 10", "body": "I don't know if the commonality is the state of master when the branches for these changes were taken, or if there is something endemic to the current builders, or ? but the failures appear to have nothing to do with actual code changes being submitted in at least some cases.\r\n\r\nhttps://ci.tensorflow.org/job/tensorflow-pull-requests-multijob/\r\n", "comments": ["@gunan \r\n\r\nI think our builds have been unstable the last few days.", "Pull requests exclusively test unsubmitted code, so it is possible for them to be broken most of the time.\r\nHowever I see that we have some breakages on github master:\r\nhttps://ci.tensorflow.org/view/Tensorflow%20Jenkins%20Monitored%20builds/\r\n", "@gunan I can only speak to my PR builds as far as intimate details, but the failures in the two build attempts are in code base areas that don't touch my changes.\r\n", "At the moment, I see breakages in `tensorflow-master-*` builds in python3 and mac here:\r\nhttps://ci.tensorflow.org/view/Tensorflow%20Jenkins%20Monitored%20builds/\r\nBut I do not see any long time trends. We will still look into what is going on, and see if there are any infrastructure issues we can address.", "Ok - thanks & much appreciated; please feel free to close this if it is being tracked elsewhere (out of bounds or not.)"]}, {"number": 12330, "title": "Request for computation of hessian wrt tensor of shape 1 x n", "body": "There currently exists tf.hessians function which returns 2nd order *y* derivatives w.r.t. to a specified tensor *x*. Currently *x* has to be one dimensional.\r\n\r\nIn my application, I need to differentiate with respect to a tensor that has dimensions batch_size x layer_width. (I am interested in second derivative of output from neural net with respect to a particular layer.) I can bring dimensionality down to 1 x layer_width, by setting batch_size to 1. Unfortunately, this still does not let me use tf.hessian.\r\n\r\nWould it be possible to add functionality where hessian w.r.t. *effectively* one-dimensional tensors can be computed? So that, for example tensors of shape 1 x n (or 1 x 1 x n) can be used. It feels like it shouldn't be a hard problem, but I'm completely lost when I look at tf.gradients code.\r\n\r\nThanks", "comments": ["@vrv what do you think of this proposal?\r\n\r\n@iramusa As a workaround, you can [tf.squeeze](https://www.tensorflow.org/api_docs/python/tf/squeeze) on x, to change its shape from `[1, layer_width]` to `[layer_width]`, which would allow you to pass it to `tf.hessians`.", "@Sohl-Dickstein might have some opinions or ideas (I might appear to be the author but I am not) . :)", "I think calling tf.squeeze() sounds like an excellent approach. You can call tf.reshape() on the resulting Hessian if you need it to be a different shape.\r\n\r\nNote that this also lets you compute the Hessian for your original full matrix. Just flatten x by tf.reshape(x (-1,)).", "@reedwm @Sohl-Dickstein \r\n\r\nThank you for suggestion to use tf.squeeze(). Unfortunately this doesn't solve the issue for me.\r\n\r\nLet me be more concrete. This is what I'm trying to do using Keras with tf as backend. First I build a network:\r\n\r\n```\r\nx = Input(batch_shape=(1, 10))\r\nv = Dense(10)(x)\r\ny = Dense(1)(v)\r\nnet = Model(x, y)\r\n```\r\n\r\nThen I train it, etc. Then I'm interested in hessian of `y` wrt `v`. `tf.gradients(y, v)` works perfectly fine.\r\n\r\nWhat I attempted:\r\n\r\n(1) Naive: `tf.hessians(y, v)` throws:\r\n```\r\nValueError: Computing hessians is currently only supported for one-dimensional tensors. Element number 0 of `xs` has 2 dimensions.\r\n```\r\n\r\n(2) Using `tf.squeeze` to force the right shape of `v` does not help. I think that's because in the computation graph is `v` copied into a new tensor and there is no differentiable connection between that tensor and `y`. `tf.reshape(v (-1,))` has the same result. What I observe is that:\r\n```\r\nv_flat = tf.squeeze(v);\r\ntf.gradients(y, v_flat)\r\n```\r\nreturns `[None]`\r\n\r\n(3) I can modify my original network the following way:\r\n```\r\nx = Input(batch_shape=(1, 10))\r\nv = Dense(10)(x)\r\n\r\nv_flat = tf.squeeze(v)  # added\r\nv_non_flat = tf.reshape(v_flat, (1, 10))   # added\r\n\r\ny = Dense(1)(v_non_flat)\r\nnet = Model(x, y)\r\n```\r\nThen, I hope to be able to call `tf.hessians(y, v_flat)`. Unfortunately, I cannot test that because the above code halts with error:\r\n\r\n```\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-14-68462b8d53de> in <module>()\r\n      7 \r\n      8 y = Dense(10)(v_non_flat)\r\n----> 9 net = Model(x, y)\r\n     10 net.compile(optimizer='adam', loss='mse')\r\n     11 \r\n\r\n/home/ira/code/envs/flexi/lib/python3.5/site-packages/keras/engine/topology.py in __init__(self, input, output, name)\r\n   1814                 cls_name = self.__class__.__name__\r\n   1815                 raise TypeError('Output tensors to a ' + cls_name + ' must be '\r\n-> 1816                                 'Keras tensors. Found: ' + str(x))\r\n   1817         # Build self.output_layers:\r\n   1818         for x in self.outputs:\r\n\r\nTypeError: Output tensors to a Model must be Keras tensors. Found: Tensor(\"add_5:0\", shape=(1, 1), dtype=float32)\r\n```\r\n\r\nDo you have any further suggestions? Possibly solving the issue from (3) could bring me on track.", "You're right that my `tf.squeeze` suggestion does not work, because there is no path from the `tf.squeeze` tensor to `y`. \r\n\r\n(3) is quite clever. I do not know Keras so I do not know what the problem is. @fchollet, do you know how to resolve (3)? @iramusa, you can also ask on StackOverflow to get help with (3).\r\n\r\nMarking as contributions welcome if anyone wants to add support for effectively 1D Tensors to `tf.hessians`. ", "Thanks\r\n\r\n@tillahoffmann Do you have an idea on how to solve this? ", "@iramusa, you could approach the problem the other way round: Start with a 1D tensor which you reshape to the desired shape. Then you can compute the hessian of some function of your tensor with respect to the 1D tensor and reshape the hessian to match the desired shape. But examples are better than theory:\r\n\r\n```python\r\nshape = (3, 5)\r\n\r\nwith tf.Graph().as_default():\r\n    x_flat = tf.constant(np.random.normal(0, 1, np.prod(shape)))\r\n    x = tf.reshape(x_flat, shape)\r\n    y = x * x\r\n    hessian_flat, = tf.hessians(y, x_flat)\r\n    hessian = tf.reshape(hessian_flat, shape + shape)\r\n```\r\n\r\nThe problem with the squeezing is a result of the computation graph being a [DAG](https://en.wikipedia.org/wiki/Directed_acyclic_graph): suppose `y` is a function of your tensor `x` and `s` is the squeezed tensor. Then the graph looks something like this (excuse my terrible ASCII art).\r\n\r\n```\r\n     x\r\n    / \\\r\n   /   v\r\n  v   s = tf.squeeze(x)\r\ny = f(x)\r\n```\r\n\r\nIn short, `tf.gradients(y, s)` will return `None` if `s` is not a child of `y` in the computation graph. One might argue that `s` and `x` *are* the same entity but unfortunately that is difficult to capture using the DAG.", "@reedwm  I try to fix this issue. \r\nPlz check and review my PR https://github.com/tensorflow/tensorflow/pull/15308", "Closing as this is resolved\r\n\r\n\r\n\r\n"]}, {"number": 12329, "title": "something wrong with the path", "body": "", "comments": ["Can one of the admins verify this patch?", "Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed, please reply here (e.g. `I signed it!`) and we'll verify.  Thanks.\n\n---\n\n- If you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n- If your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\n- In order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n<!-- need_sender_cla -->", "i signed it", "CLAs look good, thanks!\n\n<!-- ok -->", "I do not think this change will work. This is how `os.path.join` works:\r\n```\r\n>>> import os\r\n>>> os.path.join('a', 'b')\r\n'a/b'\r\n>>> os.path.join('a', '/b')\r\n'/b'\r\n```\r\nSo the first part of the path, `TEST_TMPDIR` is ignored with your change. I am closing this PR.", "I just try the code both in linux and windows.The result is :linux users do not need to change anything,but if you use windows , you need to modify what i have been mentioned:\r\n\r\nin linux:\r\n`\r\n>>>os.path.join(os.getenv('TEST_TMPDIR', '/tmp'),'/tensorflow/mnist/logs/fully_connected_feed')\r\n'/tensorflow/mnist/logs/fully_connected_feed'\r\n>>> os.path.join(os.getenv('TEST_TMPDIR', '/tmp'),'tensorflow/mnist/logs/fully_connected_feed')\r\n'/tmp/tensorflow/mnist/logs/fully_connected_feed'\r\n\r\n`\r\n\r\nin windows:\r\n`\r\n>>> os.path.join(os.getenv('TEST_TMPDIR', '/tmp'),'/tensorflow/mnist/logs/fully_\r\nconnected_feed')\r\n'/tensorflow/mnist/logs/fully_connected_feed'\r\n>>> os.path.join(os.getenv('TEST_TMPDIR', '/tmp'),'tensorflow/mnist/logs/fully_c\r\nonnected_feed')\r\n'/tmp\\\\tensorflow/mnist/logs/fully_connected_feed'\r\n\r\n`", "I still do not see why we may need your edit.\r\nOn windows, we clearlly should avoid using `/tmp`.\r\nBut your change makes all the statement a noop both on windows and linux, and it always returns `/tmp/tensorflow/mnist/logs/fully_connected_feed`. This is definitely something we do not want."]}, {"number": 12328, "title": "Issues related to integrating syntaxnet/parsey mcparseface in Java + tf.reduce_sum", "body": "Summary/tldr: \r\nIt would be nice with more String support in the Java API and a tf.reduce_sum which supports string concatenation. \r\n\r\nBody:\r\nI have successfully hacked in the custom ops of syntaxnet into the Tensorflow master as I wish to run syntaxnet from my Java NLP pipeline. \r\n\r\nI do this by saving a SavedModelBundle and load it again from Java. \r\n\r\nMy project is based on a saved model of parsey_mcparseface from this branch: \r\nhttps://github.com/dmansfield/models/tree/documents-from-tensor\r\nBy user @dmansfield.\r\n\r\nAnd a tensorflow build based on the custom ops from: \r\nhttps://github.com/tensorflow/models/tree/master/syntaxnet\r\nHacked into master of tensorflow.\r\n\r\nHacking in the ops, as build in ops, was necessary as the Java api through the JNI does not support user loaded ops yet (AFAIK). \r\n\r\nThe code with the syntaxnet ops hacked in can be found here:\r\nhttps://github.com/marhlder/syntaxnet-ops-hack\r\n\r\nI have everything running except that the strings in the output tensor from my saved model includes junk (non-printable chars) which I think is due to the offset table described in tensor_jni.cc file. \r\n\r\nI can run the same model from Python without any issues. \r\n\r\nThe Java API does currently not seem to support anything but scalar string tensors. It looks like using a scalar string tensor will solve my problem as that part of the codes seems to handle the offset table. \r\n\r\nI would therefore like to reduce the string tensor produced by my parsey mcparseface model. \r\nI then found that the tf.reduce_sum does not yet support string concatenation. \r\n\r\nThere should already be an op for it: \r\nhttps://github.com/tensorflow/tensorflow/issues/701\r\n\r\nUser @mrry commented that he was looking for a use case for this here:\r\nhttps://stackoverflow.com/questions/34247374/merge-string-tensors-in-tensorflow\r\n\r\n\r\n ", "comments": ["I can't speak to the Java API issues\u2014@ashankar would know the answers here\u2014but the [`tf.reduce_join()`](https://www.tensorflow.org/api_docs/python/tf/reduce_join) operation will concatenate a `tf.string` tensor along one or more dimensions (separated by an optional separator string), and I think it has the functionality you're looking for.", "Thx a lot. tf.reduce_join() worked :) \r\n\r\nIt seems like I still get junk chars in my output from my Java tensor even though i use the tensor.bytesValue() method to retrieve my scalar string. \r\n\r\nThe important characters seems to be ok.. My output looks like this: \r\n\u0003-:0\u0012\u000fI love grapes .\u001a\r\n\u0001\u0010 \u0018  \u0001*\u0003PRP2\u0004PRON:\u0005nsubj\u001a\r\n\u0004ove\u0010\u0001\u0018\u0004*\u0003VBP2\u0004VERB:\u0004ROOT\u001a\u001f\r\n\u0006grapes\u0010\u0006\u0018\u000b \u0001*\u0003NNS2\u0004NOUN:\u0004dobj\u001a\u0016\r\n \u0001*\u0001.2\u0001.:\u0005punct\r\n\u0003-:1\u0012\u0016Do you even lift bro ?\u001a\u001a\r\n\u0002Do\u0010 \u0018\u0001 \u0003*\u0003VBP2\u0004VERB:\u0003aux\u001a\u001d\r\n\u0003you\u0010\u0002\u0018\u0004 \u0003*\u0003PRP2\u0004PRON:\u0005nsubj\u001a\u001d\r\n\u0004even\u0010\u0006\u0018         \u0003*\u0002RB2\u0003ADV:\u0006advmod\u001a\u001a\r\n\u0004lift\u0010\u000b\u0018\u000e*\u0002VB2\u0004VERB:\u0004ROOT\u001a\u001c\r\n\u0003bro\u0010\u0010\u0018\u0012 \u0003*\u0003NNP2\u0004NOUN:\u0004dobj\u001a\u0016\r\n\u0001?\u0010\u0014\u0018\u0014 \u0003*\u0001.2\u0001.:\u0005punct", "Can you provide a hex dump of the content including the garbage characters (their true values are getting obfuscated above - looks like they just got replaced with U+FFFD)?", "Sure:\r\n\r\n0A032D3A30120F49206C6F766520677261706573202E1A1B0A01491000180020012A03505250320450524F4E3A056E7375626A1A1B0A046C6F7665100118042A035642503204564552423A04524F4F541A1F0A066772617065731006180B20012A034E4E5332044E4F554E3A04646F626A1A160A012E100D180D20012A012E32012E3A0570756E63740A032D3A311216446F20796F75206576656E206C6966742062726F203F1A1A0A02446F1000180120032A035642503204564552423A036175781A1D0A03796F751002180420032A03505250320450524F4E3A056E7375626A1A1D0A046576656E1006180920032A02524232034144563A066164766D6F641A1A0A046C696674100B180E2A0256423204564552423A04524F4F541A1C0A0362726F1010181220032A034E4E5032044E4F554E3A04646F626A1A160A013F1014181420032A012E32012E3A0570756E6374\r\n\r\nThx for taking a look at it \ud83d\udc4d \r\n", "@marhlder let's put the thanks in the fridge until i actually do something of merit :- )\r\n\r\nthere are robust unit tests for Tensor.java, which pass on your syntaxnet-ops-hack repo (which i had a little time tonight to fork/clone/build/poke around) so i don't think what you're seeing is due to something deficient at the JNI implementation boundary.\r\n\r\nI couldn't find your Java code running the parser model; in lieu of me implementing something like parser_eval.py in Java to debug the situation, might you check that code into your repo so that i could use it as a base to debug from?", "Hehe thx again ;) \r\n\r\nI have pushed my java code :) \r\nThe code is very proof of concept, but feel free to use it :) \r\n\r\nMy javac command line string looks like this: \r\njavac -cp .:/usr/share/java/junit4.jar:/usr/share/java/hamcrest-core.jar:/usr/share/java/libtensorflow.jar TensorflowModelWrapper.java TensorFlowModelWrapperTest.java\r\n\r\nAnd running it looks like this:\r\njava -Dfile.encoding=utf-8 -cp .:/usr/share/java/junit4.jar:/usr/share/java/hamcrest-core.jar:/usr/share/java/libtensorflow.jar org.junit.runner.JUnitCore TensorFlowModelWrapperTest\r\n\r\nI have included my compiled jni.so and .jar files which originates from my https://github.com/marhlder/syntaxnet-ops-hack repo :)  (But you probly wanna compile them your self)\r\n\r\nThe SavedModelBundle is also included :) \r\n\r\nThe code used to build the model is a merge between https://github.com/dmansfield/models/tree/documents-from-tensor\r\nand\r\nhttps://github.com/tensorflow/models/tree/master/syntaxnet\r\n\r\nUsing a modified parsey_mcparseface.py source file from https://github.com/dmansfield/models/tree/documents-from-tensor", "I just tried running my program with a larger input and that makes it crash with the following message:\r\n\r\n*** Error in `java': malloc(): memory corruption: 0x00007f3db800f0a0 ***\r\n======= Backtrace: =========\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7f3e650577e5]\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x8213e)[0x7f3e6506213e]\r\n/lib/x86_64-linux-gnu/libc.so.6(__libc_malloc+0x54)[0x7f3e65064184]\r\n/usr/lib/x86_64-linux-gnu/libstdc++.so.6(_Znwm+0x18)[0x7f3e461bde78]\r\n/lib/libtensorflow_jni.so(+0x1c8d49e)[0x7f3e2316d49e]\r\n/lib/libtensorflow_jni.so(+0x1c8f1d2)[0x7f3e2316f1d2]\r\n/lib/libtensorflow_jni.so(+0x1dc6391)[0x7f3e232a6391]\r\n/lib/libtensorflow_jni.so(+0x1dc3b8f)[0x7f3e232a3b8f]\r\n/lib/libtensorflow_jni.so(+0x1dc3c30)[0x7f3e232a3c30]\r\n/lib/libtensorflow_jni.so(+0x1dc3f63)[0x7f3e232a3f63]\r\n/lib/libtensorflow_jni.so(+0x1c9a6b4)[0x7f3e2317a6b4]\r\n/lib/libtensorflow_jni.so(+0x1c8fb74)[0x7f3e2316fb74]\r\n/lib/libtensorflow_jni.so(+0x1b922ec)[0x7f3e230722ec]\r\n/lib/libtensorflow_jni.so(+0x1b642df)[0x7f3e230442df]\r\n/lib/libtensorflow_jni.so(+0x1b515c5)[0x7f3e230315c5]\r\n/lib/libtensorflow_jni.so(+0x1dbf6c1)[0x7f3e2329f6c1]\r\n/lib/libtensorflow_jni.so(+0x1dbd7a7)[0x7f3e2329d7a7]\r\n/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0xb8c80)[0x7f3e461e8c80]\r\n/lib/x86_64-linux-gnu/libpthread.so.0(+0x76ba)[0x7f3e657e76ba]\r\n/lib/x86_64-linux-gnu/libc.so.6(clone+0x6d)[0x7f3e650e73dd]\r\n....... (Continues for ages)\r\nAborted (core dumped)", "Might there be a memory management issue in the JNI code? \r\nJava_org_tensorflow_Tensor_scalarBytes?\r\nLooks like it might be releasing the byte array before the java code gets a chance it use it?\r\n\r\nI'm not much into JNI but other snippets seems to parse the byte array to a method before they release it (i.e. giving the java program a chance to make a copy or something)\r\nE.g. https://stackoverflow.com/questions/24076624/how-to-pass-char-array-from-c-jni-function-to-java-method-as-byte\r\n\r\nHmm i guess release means something else in this context.. \r\n\r\nI just printed the string in the JNI code and it seems like there is problems already before the JNI code gets its hands on it. \r\n\r\nI inserted a tf.Print op at the end of my graph in python before i export it to a SavedModelBundle and got the following output (I'm still running the model through Java): \r\n\r\n[\\n\\003-:0\\022$I love grapes.Do you even lift bro ?\\032\\033\\n\\001I\\020\\000\\030\\000 \\001*\\003PRP2\\004PRON:\\005nsubj\\032\\033\\n\\004love\\020\\001\\030\\004*\\003VBP2\\004VERB:\\004ROOT\\032!\\n\\tgrapes.Do\\020\\006\\030\\016 \\001*\\002NN2\\004NOUN:\\004dobj\\032\\035\\n\\003you\\020\\020\\030\\022 \\005*\\003PRP2\\004PRON:\\005nsubj\\032\\035\\n\\004even\\020\\024\\030\\027 \\005*\\002RB2\\003ADV:\\006advmod\\032\\035\\n\\004lift\\020\\031\\030\\034 \\002*\\002VB2\\004VERB:\\005ccomp\\032\\034\\n\\003bro\\020\\036\\030  \\005*\\003NNP2\\004NOUN:\\004dobj\\032\\026\\n\\001?\\020\\\"\\030\\\" \\001*\\001.2\\001.:\\005punct] \r\n", "I'm just cleaning up the code i use to export the model. Will post it soon :)", "Ok - no rush; i'm just starting to spin up for the day now and will probably have a busy morning.\r\n\r\nThe tf.Print output in Python seems to jive with the hex dump you provided above as far as the 'junk' characters - though the placement of the whole of the second sentence is different.\r\nWhat happens between the steps of where you placed the tf.Print and where you were reporting seeing junk-less output from Python?\r\n", "The given output through tf.Print is the saved model running through the Java API. (I've edited my previous post to clarify). There still does not seem to be any issues when i run the model purely through Python. (That is run my modified parsey_mcparseface.py from https://github.com/dmansfield/models/tree/documents-from-tensor)  \r\n\r\nI think the difference between the two outputs i've posted (hex and tf.Print) is my own fault :) \r\n\r\nThe code I use to create and export my model to a SavedModelBundle can now be found here: https://github.com/marhlder/parsey_mcparseface_export\r\n\r\nI run the script ./syntaxnet/export_model.sh from models/syntaxnet/", "Hmmm... i couldn't find `export_model.sh`, `parsey_mcparseface.py` nor either of `TensorflowModelWrapper.java` & `TensorFlowModelWrapperTest.java` in your https://github.com/marhlder/parsey_mcparseface_export repo.  :- ?\r\n\r\n(and could find no `parsey_mcparseface.py` in https://github.com/dmansfield/models/tree/documents-from-tensor )\r\n\r\n((and i cannot find a `models/syntaxnet` directory pair - there is a `.../syntaxnet/syntaxnet/models` in Mansfield's repo - is this what you mean for this directory?))\r\n\r\ni feel like i've totally misread what you've written after so many strikeouts.  ?\r\n\r\n", "Sorry my bad :) Seems i did not push to the newly created remote. Its on a branch called documents-from-tensor. parsey_mcparseface.py is in syntaxnet/syntaxnet on https://github.com/marhlder/parsey_mcparseface_export/tree/documents-from-tensor/syntaxnet/syntaxnet.\r\n\r\nThe java files are in https://github.com/marhlder/syntaxnet-ops-hack/tree/syntaxnet-ops-hack\r\nin a folder called run_saved_model_java\r\n \r\nI think my issues might be related to how parsey_mcparseface.py is calling gen_parser_ops.document_sink() in the case where i'm not exporting the model. Will investigate\r\n", "Now we're cooking with grease... was able to fork/clone/build locally and get the junk characters you see. Will start anatomizing.", "Ok, i got it working by making a new custom op instead of the syntaxnet DocumentSink op i've added my own DocumentStringSink op which makes it possible to output a string tensor instead of a file. Will push my code soon. \r\n\r\nLets close this issue and continue on the linked repositories :) ", "Very glad you got a working solution - i don't see a problem with how you expected your original implementation to work though, so i'd still like to determine why it didn't work as written, if you don't mind.\r\n\r\nI'll look for the code pushes; i noticed when i tried to build the target `//tensorflow/tools/pip_package:build_pip_package` in your `syntaxnet-ops-hack` branch (which i merged down to my master fork), there are dependencies in there somewhere which end up building both `protobuf_archive/libprotobuf.a` and `com_google_protobuf/libprotobuf.a`\r\nAt link time for the subtarget `//tensorflow/python:_pywrap_tensorflow_internal.so`, the linker isn't at all happy about finding the duplicate symbols.\r\nIf this is a 'forgot to push something' type of situation, please do push -- but if this is a 'works for me' situation, please don't waste time on it. :- )\r\n", "I have not tried to build the pip package for some time as it is not necessary for my objective of getting it to run through Java. I will have a look at it \ud83d\udc4d \r\n\r\nI think the extra \"junk\" bytes are something used internally in the syntaxnet code and that the code from https://github.com/dmansfield/models/tree/documents-from-tensor, merged with the newest code from the syntaxnet repo, did not take this into account. \r\n\r\n\r\n\r\n", "I agree with that conclusion - that the operations being done in the `DocumentSink` and `DocumentStringSink` operators are excluding those junk characters in a way that `tf.reduce_join` was not cognizant of.\r\n\r\nAs far as not building the pip package, were this 1690s Salem they might look at you askance -- by what black magic were you able to add the `DocumentStringSink` operator to `document_filters.cc` / `parser_ops.cc` the other day, and then successfully reference it in your `parsey_mcparseface.py`?\r\n", "Ubuntu 17.10, Python 3.6.2, Syntaxnet-ops-hack main branch, cpu only, java 9.0.1, Eclipse 4.7.1a.  \r\n\r\nJust for the record I can build both the Tensorflow 1.4 cpu and gpu and pip packages in the normal tensorflow branch, but I need and want to use Syntaxnet in Java as part of my toolchain integration with other software.   Those libraries will obviously complain about not having the Syntaxnet Ops (FeatureSize, etc).  \r\n\r\nIssues:\r\n\r\nhttp://www.bolcer.org/java-syntaxnet.png\r\n\r\n1) Large inputs will crash Java (not a big deal as I can segment/page my input to get around this). \r\n\r\n2) Output character encoding and/or bytes.   In my Eclipse Run Configuration-->Common console I tried several different encodings.  It defaults to inherited-->utf-8.   \r\n\r\nI'm going to try to export my own local model as the next step.  \r\n\r\nTried the default one that comes w/ the 1.4 Tensorflow branch. \r\n\r\ntensorflow/tensorflow/contrib/syntaxnet/models/parsey_mcparseface/context.pbtxt\r\nhttps://github.com/tensorflow/tensorflow r1.4\r\n\r\nNo difference.   So, DocumentStringSink?  Also looking at TensorTest.java. ", "@gbolcer I also see some junk characters when I use the saved_model from https://github.com/unsiloai/syntaxnet-ops-hack/tree/syntaxnet-ops-hack/run_saved_model_java/SAVED_MODEL\r\n\r\nWere you able to export your own model and get this working?\r\n\r\n@marhlder Will it be possible for you to share the modified parsey_mcparseface.py source file from https://github.com/dmansfield/models/tree/documents-from-tensor which you used to generate the model?", "It's been a while and I have been using a docker image as a temporary solution.  Let me try to recreate it.  ", "For any one still interested in this, I currently use the syntaxnet ops as a seperate lib of custom ops which I then include into tensorflow. The code works with the prebuild java binaries distributed by TensorFlow. It probably also works for the python binaries installed with pip. \r\n\r\nThe code can be found in this branch: \r\nhttps://github.com/unsiloai/syntaxnet-ops-hack/tree/separate_lib. \r\n\r\nSee: \r\nhttps://www.tensorflow.org/extend/adding_an_op, https://www.tensorflow.org/extend/adding_an_op#compile_the_op_using_bazel_tensorflow_source_installation.\r\n\r\nThe library can be build using: \r\n./configure\r\nbazel build --config opt \\\r\n //tensorflow/java:tensorflow \\\r\n //tensorflow/java:libtensorflow_jni\r\nbazel build --config opt //tensorflow/user_ops:syntaxnet_dragnn_ops.so\r\n\r\nFor exporting the model see: \r\nhttps://github.com/unsiloai/parsey_mcparseface_export/tree/documents-from-tensor/syntaxnet/syntaxnet\r\nhttps://github.com/unsiloai/parsey_mcparseface_export/tree/documents-from-tensor/syntaxnet/syntaxnet/export_model.sh", "Thanks, will give it a try.  Still very interested in getting it working the way I need it.  \r\n\r\nOkay, first try I ran into this error here. \r\nhttps://github.com/bazelbuild/bazel/issues/4652\r\n\r\nI deleted all mentions of the armeabi-v7a text wherever it complained about it, and it looks like it's generating the .so and .jar files.   Will test the sample java program next.....\r\n\r\nPlain old Tensorflow (https://github.com/tensorflow/tensorflow.git) compiles out of the box on my platform w/ the configuration below, including the java:tensorflow java:libtensorflow_jni, and //tensorflow/tools/pip_package:build_pip_package\r\n\r\nOkay, bazel version 0.15.0\r\n\r\nUbuntu (lsb_release -a) \r\nNo LSB modules are available.\r\nDistributor ID:\tUbuntu\r\nDescription:\tUbuntu 18.04 LTS\r\nRelease:\t18.04\r\nCodename:\tbionic\r\n\r\ngcc --version\r\ngcc (Ubuntu 7.3.0-16ubuntu3) 7.3.0\r\n\r\ncd tensorflow\r\ngit describe --tags\r\nv1.8.0-4356-g2f7609d95d\r\n\r\n", "I have re-enabled notifications for this issue/thread, but you are also welcome to contact me more directly if I can be of help.", "Okay, new problems on this command. \r\n\r\n bazel build --config opt //tensorflow/user_ops:syntaxnet_dragnn_ops.so\r\ngreg@salt:~/code/syntaxnet-ops-hack-separate_lib$  bazel build --config opt //tensorflow/user_ops:syntaxnet_dragnn_ops.so\r\nWARNING: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/core/BUILD:1816:1: in includes attribute of cc_library rule //tensorflow/core:framework_headers_lib: '../../external/nsync/public' resolves to 'external/nsync/public' not below the relative path of its package 'tensorflow/core'. This will be an error in the future. Since this rule was created by the macro 'cc_header_only_library', the error might have been caused by the macro implementation in /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/tensorflow.bzl:1143:30\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/syntaxnet/BUILD:13:1: First argument of 'load' must be a label and start with either '//', ':', or '@'.\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/syntaxnet/BUILD:13:1: file 'syntaxnet' was not correctly loaded. Make sure the 'load' statement appears in the global scope in your file\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/syntaxnet/BUILD:35:1: name 'tf_proto_library' is not defined (did you mean 'cc_proto_library'?)\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/syntaxnet/BUILD:40:1: name 'tf_proto_library' is not defined (did you mean 'cc_proto_library'?)\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/syntaxnet/BUILD:45:1: name 'tf_proto_library' is not defined (did you mean 'cc_proto_library'?)\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/syntaxnet/BUILD:56:1: name 'tf_proto_library' is not defined (did you mean 'cc_proto_library'?)\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/syntaxnet/BUILD:66:1: name 'tf_proto_library' is not defined (did you mean 'cc_proto_library'?)\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/syntaxnet/BUILD:76:1: name 'tf_proto_library' is not defined (did you mean 'cc_proto_library'?)\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/dragnn/tensorflow_ops.bzl:537:12: name 'set' is not defined\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/BUILD:16:1: Target '//tensorflow/user_ops/syntaxnet:document_filters' contains an error and its package is in error and referenced by '//tensorflow/user_ops:syntaxnet_dragnn_ops.so'\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/BUILD:16:1: Target '//tensorflow/user_ops/syntaxnet:lexicon_builder' contains an error and its package is in error and referenced by '//tensorflow/user_ops:syntaxnet_dragnn_ops.so'\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/BUILD:16:1: Target '//tensorflow/user_ops/syntaxnet:reader_ops' contains an error and its package is in error and referenced by '//tensorflow/user_ops:syntaxnet_dragnn_ops.so'\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/BUILD:16:1: Target '//tensorflow/user_ops/syntaxnet:unpack_sparse_features' contains an error and its package is in error and referenced by '//tensorflow/user_ops:syntaxnet_dragnn_ops.so'\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/BUILD:16:1: Target '//tensorflow/user_ops/syntaxnet:registry' contains an error and its package is in error and referenced by '//tensorflow/user_ops:syntaxnet_dragnn_ops.so'\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/BUILD:16:1: error loading package 'tensorflow/user_ops/dragnn': Extension 'tensorflow/user_ops/dragnn/tensorflow_ops.bzl' has errors and referenced by '//tensorflow/user_ops:syntaxnet_dragnn_ops.so'\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/BUILD:16:1: error loading package 'tensorflow/user_ops/dragnn': Extension 'tensorflow/user_ops/dragnn/tensorflow_ops.bzl' has errors and referenced by '//tensorflow/user_ops:syntaxnet_dragnn_ops.so'\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/BUILD:16:1: error loading package 'tensorflow/user_ops/dragnn': Extension 'tensorflow/user_ops/dragnn/tensorflow_ops.bzl' has errors and referenced by '//tensorflow/user_ops:syntaxnet_dragnn_ops.so'\r\nERROR: /home/greg/code/syntaxnet-ops-hack-separate_lib/tensorflow/user_ops/BUILD:16:1: error loading package 'tensorflow/user_ops/dragnn': Extension 'tensorflow/user_ops/dragnn/tensorflow_ops.bzl' has errors and referenced by '//tensorflow/user_ops:syntaxnet_dragnn_ops.so'\r\nERROR: Analysis of target '//tensorflow/user_ops:syntaxnet_dragnn_ops.so' failed; build aborted: error loading package 'tensorflow/user_ops/dragnn': Extension 'tensorflow/user_ops/dragnn/tensorflow_ops.bzl' has errors\r\nINFO: Elapsed time: 0.614s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully (3 packages loaded)\r\n    currently loading: tensorflow/user_ops/dragnn\r\ngreg@salt:~/code/syntaxnet-ops-hack-separate_lib$ \r\n\r\n", "I do not think the bazel scripts are compatible with 0.15.0 \r\n\r\nYou are likely to have more luck with 0.8.0", "Thanks!  I just changed all the set= to depset=, I also commented out the\nsyntaxnet reference in the load command as it seemed to already have it\naccessible.\n\nIt seems to have generated the file.\n\ntensorflow/user_ops/syntaxnet/workspace.h: In instantiation of 'int\nsyntaxnet::WorkspaceRegistry::Request(const string&) [with W =\nsyntaxnet::VectorVectorIntWorkspace; std::__cxx11::string =\nstd::__cxx11::basic_string<char>]':\ntensorflow/user_ops/syntaxnet/sentence_features.h:139:77:   required from\nhere\ntensorflow/user_ops/syntaxnet/workspace.h:61:23: warning: comparison\nbetween signed and unsigned integer expressions [-Wsign-compare]\nTarget //tensorflow/user_ops:syntaxnet_dragnn_ops.so up-to-date:\n  bazel-bin/tensorflow/user_ops/syntaxnet_dragnn_ops.so\nINFO: Elapsed time: 27.009s, Critical Path: 11.15s\nINFO: 86 processes: 86 local.\nINFO: Build completed successfully, 91 total actions\ngreg@salt:~/code/syntaxnet-ops-hack-separate_lib$\n\nOn Mon, Jul 2, 2018 at 2:27 PM, Martin Damgaard Nielsen <\nnotifications@github.com> wrote:\n\n> I do not think the bazel scripts are compatible with 0.15.0\n>\n> You are likely to have more luck with 0.8.0\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/12328#issuecomment-401941075>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ASZzSGG_ZV09q2K7_JIyNG50KBQVN6KVks5uCpBIgaJpZM4O47VJ>\n> .\n>\n\n\n\n-- \ngreg@bolcer.org, http://bolcer.org, c: +1.714.928.5476\n", "Little further...now I just need to export the model. \r\n\r\nLoading model....\r\n2018-07-02 15:57:17.117391: I tensorflow/core/platform/s3/aws_logging.cc:53] Initializing Curl library\r\n2018-07-02 15:57:17.133986: I tensorflow/cc/saved_model/loader.cc:240] Loading SavedModel with tags: { serve }; from: /home/greg/Insync/Working/tensorlibs/run_saved_model_java/SAVED_MODEL/\r\n2018-07-02 15:57:17.188982: I tensorflow/cc/saved_model/loader.cc:289] SavedModel load for tags { serve }; Status: fail. Took 54988 microseconds.\r\nException in thread \"main\" org.tensorflow.TensorFlowException: Op type not registered 'FeatureSize' in binary running on salt. Make sure the Op and Kernel are registered in the binary running in this process.\r\n\tat org.tensorflow.SavedModelBundle.load(Native Method)\r\n\tat org.tensorflow.SavedModelBundle.load(SavedModelBundle.java:39)\r\n\tat crafty.bear.tensorbuilder.syntaxnet.TensorflowModelWrapper.<init>(TensorflowModelWrapper.java:15)\r\n\tat crafty.bear.tensorbuilder.syntaxnet.ParseyMcParsefaceWrapper.<init>(ParseyMcParsefaceWrapper.java:14)\r\n\tat crafty.bear.tensorbuilder.syntaxnet.TensorFlowModelWrapperTest.testSyntaxnet(TensorFlowModelWrapperTest.java:54)\r\n\tat crafty.bear.tensorbuilder.parsley.Parsely.main(Parsely.java:9)", "Thanks @marhlder , @gbolcer. I was able to build the syntaxnet_dragnn_ops binary, and use the trained models from https://github.com/unsiloai/parsey_mcparseface_export/tree/documents-from-tensor/syntaxnet/SAVED_MODEL to run inference. \r\n\r\nBtw, I am using  bazel 0.5.4.", "I'm almost there too.  I didn't build it right the first time, but it looks like it'll build correctly this time.  Thanks for the link to the model.  I ran into some java9 issues too.    I had to add the following:\r\n\r\n  --java_toolchain=@bazel_tools//tools/jdk:toolchain_java9 \r\n  --host_java_toolchain=@bazel_tools//tools/jdk:toolchain_java9\r\n  --jobs 1\r\n\r\n", "Okay, I got as far as I could.  I had to do it on Windows at home.  This is the final error message.  I think it could be that it's not linking correctly on windows.  I'll try it on my Ubuntu box when I get back into the office on Monday. \r\n\r\nGreg\r\n\r\norg.tensorflow.TensorFlowException: Op type not registered 'FeatureSize' in binary running on FX11. Make sure the Op and Kernel are registered in the binary running in this process. Note that if you are loading a saved graph which used ops from tf.contrib, accessing (e.g.) `tf.contrib.resampler` should be done before importing the graph, as contrib ops are lazily registered when the module is first accessed.\r\n\tat org.tensorflow.SavedModelBundle.load(Native Method)\r\n\tat org.tensorflow.SavedModelBundle.load(SavedModelBundle.java:39)\r\n\tat crafty.bear.tensorbuilder.syntaxnet.TensorflowModelWrapper.<init>(TensorflowModelWrapper.java:15)\r\n\tat crafty.bear.tensorbuilder.syntaxnet.ParseyMcParsefaceWrapper.<init>(ParseyMcParsefaceWrapper.java:14)\r\n\tat crafty.bear.tensorbuilder.syntaxnet.TensorFlowModelWrapperTest.testSyntaxnet(TensorFlowModelWrapperTest.java:54)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206)\r\n\r\n", "Did you build and dynamicly load the op library before loading the saved\nmodel?\n\nOn Fri, Jul 6, 2018, 22:47 gbolcer <notifications@github.com> wrote:\n\n> Okay, I got as far as I could. I had to do it on Windows at home. This is\n> the final error message. I think it could be that it's not linking\n> correctly on windows. I'll try it on my Ubuntu box when I get back into the\n> office on Monday.\n>\n> Greg\n>\n> org.tensorflow.TensorFlowException: Op type not registered 'FeatureSize'\n> in binary running on FX11. Make sure the Op and Kernel are registered in\n> the binary running in this process. Note that if you are loading a saved\n> graph which used ops from tf.contrib, accessing (e.g.)\n> tf.contrib.resampler should be done before importing the graph, as\n> contrib ops are lazily registered when the module is first accessed.\n> at org.tensorflow.SavedModelBundle.load(Native Method)\n> at org.tensorflow.SavedModelBundle.load(SavedModelBundle.java:39)\n> at\n> crafty.bear.tensorbuilder.syntaxnet.TensorflowModelWrapper.(TensorflowModelWrapper.java:15)\n> at\n> crafty.bear.tensorbuilder.syntaxnet.ParseyMcParsefaceWrapper.(ParseyMcParsefaceWrapper.java:14)\n> at\n> crafty.bear.tensorbuilder.syntaxnet.TensorFlowModelWrapperTest.testSyntaxnet(TensorFlowModelWrapperTest.java:54)\n> at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\n> Method)\n> at\n> java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n> at\n> java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n> at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n> at\n> org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n> at\n> org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n> at\n> org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n> at\n> org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n> at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n> at\n> org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n> at\n> org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n> at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n> at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n> at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n> at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n> at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n> at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n> at\n> org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\n> at\n> org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n> at\n> org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538)\n> at\n> org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760)\n> at\n> org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460)\n> at\n> org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206)\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/12328#issuecomment-403141309>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ACkL71DQicYkDsV39RevFZBHuW0Xx8Zlks5uD8zZgaJpZM4O47VJ>\n> .\n>\n", "I think the issue is that I had to build the whole stack statically with \n--config=monolithic and some of my changes to get it to compile didn't \nlink correctly even w/ --linkopts.\n\nI did also find a difference in REGISTER_OP\n\nREGISTER_OP(\"Fact\").Output(\"fact: string\");\n\nversus\n\nREGISTER_OP(\"Fact\")\n   .Output(\"fact: string\")\n   .SetShapeFn(tensorflow::shape_inference::UnknownShape);\n\nLooking in to see if that is related.\n\nThanks,\n\nGreg\n\n\n\nOn 7/6/2018 3:45 PM, Martin Damgaard Nielsen wrote:\n> Did you build and dynamicly load the op library before loading the saved\n> model?\n> \n", "Reverted to Java8 and Python27.  That eliminated all the cruft from the alternate configurations.  I also had to specify --config=monolithic (on windows), but it all compiled and linked. I'm compiling the OP now.  This is farther than I've gotten w/o errors, so it's looking promising. \r\n\r\n bazel build --config opt --config=monolithic //tensorflow/java:tensorflow //tensorflow/java:libtensorflow_jni\r\n\r\n   Creating library bazel-out/x64_windows-opt/bin/tensorflow/java/libtensorflow_jni.so.if.lib and object bazel-out/x64_windows-opt/bin/tensorflow/java/libtensorflow_jni.so.if.exp\r\nbatch_kernels.lo.lib(batch_kernels.obj) : warning LNK4217: locally defined symbol ?DEVICE_CPU@tensorflow@@3QEBDEB (char const * const tensorflow::DEVICE_CPU) imported in function \"void __cdecl tensorflow::`dynamic initializer for 'registrar__body__0__object''(void)\" (??__Eregistrar__body__0__object@tensorflow@@YAXXZ)\r\narithmetic_optimizer.lib(arithmetic_optimizer.obj) : warning LNK4049: locally defined symbol ?DEVICE_CPU@tensorflow@@3QEBDEB (char const * const tensorflow::DEVICE_CPU) imported\r\narithmetic_optimizer.lib(arithmetic_optimizer.obj) : warning LNK4217: locally defined symbol ?DEVICE_GPU@tensorflow@@3QEBDEB (char const * const tensorflow::DEVICE_GPU) imported in function \"private: bool __cdecl tensorflow::grappler::`anonymous namespace'::ReorderCastAndTranspose::NodeIsOnCpuOrGpu(class tensorflow::NodeDef const *)const \" (?NodeIsOnCpuOrGpu@ReorderCastAndTranspose@?A0xa1632fa2@grappler@tensorflow@@AEBA_NPEBVNodeDef@4@@Z)\r\nlayout_optimizer.lib(layout_optimizer.obj) : warning LNK4049: locally defined symbol ?DEVICE_GPU@tensorflow@@3QEBDEB (char const * const tensorflow::DEVICE_GPU) imported\r\nINFO: Elapsed time: 2293.212s, Critical Path: 470.55s\r\nINFO: 1893 processes: 1892 local, 1 worker.\r\nINFO: Build completed successfully, 1962 total actions\r\n", "Hmmm...BUILD file is on the build path, so not sure why.  \r\n\r\nS C:\\code\\syntaxnet-ops-hack>  bazel build --config opt //tensorflow/user_ops:syntaxnet_dragnn_ops.so\r\nERROR: Skipping '//tensorflow/user_ops:syntaxnet_dragnn_ops.so': no such package 'tensorflow/user_ops': BUILD file not found on package path\r\nWARNING: Target pattern parsing failed.\r\nERROR: no such package 'tensorflow/user_ops': BUILD file not found on package path\r\nINFO: Elapsed time: 0.959s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully (0 packages loaded)\r\nPS C:\\code\\syntaxnet-ops-hack>", "Windows issue with Variadic Macros.  Added a comma before the ellipsis in char_properties.h:127 and that seems to have fixed it. \r\n\r\nERROR: C:/code/syntaxnet-ops-hack/tensorflow/core/user_ops/syntaxnet/BUILD:268:1: C++ compilation of rule '//tensorflow/core/user_ops/syntaxnet:sentence_features' failed (Exit 2)\r\nc:\\users\\greg\\_bazel_greg\\mzruyaxg\\execroot\\org_tensorflow\\tensorflow\\core\\user_ops\\syntaxnet\\char_properties.h(127): error C2010: '.': unexpected in macro formal parameter list\r\ncl : Command line warning D9002 : ignoring unknown option '-march=native'\r\ncl : Command line warning D9002 : ignoring unknown option '-march=native'\r\nTarget //tensorflow/core/user_ops:syntaxnet_dragnn_ops.so failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 6.184s, Critical Path: 2.82s\r\nINFO: 3 processes: 3 local.\r\nFAILED: Build did NOT complete successfully\r\nPS C:\\code\\syntaxnet-ops-hack\\tensorflow>\r\n\r\n", "File filter \"readable\" issue. \r\n\r\nERROR: C:/code/syntaxnet-ops-hack/tensorflow/python/BUILD:3698:1: Executing genrule //tensorflow/python:pywrap_tensorflow_filtered_def_file failed (Exit 1): bash.exe failed: error executing command\r\n  cd C:/users/greg/_bazel_greg/mzruyaxg/execroot/org_tensorflow\r\n  SET PATH=C:\\git\\usr\\bin;C:\\git\\bin;C:\\cuda\\bin;C:\\cuda\\libnvvp;C:\\Program Files (x86)\\Razer Chroma SDK\\bin;C:\\Program Files\\Razer Chroma SDK\\bin;C:\\alt\\java8\\bin;C:\\alt\\p2\\Scripts\\;C:\\gcc\\bin;C:\\alt\\p2\\;C:\\git\\bin;C:\\git\\usr\\bin;C:\\Windows;C:\\Windows\\System32;C:\\Windows\\System32\\Wbem;C:\\Users\\greg\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\ImageMagick-7.0.2-Q16;C:\\Program Files\\TortoiseHg\\;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Windows Live\\Shared;C:\\Program Files (x86)\\EaseUS\\Todo Backup\\bin;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files (x86)\\Skype\\Phone;C:\\Program Files (x86)\\QuickTime\\QTSystem\\;C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\VC\\Tools\\MSVC\\14.14.26428\\bin\\Hostx64\\x64;C:\\Program Files\\PuTTY\\;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\Gource\\cmd;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Users\\greg\\AppData\\Local\\Microsoft\\WindowsApps;\r\n    SET PYTHON_BIN_PATH=C:/alt/p2/python.exe\r\n    SET PYTHON_LIB_PATH=C:/alt/p2/lib/site-packages\r\n    SET TF_NEED_CUDA=0\r\n    SET TF_NEED_OPENCL=0\r\n  C:/git/usr/bin/bash.exe -c source external/bazel_tools/tools/genrule/genrule-setup.sh;\r\n              bazel-out/host/bin/external/local_config_def_file_filter/def_file_filter.exe \\\r\n              --input bazel-out/x64_windows-opt/bin/tensorflow/python/tf_custom_op_library_additional_deps.so.def \\\r\n              --output bazel-out/x64_windows-opt/genfiles/tensorflow/python/pywrap_tensorflow_filtered_def_file.def \\\r\n              --target _pywrap_tensorflow_internal.pyd\r\n\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\greg\\appdata\\local\\temp\\Bazel.runfiles_7__hrg\\runfiles\\local_config_def_file_filter\\def_file_filter.py\", line 168, in <module>\r\n    sys.exit(main())\r\n  File \"c:\\users\\greg\\appdata\\local\\temp\\Bazel.runfiles_7__hrg\\runfiles\\local_config_def_file_filter\\def_file_filter.py\", line 129, in main\r\n    for idx, line in enumerate(io.TextIOWrapper(proc.stdout, encoding=\"utf-8\")):\r\nAttributeError: 'file' object has no attribute 'readable'\r\nTarget //tensorflow/core/user_ops:syntaxnet_dragnn_ops.so failed to build\r\nINFO: Elapsed time: 6.765s, Critical Path: 2.20s\r\nINFO: 1 process: 1 local.\r\nFAILED: Build did NOT complete successfully\r\nPS C:\\code\\syntaxnet-ops-hack\\tensorflow>", "Substituting _getpid() for getpid() on windows....and success!  Testing out the wrapper code in the morning....\r\n\r\n   Creating library bazel-out/x64_windows-opt/bin/tensorflow/core/user_ops/syntaxnet_dragnn_ops.so.if.lib and object bazel-out/x64_windows-opt/bin/tensorflow/core/user_ops/syntaxnet_dragnn_ops.so.if.exp\r\nTarget //tensorflow/core/user_ops:syntaxnet_dragnn_ops.so up-to-date:\r\n  C:/users/greg/_bazel_greg/mzruyaxg/execroot/org_tensorflow/bazel-out/x64_windows-opt/bin/tensorflow/core/user_ops/syntaxnet_dragnn_ops.so\r\nINFO: Elapsed time: 111.389s, Critical Path: 52.46s\r\nINFO: 162 processes: 162 local.\r\nINFO: Build completed successfully, 165 total actions\r\nPS C:\\code\\syntaxnet-ops-hack\\tensorflow>\r\n\r\n", "I am glad you got something working. I sorta got it to work with r1.9 of TensorFlow. Except i keep getting a symbolic error: \"undefined symbol: _ZN10tensorflow7strings6StrCatB5cxx11ERKNS0_8AlphaNumE\"", "I've seen that error before.  What version of gcc are you using?  I think I ended up installing gcc-4, gcc-5, gcc-6 (and later gcc-7), but I'm not sure which one fixed it. \r\n\r\nJust for grins, try adding --copts=\" -D_GLIBCXX_USE_CXX11_ABI=0\" to your bazel command.   (Or it might be --cxxopts and --linkopts)", "I'm stuck at the point that I either can't load the model or if I use System.load explicitly, it complains about undefined symbols. \r\n\r\njava.lang.UnsatisfiedLinkError: /mnt/hbase/Insync/Working/tensorlibs/linux/syntaxnet-ops/user_ops/syntaxnet_dragnn_ops.so: /mnt/hbase/Insync/Working/tensorlibs/linux/syntaxnet-ops/user_ops/syntaxnet_dragnn_ops.so: undefined symbol: _ZN10tensorflow10DEVICE_CPUE\r\n\r\nI can't seem to get it to load parser_ops for some reason.  I can't find a dep in the BUILD files.  \r\n", "Now I'm really confused.  bazel clean and then re-build w/o the monolithic tag.  The java appears to have compiled and loaded the model.  Now to run some data through it.  \r\n\r\n2018-07-12 14:07:16.220721: E tensorflow/core/framework/op_kernel.cc:1242] OpKernel ('op: \"Fact\" device_type: \"CPU\" label: \"sergey\"') for unknown op: Fact\r\n2018-07-12 14:07:16.220817: E tensorflow/core/framework/op_kernel.cc:1242] OpKernel ('op: \"Fact\" device_type: \"CPU\" label: \"Sergey\"') for unknown op: Fact\r\n2018-07-12 14:07:16.220832: E tensorflow/core/framework/op_kernel.cc:1242] OpKernel ('op: \"Fact\" device_type: \"GPU\" host_memory_arg: \"fact\"') for unknown op: Fact\r\n2018-07-12 14:07:16.244364: I tensorflow/cc/saved_model/loader.cc:242] Loading SavedModel with tags: { serve }; from: /home/greg/Insync/Working/tensorlibs/run_saved_model_java/SAVED_MODEL/\r\n2018-07-12 14:07:16.346255: I tensorflow/cc/saved_model/loader.cc:161] Restoring SavedModel bundle.\r\n2018-07-12 14:07:17.012545: I tensorflow/cc/saved_model/loader.cc:196] Running LegacyInitOp on SavedModel bundle.\r\n2018-07-12 14:07:17.015533: I tensorflow/cc/saved_model/loader.cc:291] SavedModel load for tags { serve }; Status: success. Took 771200 microseconds.", "Getting very close.  Looking at an input check error coming from somewhere.   It seems to be embedded in the model I'm using. I'll have to dump a new one.  \r\n\r\nModel loaded...\r\nFetching session... Input is: 683\r\nAbout to run on 682 chars\r\n2018-07-12 14:38:49.776439: F tensorflow/core/user_ops/syntaxnet/proto_io.h:277] Check failed: input.record_format_size() == 1 (0 vs. 1)TextWriter only supports files with one record format: name: \"wsj-data-parsed\"\r\n", "Bummer, now I'm back where I started.  But at least I know the software seems to be working, I just need to go back and experiment with the models and output again. \r\n\r\nUniversity\u0010\u0010\u0018\u0019 \u0005*\u0003NNP2\u0004NOUN:\u0002nn\u001a\u001e\r\n\u0007Faculty\u0010\u001b\u0018! \u0005*\u0003NNP2\u0004NOUN:\u0002nn\u001a\u001c\r\n\u0005Union\u0010#\u0018' \u0006*\u0003NNP2\u0004NOUN:\u0002nn\u001a \r\n\u0005Wants\u0010)\u0018- \u0007*\u0004NNPS2\u0004NOUN:\u0005nsubj\u001a\u001f\r\n\bTrustees\u0010/\u00186*\u0003VBZ2\u0004VERB:\u0004ROOT\u001a\u0019\r\n\u0002To\u00108\u00189 \u0007*\u0002TO2\u0003PRT:\u0004prep\u001a!\r\n\bResign\\n\u0010;\u0018B \b*\u0003NNP2\u0004NOUN:\u0004pobj\u001a\u0018\r\n\u0002''\u0010D\u0018E \u0007*\u0002''2\u0001.:\u0005punct", "I hope you guys don't mind me posting my work-in-progress here.  I got to the point where there seems to be some output file type when I invoke the commands with my stored model.  I think I can tweak my stored context.pbtxt file with the right values related to this: \r\n\r\nhttps://github.com/tensorflow/models/issues/257\r\n\r\nLoading model....\r\n2018-07-16 11:42:30.316949: E tensorflow/core/framework/op_kernel.cc:1242] OpKernel ('op: \"Fact\" device_type: \"CPU\" label: \"sergey\"') for unknown op: Fact\r\n2018-07-16 11:42:30.317013: E tensorflow/core/framework/op_kernel.cc:1242] OpKernel ('op: \"Fact\" device_type: \"CPU\" label: \"Sergey\"') for unknown op: Fact\r\n2018-07-16 11:42:30.317026: E tensorflow/core/framework/op_kernel.cc:1242] OpKernel ('op: \"Fact\" device_type: \"GPU\" host_memory_arg: \"fact\"') for unknown op: Fact\r\n2018-07-16 11:42:30.319997: I tensorflow/cc/saved_model/loader.cc:242] Loading SavedModel with tags: { serve }; from: /home/greg/Desktop/platform/tensorbuilder/models/SAVED_MODEL/\r\n2018-07-16 11:42:30.366281: I tensorflow/cc/saved_model/loader.cc:161] Restoring SavedModel bundle.\r\n2018-07-16 11:42:30.522776: I tensorflow/cc/saved_model/loader.cc:196] Running LegacyInitOp on SavedModel bundle.\r\n2018-07-16 11:42:30.526127: I tensorflow/cc/saved_model/loader.cc:291] SavedModel load for tags { serve }; Status: success. Took 206136 microseconds.\r\nModel loaded...\r\nFetching session... Input is: 68\r\nSentence is: \"Chicago State University Faculty Union Wants Trustees To Resign\\n\"\r\nRunning final parse.\r\ninputBuilder: \"Chicago State University Faculty Union Wants Trustees To Resign\\n\"\r\n\r\nAbout to run on 68 chars\r\nAfter Tensor\r\nAfter runner\r\nOutput op names: output\r\n2018-07-16 11:42:32.088690: F tensorflow/core/user_ops/syntaxnet/proto_io.h:277] Check failed: input.record_format_size() == 1 (0 vs. 1)TextWriter only supports files with one record format: name: \"wsj-data-parsed\"\r\n\r\n", "@marhlder I am trying to export the model using https://github.com/unsiloai/parsey_mcparseface_export/tree/documents-from-tensor/ by doing the following -\r\n\r\n1. Build syntaxnet\r\n    bazel test --linkopt=-headerpad_max_install_names dragnn/... syntaxnet/... util/utf8/...\r\n\r\n2. Build pip package\r\n    bazel-bin/dragnn/tools/build_pip_package --include-tensorflow --output-dir=/tmp/syntaxnet_pkg\r\n\r\n3. Install pip package\r\n    pip install /tmp/syntaxnet_pkg/syntaxnet*.whl\r\n\r\n4. Run export_model.sh\r\n\r\nBut, I keep getting the following error - \"Op type not registered 'FeatureSize'\". Do these steps look alright to you, or am I missing something? Thanks in advance :)", "@sarda014 I think there are multiple issues: \r\nIt does not seem like you are building TensorFlow with \"bazel-bin/dragnn/tools/build_pip_package --include-tensorflow --output-dir=/tmp/syntaxnet_pkg\" but rather a separate package which includes tensorflow. \"export_model.sh\" relies on the currently installed TensorFlow package on not on a dragnn package. ", "@marhlder\r\nI want to install this package, parsey_mcparseface_export, and then export a modified syntaxnet graph to protobuf. Do you have a complete installation procedure I can follow? \r\nThanks. "]}, {"number": 12327, "title": "No half-precision support for DepthwiseConv2Native", "body": "Hi, I'm trying to convert a network from float32 to float16.\r\nConversion is done postmortem, for inference only.\r\nI converted both weights and activation tensors to float16.\r\nWhen trying to run inference, I get the following error:\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: No OpKernel was registered to support Op 'DepthwiseConv2dNative' with these attrs.  Registered devices: [CPU,GPU], Registered kernels:\r\n  device='CPU'; label='neon'; T in [DT_FLOAT]\r\n  device='CPU'; T in [DT_DOUBLE]\r\n  device='CPU'; T in [DT_FLOAT]\r\n  device='GPU'; T in [DT_DOUBLE]\r\n  device='GPU'; T in [DT_FLOAT]\r\n\r\nAssuming that this op is not implemented for float16, what is the easiest way to bypass this issue?\r\n- implement a python op (run-time is not very crucial)?\r\n- implement a CPU version of this op?\r\n-cast to f32 and cast back to f16?\r\n\r\nSystem details\r\n- **OS Platform: Ubuntu 14.04\r\n- **TensorFlow installed from binary\r\n- **TensorFlow version 1.3.0-rc2\r\n- **CUDA/cuDNN version**: cuda 8.0, cudnn 6.0\r\n\r\n\r\n", "comments": ["@suharshs is this relevant to your quantization efforts?", "Oops, missed this. It is not relevant to the quant efforts.\r\n\r\nI think the best path would be to add f16 support to the DepthwiseConv2dNative kernel. This may be as simple as registering another kernel here: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/depthwise_conv_op.cc#L422\r\n\r\nYou may also need to add \"half\" here: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/ops/nn_ops.cc#L822", "@suharshs PR #12976 was created for float16 support. Please take a look."]}, {"number": 12326, "title": "import tensorflow error with correct installation,  the problem  is \"Couldn't find field google.protobuf.DescriptorProto.ExtensionRange.options\"", "body": "Hi, everyone.\r\n\r\n------------------------\r\n\r\n### System information\r\nOperating System: Ubuntu 16.04 LTS\r\nGraphics card: Tesla K40\r\nInstalled version of CUDA: 8.0 \r\nInstalled version of cuDNN: v5 , for CUDA 8.0 \r\npip --version 9.0.1\r\npip 9.0.1 from /usr/local/lib/python2.7/dist-packages (python 2.7)\r\n\r\nTensorflow-gpu installed from pip\r\n$sudo pip install tensorflow-gpu\r\nVersion: 1.2.1\r\n\r\n----------------------------------------------------------------\r\npip version\r\nName: pip\r\nVersion: 9.0.1\r\nSummary: The PyPA recommended tool for installing Python packages.\r\nHome-page: https://pip.pypa.io/\r\nAuthor: The pip developers\r\nAuthor-email: python-virtualenv@groups.google.com\r\nLicense: MIT\r\nLocation: /usr/local/lib/python2.7/dist-packages\r\nRequires: \r\n--------------------------------\r\ntensorboard version \r\n\r\nName: tensorboard\r\nVersion: 1.0.0a6\r\nSummary: Standalone TensorBoard for visualizing in deep learning\r\nHome-page: https://github.com/dmlc/tensorboard\r\nAuthor: zihaolucky\r\nAuthor-email: zihaolucky@gmail.com\r\nLicense: Apache 2.0\r\nLocation: /usr/local/lib/python2.7/dist-packages\r\nRequires: mock, Pillow, numpy, protobuf, wheel, six, werkzeug\r\n-------------------------------------------------------------\r\ntensorflow-gpu version\r\n\r\nName: tensorflow-gpu\r\nVersion: 1.2.1\r\nSummary: TensorFlow helps the tensors flow\r\nHome-page: http://tensorflow.org/\r\nAuthor: Google Inc.\r\nAuthor-email: opensource@google.com\r\nLicense: Apache 2.0\r\nLocation: /usr/local/lib/python2.7/dist-packages\r\nRequires: mock, numpy, bleach, markdown, wheel, six, protobuf, backports.weakref, html5lib, werkzeug\r\n---------------------------------------------------------\r\n\r\n\r\n\r\n\r\n\r\n\r\n### The problem\r\nWhen I open the terminal and type\r\n$python\r\n$import tensorflow \r\nI get\r\n\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/bids/.local/lib/python2.7/site-packages/tensorflow/__init__.py\", line 24, in <module>\r\n    from tensorflow.python import *\r\n  File \"/home/bids/.local/lib/python2.7/site-packages/tensorflow/python/__init__.py\", line 75, in <module>\r\n    from tensorflow.core.framework.graph_pb2 import *\r\n  File \"/home/bids/.local/lib/python2.7/site-packages/tensorflow/core/framework/graph_pb2.py\", line 10, in <module>\r\n    from google.protobuf import descriptor_pb2\r\n  File \"/usr/local/lib/python2.7/dist-packages/google/protobuf/descriptor_pb2.py\", line 409, in <module>\r\n    options=None),\r\n  File \"/usr/local/lib/python2.7/dist-packages/google/protobuf/descriptor.py\", line 501, in __new__\r\n    return _message.default_pool.FindFieldByName(full_name)\r\nKeyError: \"Couldn't find field google.protobuf.DescriptorProto.ExtensionRange.options\"\r\n\r\n\r\n\r\n### Source code / logs\r\nBefore I upgrade the tensorboard and pip version(the default pip version is 8.x  in Ubuntu 16.04 LTS)\r\nAfter that I type following code in the terminal \r\n$python /home/wcm/.local/lib/python2.7/site-packages/tensorboard/tensorboard.py --logdir='/tmp/log'\r\nThe problem is KeyError: \"Couldn't find field google.protobuf.DescriptorProto.ExtensionRange.options\"\r\nNext, I type \r\n$ import tensorflow\r\nThe same problem is KeyError: \"Couldn't find field google.protobuf.DescriptorProto.ExtensionRange.options\".\r\n\r\nFinally, I re-installing tensorflow-gpu, tensorflow and tensorboard step by step :no change. The same problem for import tensorflow.\r\n\r\n Anyone have an idea for this problem?\r\nThanks in advance\r\njiandanjinxin\r\n", "comments": ["@jiandanjinxin  The same problem,have you solved?", "@jiandanjinxin I got the same problem too. Could anyone solve it?", "@jiandanjinxin Same problem, was using TF 1.1 perfectly. Did a conventional pip3 install, now its broken.", "Same issue. Was running 1.1, upgraded to 1.2 and received this error. Downgrading back to 1.1 did not fix it. ", "I can't reproduce, but I'm running Ubuntu 14.04, not Ubuntu 16.04.\r\n\r\n@jvrb, @jart, can you take a look at this issue?", "Whoops had a typo, meant to at-mention @jrvb ", "I managed to fix this by forcing reinstall on pip.\r\n\r\nPip3 install tensorflow-gpu --upgrade --force-reinstall", "Here is a stupid and simple way... I delete my conda tensorflow env, create a new env and reinstall tensorflow-gpu==1.2.1, seems work fine. But should be better to wait for tensorflower to dig it in a standard way...", "I had a similar issue (could not find backports) and pip install tensorflow --upgrade --force-reinstall fixed the problem. ", "Thanks @WihanB  @khumbird \r\nI check your method in the following procedure, it has another new problem.\r\n$sudo pip3 install tensorflow-gpu --upgrade --force-reinstall\r\n###Successfully installed tensorflow-gpu-1.3.0\r\n-------------------------------------------------------------------------\r\n$python3\r\nPython 3.5.2 (default, Nov 17 2016, 17:05:23) \r\n[GCC 5.4.0 20160609] on linux\r\n$import tensorflow\r\n###Another new problem comes out.\r\n\r\n-------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/pywrap_tensorflow.py\", line 41, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\r\n  File \"/usr/lib/python3.5/imp.py\", line 242, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"/usr/lib/python3.5/imp.py\", line 342, in load_dynamic\r\n    return _load(spec)\r\nImportError: /usr/local/lib/python3.5/dist-packages/tensorflow/python/_pywrap_tensorflow_internal.so: undefined symbol: cudnnConvolutionBiasActivationForward\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/__init__.py\", line 24, in <module>\r\n    from tensorflow.python import *\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/__init__.py\", line 49, in <module>\r\n    from tensorflow.python import pywrap_tensorflow\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/pywrap_tensorflow.py\", line 52, in <module>\r\n    raise ImportError(msg)\r\nImportError: Traceback (most recent call last):\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/pywrap_tensorflow.py\", line 41, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\r\n  File \"/usr/lib/python3.5/imp.py\", line 242, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"/usr/lib/python3.5/imp.py\", line 342, in load_dynamic\r\n    return _load(spec)\r\nImportError: /usr/local/lib/python3.5/dist-packages/tensorflow/python/_pywrap_tensorflow_internal.so: undefined symbol: cudnnConvolutionBiasActivationForward\r\n\r\n\r\nFailed to load the native TensorFlow runtime.\r\n\r\nSee https://www.tensorflow.org/install/install_sources#common_installation_problems\r\n\r\nfor some common reasons and solutions.  Include the entire stack trace\r\nabove this error message when asking for help.\r\n\r\n------------------------------------------------------------------\r\nI guess the new problem is from the version of tensorflow. Next, I try to check this method on python2.7\r\n$pip install tensorflow-gpu --upgrade --force-reinstall\r\n$python\r\n$import tensorflow\r\n###Another new problem on python2.7 is similar to the problem on python3.5\r\n----------------------------------------------------------------------\r\nImportError: /usr/local/lib/python2.7/dist-packages/tensorflow/python/_pywrap_tensorflow_internal.so: undefined symbol: cudnnConvolutionBiasActivationForward\r\n\r\n\r\nFailed to load the native TensorFlow runtime.\r\n\r\nSee https://www.tensorflow.org/install/install_sources#common_installation_problems\r\n\r\nfor some common reasons and solutions.  Include the entire stack trace\r\nabove this error message when asking for help.\r\n-------------------------------------------\r\npip show tensorflow-gpu\r\nName: tensorflow-gpu\r\nVersion: 1.3.0\r\nSummary: TensorFlow helps the tensors flow\r\nHome-page: http://tensorflow.org/\r\nAuthor: Google Inc.\r\nAuthor-email: opensource@google.com\r\nLicense: Apache 2.0\r\nLocation: /usr/local/lib/python2.7/dist-packages\r\nRequires: mock, numpy, backports.weakref, wheel, tensorflow-tensorboard, six, protobuf\r\n\r\n--------------------------------------\r\n##  **Finally, thanks @cauchyturing , I try the @cauchyturing 's method, it works on the python2.7 and python3.5, and the problem is fixed.**\r\n$ sudo pip uninstall tensorflow-gpu\r\n$sudo pip install tensorflow-gpu==1.2.1\r\nor \r\n$sudo pip install tensorflow-gpu==1.2.1 --upgrade --force-reinstall\r\n\r\n$python\r\nPython 2.7.12 (default, Nov 19 2016, 06:48:10) \r\n[GCC 5.4.0 20160609] on linux2\r\n>>> import tensorflow\r\n------------------------------------\r\npip show tensorflow-gpu\r\nName: tensorflow-gpu\r\nVersion: 1.2.1\r\nSummary: TensorFlow helps the tensors flow\r\nHome-page: http://tensorflow.org/\r\nAuthor: Google Inc.\r\nAuthor-email: opensource@google.com\r\nLicense: Apache 2.0\r\nLocation: /usr/local/lib/python2.7/dist-packages\r\nRequires: mock, numpy, bleach, markdown, wheel, six, protobuf, backports.weakref, html5lib, werkzeug\r\n\r\n\r\n\r\n\r\n", "I fixed this error. first pip uninstall protobuf, then pip install protobuf==3.3.0.", "I got the error like this, \r\n```\r\n>>> import tensorflow as tf\r\nTraceback (most recent call last):\r\n  File \"<input>\", line 1, in <module>\r\n    import tensorflow as tf\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/__init__.py\", line 24, in <module>\r\n    from tensorflow.python import *\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/__init__.py\", line 49, in <module>\r\n    from tensorflow.python import pywrap_tensorflow\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/pywrap_tensorflow.py\", line 52, in <module>\r\n    raise ImportError(msg)\r\nImportError: Traceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/pywrap_tensorflow.py\", line 41, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\r\nImportError: /usr/local/lib/python2.7/dist-packages/tensorflow/python/_pywrap_tensorflow_internal.so: undefined symbol: cudnnConvolutionBiasActivationForward\r\n```\r\nI just reinstall TensorFlow 1.3.0, and everthing works fine.\r\n```\r\nsudo pip uninstall tensorflow-gpu tensorflow\r\nsudo pip install tensorflow-gpu\r\n```", "I have the same error when using \"from tensorflow.contrib.cudnn_rnn import CudnnGRU\"\r\n\r\nImportError: /usr/local/lib/python2.7/dist-packages/tensorflow/python/_pywrap_tensorflow_internal.so: undefined symbol: cudnnConvolutionBiasActivationForward\r\n\r\nAnd I tried to reinstall tensorflow-gpu with git but failed.\r\n\r\nMy version of python is 3.5\r\nMy system is ubuntu 16.04", " `conda create -n <name_of_project> python=3.5 anaconda` to create a virtualenv and then `pip3 install tensorflow-gpu --upgrade --force-reinstall` fixed this issue. ", "Same issue on Centos 7 with Anaconda. Afer update of conda I run to:\r\n```\r\nPython 3.6.2 |Anaconda custom (64-bit)| (default, Jul 20 2017, 13:51:32) \r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import tensorflow\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/jiri.vrany/anaconda3/lib/python3.6/site-packages/tensorflow/__init__.py\", line 24, in <module>\r\n    from tensorflow.python import *\r\n  File \"/home/jiri.vrany/anaconda3/lib/python3.6/site-packages/tensorflow/python/__init__.py\", line 52, in <module>\r\n    from tensorflow.core.framework.graph_pb2 import *\r\n  File \"/home/jiri.vrany/anaconda3/lib/python3.6/site-packages/tensorflow/core/framework/graph_pb2.py\", line 10, in <module>\r\n    from google.protobuf import descriptor_pb2\r\n  File \"/home/jiri.vrany/anaconda3/lib/python3.6/site-packages/google/protobuf/descriptor_pb2.py\", line 409, in <module>\r\n    options=None),\r\n  File \"/home/jiri.vrany/anaconda3/lib/python3.6/site-packages/google/protobuf/descriptor.py\", line 501, in __new__\r\n    return _message.default_pool.FindFieldByName(full_name)\r\nKeyError: \"Couldn't find field google.protobuf.DescriptorProto.ExtensionRange.options\"\r\n```\r\nIt was caused by mixing packages installed with conda and pip. Creating new conda env and install tensorflow-gpu fixed the issue.", "Summarize :\r\npip uninstall tensorflow-gpu tensorflow\r\npip install tensorflow-gpu \r\npip uninstall protobuf==3.3.0. # or just -> pip uninstall protobuf \r\npip install protobuf==3.3.0.\r\n\r\nit helped me. ", "pip uninstall protobuf\r\npip install protobuf==3.3.0\r\nit works. maybe something wrong about the protobuf 3.5.0", "/CC @gunan do you know why the issue is occurring? Ideally we wouldn't require reinstalling protobuf as a workaround.", "Looks like a possible protobuf issue: https://github.com/google/protobuf/issues/3631", "It has been 14 days with no activity and the `awaiting tensorflower` label was assigned. Please update the label and/or status accordingly.", "It has been 14 days with no activity and the `awaiting tensorflower` label was assigned. Please update the label and/or status accordingly.", "A member of the TensorFlow organization has replied after the stat:awaiting tensorflower label was applied.", "Closing due to inactivity. Hopefully the new version doesn't exhibit that behavior."]}, {"number": 12325, "title": "summary_image_op_test failure on ppc64le", "body": "Please go to Stack Overflow for help and support:\r\n\r\nhttps://stackoverflow.com/questions/tagged/tensorflow\r\n\r\nIf you open a GitHub issue, here is our policy:\r\n\r\n1. It must be a bug or a feature request.\r\n2. The form below must be filled out.\r\n3. It shouldn't be a TensorBoard issue. Those go [here](https://github.com/tensorflow/tensorboard/issues).\r\n\r\n**Here's why we have that policy**: TensorFlow developers respond to issues. We want to focus on work that benefits the whole community, e.g., fixing bugs and adding features. Support only helps individuals. GitHub also notifies thousands of people when issues are filed. We want them to see you communicating an interesting problem, rather than being redirected to Stack Overflow.\r\n\r\n------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: SLES/RHEL ppc64le\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: master\r\n- **Python version**: 2.7.4\r\n- **Bazel version (if compiling from source)**: 0.4.5\r\n- **CUDA/cuDNN version**:\r\n- **GPU model and memory**:\r\n- **Exact command to reproduce**:\r\n\r\nbazel test **-c opt** --local_resources 4096,4.0,1.0 -j 1 --test_output=errors //tensorflow/python/kernel_tests:summary_image_op_test\r\n\r\nYou can collect some of this information using our environment capture script:\r\n\r\nhttps://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh\r\n\r\nYou can obtain the TensorFlow version with\r\n\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\n### Describe the problem\r\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\r\n\r\nThis test fails when run with -c opt, it passes with dbg & fastbuild. Recently there was a commit (link below) adjusting the tolerance value to pass this test, it however fails for 'opt' build even after the change. \r\n\r\nIssue: https://github.com/tensorflow/tensorflow/issues/11967\r\nCommit fixing this:  https://github.com/tensorflow/tensorflow/commit/901a3b5014e2061e16a251cda24de44179d7c21a\r\n\r\nIs it okay to ignore the 'opt' build failure or should this issue be root-caused further? thanks!\r\n\r\n### Source code / logs\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n...\r\nNot equal to tolerance rtol=2e-05, atol=2e-05\r\nNone\r\n(mismatch 2.85714285714%)\r\n x: array([[[ 221.],\r\n        [ 102.],\r\n        [ 129.],...\r\n y: array([[[221],\r\n        [102],\r\n        [129],...\r\n\r\n----------------------------------------------------------------------\r\nRan 3 tests in 0.052s\r\n\r\nFAILED (failures=1)\r\nnot close where =  (array([3]), array([6]), array([0]))\r\nnot close lhs =  [0]\r\nnot close rhs =  [ 1.]\r\nnot close dif =  [ 1.]\r\nnot close tol =  [  3.99999990e-05]\r\ndtype = uint8, shape = (5, 7, 1)\r\n================================================================================\r\nTarget //tensorflow/python/kernel_tests:summary_image_op_test up-to-date:\r\n  bazel-bin/tensorflow/python/kernel_tests/summary_image_op_test\r\nINFO: Elapsed time: 9.223s, Critical Path: 1.12s\r\n//tensorflow/python/kernel_tests:summary_image_op_test                   FAILED\r\n  /root/.cache/bazel/_bazel_root/55751bac5fd009d8cf4f164f81814728/execroot/tenso\r\n\r\nExecuted 1 out of 1 test: 1 fails locally.\r\n", "comments": ["I don't think the TF team officially supports ppc64le. @martinwicke, @gunan correct me if I'm wrong. I'll mark this community support. ", "Correct, ppc64le support is best effort.\r\n@sandipmgiri FYI", "The test is failing due to a minor array mismatch error (the value of only 1 out of 34 entries differing i.e. 0 vs expected 1) at line number 83 in file https://github.com/tensorflow/tensorflow/blob/v1.3.1/tensorflow/python/kernel_tests/summary_image_op_test.py#L83\r\n\r\nFor more logs and details refer attached file - \r\n[Logfile.txt](https://github.com/tensorflow/tensorflow/files/1527240/Logfile.txt)\r\n\r\n\r\nI have checked the output of all the functions which are involved in this test, and found that -\r\nFollowing line returning incorrect result on ppc64le- https://github.com/tensorflow/tensorflow/blob/v1.3.1/tensorflow/python/kernel_tests/summary_image_op_test.py#L73\r\n_**summ = summary.image(\"img\", const)**\r\nvalue = sess.run(summ)\r\nprint (\"value\")_\r\n\r\nOutput (X86 vs ppc64le) :\r\nX86 :\r\n```\r\n'\\n\\x81\\x01\\n\\x0bimg/image/0\"r\\x08\\x05\\x10\\x07\\x18\\x01\"j\\x89PNG\\r\\n\\x1a\\n\\x00\\x00\\x00\\rIHDR\\x00\\x00\\x00\\x07\\x00\\x00\\x00\\x05\\x08\\x00\\x00\\x00\\x00\\xac\\xf1\\xa9\\x04\\x00\\x00\\x001IDAT\\x08\\x99c\\xbc\\xdb)-\\xbaO\\xe7?\\xa3\\xdc,\\xf78I\\xb5\\xab\\xcc\\xc9\\xb3\\xd89\\x05\\xa7\\xf52\\x89Y\\x07}_`\\xa7\\xc6d\\xf4/\\xcd\\xee\\xab\\t\\x0f\\x00\\x1a\\xe4\\r\\xe2\\xc3\\xbd-\\xa5\\x00\\x00\\x00\\x00IEND\\xaeB`\\x82\\n\\x81\\x01\\n\\x0bimg/image/1\"r\\x08\\x05\\x10\\x07\\x18\\x01\"j\\x89PNG\\r\\n\\x1a\\n\\x00\\x00\\x00\\rIHDR\\x00\\x00\\x00\\x07\\x00\\x00\\x00\\x05\\x08\\x00\\x00\\x00\\x00\\xac\\xf1\\xa9\\x04\\x00\\x00\\x001IDAT\\x08\\x99c\\x8e\\xe2\\xdbZ\\xf5\\xa7R\\x8e\\xc9M\\xca\\xd7\\\\#@\\x8aYh\"\\x87\\x11\\xe3\\xa6\\xd7\\xcc\\x7f\\xf9\\x9f\\xb9\\x1c^l\\xc9\\xf8\\xa0\\xeb\\xf1{\\x0e\\xeds\\x00\\x0c\\xef\\x0f:\\xdfIp\\x07\\x00\\x00\\x00\\x00IEND\\xaeB`\\x82\\n\\x83\\x01\\n\\x0bimg/image/2\"t\\x08\\x05\\x10\\x07\\x18\\x01\"l\\x89PNG\\r\\n\\x1a\\n\\x00\\x00\\x00\\rIHDR\\x00\\x00\\x00\\x07\\x00\\x00\\x00\\x05\\x08\\x00\\x00\\x00\\x00\\xac\\xf1\\xa9\\x04\\x00\\x00\\x003IDAT\\x08\\x99\\x01(\\x00\\xd7\\xff\\x01\\xd4\\x9c\\x16J\\x04\\xa0\\x1e\\x04\\xd5\\x05\\x96\\x1e\\x0e#\\xb5\\x03 \\xea2?\\x18\\xef&\\x03l\\xfd\\x04\\xb9\\xe5o\\xe2\\x02\\xc6\\xe6\\xd4;\\x1a/\\xeb\\x1f3\\x10\\x07\\xa8\\xd8;Q\\x00\\x00\\x00\\x00IEND\\xaeB`\\x82'\r\n```\r\nppc64le:\r\n```\r\n'\\n\\x81\\x01\\n\\x0bimg/image/0\"r\\x08\\x05\\x10\\x07\\x18\\x01\"j\\x89PNG\\r\\n\\x1a\\n\\x00\\x00\\x00\\rIHDR\\x00\\x00\\x00\\x07\\x00\\x00\\x00\\x05\\x08\\x00\\x00\\x00\\x00\\xac\\xf1\\xa9\\x04\\x00\\x00\\x001IDAT\\x08\\x99c\\xbc\\xdb)-\\xbaO\\xe7?\\xa3\\xdc,\\xf78I\\xb5\\xab\\xcc\\xc9\\xb3\\xd89\\x05\\xa7\\xf52\\x89Y\\x07}_`\\xa7\\xcad\\xf4/\\xcd\\xee\\xab\\t/\\x00\\x1a\\xdc\\r\\xe2\\xc4\\x9c\\r\\x96\\x00\\x00\\x00\\x00IEND\\xaeB`\\x82\\n\\x81\\x01\\n\\x0bimg/image/1\"r\\x08\\x05\\x10\\x07\\x18\\x01\"j\\x89PNG\\r\\n\\x1a\\n\\x00\\x00\\x00\\rIHDR\\x00\\x00\\x00\\x07\\x00\\x00\\x00\\x05\\x08\\x00\\x00\\x00\\x00\\xac\\xf1\\xa9\\x04\\x00\\x00\\x001IDAT\\x08\\x99c\\x8e\\xe2\\xdbZ\\xf5\\xa7R\\x8e\\xc9M\\xca\\xd7\\\\#@\\x8aYh\"\\x87\\x11\\xe3\\xa6\\xd7\\xcc\\x7f\\xf9\\x9f\\xb9\\x1c^l\\xc9\\xf8\\xa0\\xeb\\xf1{\\x0e\\xeds\\x00\\x0c\\xef\\x0f:\\xdfIp\\x07\\x00\\x00\\x00\\x00IEND\\xaeB`\\x82\\n\\x83\\x01\\n\\x0bimg/image/2\"t\\x08\\x05\\x10\\x07\\x18\\x01\"l\\x89PNG\\r\\n\\x1a\\n\\x00\\x00\\x00\\rIHDR\\x00\\x00\\x00\\x07\\x00\\x00\\x00\\x05\\x08\\x00\\x00\\x00\\x00\\xac\\xf1\\xa9\\x04\\x00\\x00\\x003IDAT\\x08\\x99\\x01(\\x00\\xd7\\xff\\x01\\xd4\\x9c\\x16J\\x04\\xa0\\x1e\\x04\\xd5\\x05\\x96\\x1e\\x0e#\\xb5\\x03 \\xea2?\\x18\\xef&\\x03l\\xfd\\x04\\xb9\\xe5o\\xe2\\x02\\xc6\\xe6\\xd4;\\x1a/\\xeb\\x1f3\\x10\\x07\\xa8\\xd8;Q\\x00\\x00\\x00\\x00IEND\\xaeB`\\x82'\r\n```\r\nCompared the x86 and ppc64le outputs, difference -\r\n```\r\n**X86**                          vs               **ppc64le**\r\nxc6d                                                     xcad\r\n\\t\\x0f\\                                                   \\t/\\\r\na\\xe4                                                    a\\xdc\r\nxc3\\xbd-\\xa5                                       xc4\\x9c\\r\\x96\r\n```\r\nFor testing purpose , I have replaced these 4 ppc64le values with x86 and the test passed successfully (on power).\r\nWhat would be the reason of getting `summary.image(\"img\", const) ` output incorrect/different on power?\r\nPlease provide any suggestions/comments on this, that will be helpful for further debugging. Thanks!!!\r\n```\r\nWhere i/p,\r\nconst  =  array([[[[  1.69052565e+00],\r\n         [ -4.65937376e-01],\r\n         [  3.28201652e-02],\r\n         [  4.07516271e-01],\r\n         [ -7.88923025e-01],\r\n         [  2.06557289e-03],\r\n         [ -8.90385883e-04]],\r\n\r\n        [[ -1.75472426e+00],\r\n         [  1.01765800e+00],\r\n         [             nan],\r\n         [ -6.25428975e-01],\r\n         [ -1.71548262e-01],\r\n         [  5.05299389e-01],\r\n         [ -2.61356413e-01]],\r\n\r\n        [[ -2.42749080e-01],\r\n         [ -1.45324147e+00],\r\n         [  5.54580331e-01],\r\n         [  1.23880908e-01],\r\n         [  2.74459928e-01],\r\n         [ -1.52652454e+00],\r\n         [  1.65069973e+00]],\r\n\r\n        [[  1.54335529e-01],\r\n         [ -3.87139946e-01],\r\n         [  2.02907228e+00],\r\n         [ -4.53860313e-02],\r\n         [ -1.45067871e+00],\r\n         [ -4.05227870e-01],\r\n         [ -2.28831506e+00]],\r\n\r\n        [[  1.04939651e+00],\r\n         [ -4.16474313e-01],\r\n         [ -7.42553532e-01],\r\n         [  1.07247019e+00],\r\n         [ -1.65107560e+00],\r\n         [  5.35429358e-01],\r\n         [ -2.06441474e+00]]],\r\n\r\n\r\n       [[[ -6.62159324e-01],\r\n         [ -1.20421982e+00],\r\n         [  1.46197557e+00],\r\n         [  1.76616085e+00],\r\n         [ -3.29413742e-01],\r\n         [  8.40733230e-01],\r\n         [ -1.79986402e-01]],\r\n\r\n        [[  5.68061888e-01],\r\n         [ -7.52837181e-01],\r\n         [ -1.70833921e+00],\r\n         [ -1.80309868e+00],\r\n         [  3.83121848e-01],\r\n         [  2.24759507e+00],\r\n         [  2.69411623e-01]],\r\n\r\n        [[ -5.24604619e-01],\r\n         [  1.91201890e+00],\r\n         [  2.37301841e-01],\r\n         [  1.01433985e-01],\r\n         [  2.52577722e-01],\r\n         [ -1.32377192e-01],\r\n         [ -3.09476346e-01]],\r\n\r\n        [[ -1.43496346e+00],\r\n         [  5.01624107e-01],\r\n         [ -9.47754532e-02],\r\n         [  1.19308591e+00],\r\n         [ -3.68818462e-01],\r\n         [ -1.90636992e+00],\r\n         [ -9.96106341e-02]],\r\n\r\n        [[  1.69953728e+00],\r\n         [ -3.83423120e-01],\r\n         [ -8.89856875e-01],\r\n         [ -1.19359195e+00],\r\n         [ -1.05001676e+00],\r\n         [ -3.00193727e-01],\r\n         [ -1.17998207e+00]]],\r\n\r\n\r\n       [[[  1.49763906e+00],\r\n         [ -2.82635242e-01],\r\n         [  1.08648375e-01],\r\n         [  1.43823957e+00],\r\n         [  1.50331855e+00],\r\n         [ -2.12732971e-01],\r\n         [  3.31974208e-01]],\r\n\r\n        [[  7.35026598e-01],\r\n         [ -1.92855462e-01],\r\n         [ -1.77801287e+00],\r\n         [  6.54705703e-01],\r\n         [  8.94352317e-01],\r\n         [  4.15502608e-01],\r\n         [ -9.23544645e-01]],\r\n\r\n        [[ -1.96027309e-01],\r\n         [ -5.90769827e-01],\r\n         [ -2.99711227e-01],\r\n         [  1.29688525e+00],\r\n         [  1.52957964e+00],\r\n         [  6.69418216e-01],\r\n         [  5.48745096e-01]],\r\n\r\n        [[  6.76629007e-01],\r\n         [ -1.22421868e-02],\r\n         [ -7.56634623e-02],\r\n         [ -6.73645198e-01],\r\n         [ -5.58674484e-02],\r\n         [  2.25994706e+00],\r\n         [  8.69039357e-01]],\r\n\r\n        [[ -3.42117012e-01],\r\n         [ -4.71926659e-01],\r\n         [ -8.64489973e-01],\r\n         [  3.74370337e-01],\r\n         [  3.91545683e-01],\r\n         [ -1.44312167e+00],\r\n         [  4.86335188e-01]]],\r\n\r\n\r\n       [[[ -5.69472253e-01],\r\n         [  1.42672122e+00],\r\n         [  1.56843990e-01],\r\n         [  1.71773005e+00],\r\n         [ -4.58126783e-01],\r\n         [ -2.87983865e-01],\r\n         [  2.99808353e-01]],\r\n\r\n        [[  1.05594826e+00],\r\n         [  5.65882504e-01],\r\n         [ -1.23352396e+00],\r\n         [  1.82900697e-01],\r\n         [  2.22447384e-02],\r\n         [ -4.29068595e-01],\r\n         [ -6.48105264e-01]],\r\n\r\n        [[  1.74757719e+00],\r\n         [ -3.90386492e-01],\r\n         [ -8.45922649e-01],\r\n         [  6.37112856e-01],\r\n         [  1.30622983e-01],\r\n         [ -7.58138672e-02],\r\n         [  7.81301796e-01]],\r\n\r\n        [[  4.88625407e-01],\r\n         [  3.62190008e-01],\r\n         [  9.64200497e-01],\r\n         [  2.83636421e-01],\r\n         [ -6.16921961e-01],\r\n         [ -3.62282217e-01],\r\n         [ -5.20972311e-01]],\r\n\r\n        [[  2.09722057e-01],\r\n         [ -1.07798493e+00],\r\n         [ -1.83242595e+00],\r\n         [  8.81549269e-02],\r\n         [ -1.33652055e+00],\r\n         [ -1.95197809e+00],\r\n         [  3.73330772e-01]]]])\r\n```\r\n", "Looks like the images generated are actually random. So I would expect the summaries generated to be slightly different: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/kernel_tests/summary_image_op_test.py#L60\r\nHowever, the random functions are seeded in two places: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/kernel_tests/summary_image_op_test.py#L53 https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/framework/test_util.py#L618\r\nMaybe the test is actually flaky and the random functions, even when seeded with the same numbers, generate different sequences on x86 and ppc64? Or ordering of ops are different between ppc64 and x86 so we end up with different random images.\r\n\r\nSo next I tried removing the random seedsand running the test multiple times on x86 to see how flaky it is. I tried the command:\r\n```\r\n$ bazel test -c opt tensorflow/python/kernel_tests:summary_image_op_test --runs_per_test=1000\r\nINFO: Analysed target //tensorflow/python/kernel_tests:summary_image_op_test (0 packages loaded).\r\nINFO: Found 1 test target...\r\nTarget //tensorflow/python/kernel_tests:summary_image_op_test up-to-date:\r\n  bazel-bin/tensorflow/python/kernel_tests/summary_image_op_test\r\nINFO: Elapsed time: 38.523s, Critical Path: 1.86s\r\nINFO: Build completed successfully, 1001 total actions\r\n//tensorflow/python/kernel_tests:summary_image_op_test                   PASSED in 1.8s\r\n  Stats over 1000 runs: max = 1.8s, min = 0.7s, avg = 1.2s, dev = 0.1s\r\n\r\nExecuted 1 out of 1 test: 1 test passes.\r\n```\r\n\r\nCan someone try the above on a ppc64le machine?", "Hi @gunan,\r\nAs you suggested , I tried removing the random seeds and running the test multiple times on ppc64le : \r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/kernel_tests/summary_image_op_test.py#L53\r\n`# np.random.seed(7)`\r\n```\r\n$ bazel test -c opt tensorflow/python/kernel_tests:summary_image_op_test --runs_per_test=1000\r\nINFO: Found 1 test target...\r\nTarget //tensorflow/python/kernel_tests:summary_image_op_test up-to-date:\r\n  bazel-bin/tensorflow/python/kernel_tests/summary_image_op_test\r\nINFO: Elapsed time: 120.027s, Critical Path: 1.15s\r\n//tensorflow/python/kernel_tests:summary_image_op_test                   PASSED in 1.1s\r\n  Stats over 1000 runs: max = 1.1s, min = 0.9s, avg = 0.9s, dev = 0.0s\r\n\r\nExecuted 1 out of 1 test: 1 test passes.\r\n```\r\n\r\nThanks!", "This is really interesting :)\r\nOK, so let's remove line 53 from summary image op test if that fixes the test on ppc64le. As far as I am concerned we already seed all random calls in testcasse class.", "Sure @gunan , I will create a PR to upstream the changes.\r\n Thanks a lot for the suggestions/comments!", "Fixed in PR #15147 "]}, {"number": 12324, "title": "cannot bazel build freeze_graph on windows", "body": "using bazel 0.53, python 3.6.2 on windows 10 64 with tf-gpu 1.3.0rc2\r\n\r\nbazel build tensorflow/python/tools:freeze_graph\r\n.\r\nERROR: C:/users/eyaler/downloads/tensorflow-master/tensorflow-master/tensorflow/python/tools/BUILD:32:1: error loading package 'tensorflow/core': Encountered error while reading extension file 'protobuf.bzl': no such package '@protobuf_archive//': Traceback (most recent call last):\r\n        File \"C:/users/eyaler/downloads/tensorflow-master/tensorflow-master/tensorflow/workspace.bzl\", line 119\r\n                _apply_patch(repo_ctx, repo_ctx.attr.patch_file)\r\n        File \"C:/users/eyaler/downloads/tensorflow-master/tensorflow-master/tensorflow/workspace.bzl\", line 110, in _apply_patch\r\n                _execute_and_check_ret_code(repo_ctx, cmd)\r\n        File \"C:/users/eyaler/downloads/tensorflow-master/tensorflow-master/tensorflow/workspace.bzl\", line 94, in _execute_and_check_ret_code\r\n                fail(\"Non-zero return code({1}) when ...))\r\nNon-zero return code(127) when executing 'c:\\tools\\msys64\\usr\\bin\\bash.exe -c patch -p1 -d C:/users/eyaler/appdata/local/temp/_bazel_eyaler/trcps2te/external/protobuf_archive -i C:/users/eyaler/downloads/tensorflow-master/tensorflow-master/third_party/protobuf/add_noinlines.patch':\r\nStdout:\r\nStderr:       1 [main] patch (14524) C:\\Program Files\\Git\\usr\\bin\\patch.exe: *** fatal error - cygheap base mismatch detected - 0x1802F3408/0x1802FD408.\r\nThis problem is probably due to using incompatible versions of the cygwin DLL.\r\nSearch for cygwin1.dll using the Windows Start->Find/Search facility\r\nand delete all but the most recent version.  The most recent version *should*\r\nreside in x:\\cygwin\\bin, where 'x' is the drive on which you have\r\ninstalled the cygwin distribution.  Rebooting is also suggested if you\r\nare unable to find another cygwin DLL.\r\n and referenced by '//tensorflow/python/tools:freeze_graph'.\r\nERROR: Analysis of target '//tensorflow/python/tools:freeze_graph' failed; build aborted.\r\nINFO: Elapsed time: 85.042s", "comments": ["This looks like a cygwin issue, not a TensorFlow issue. Try following the advice it provides (the sentence that starts with \"Search for cygwin1.dll using...\"), and asking on StackOverflow.", "thanks. i followed the advice but it was not relevant.", "For what it's worth, I also had this problem today while trying to build Tensorflow on Windows using Bazel.  I think the problem was that I had the msys2 shell installed alongside Git for Windows (which also installs a version -- possibly a newer version -- of the msys2 shell in the form of Git Bash).  After I uninstalled Git for Windows, this error went away.  \r\n\r\n(That's not to say that my Bazel build started working... I've spent three days trying to get it to work and it still fails.  I'm basically to the point of giving up and going back to Ubuntu.)  "]}, {"number": 12323, "title": "tf.device() is allocating all available GPU memory", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: no\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04.1 LTS\r\n- **TensorFlow installed from (source or binary)**: source (git repo)\r\n- **TensorFlow version (use command below)**: ('unknown', '1.3.0-rc2')\r\nusing commit 3686ef0d51047d2806df3e2ff6c1aac727456c1d\r\n\r\n- **Python version**: Python 2.7.12 (default, Nov 19 2016, 06:48:10)\r\n- **Bazel version (if compiling from source)**:\r\nBuild label: 0.5.1\r\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Tue Jun 6 10:34:11 2017 (1496745251)\r\nBuild timestamp: 1496745251\r\nBuild timestamp as int: 1496745251\r\n\r\n- **CUDA/cuDNN version**: CUDA 8.0 / cuDNN 5.0.5\r\n- **GPU model and memory**: GTX 1080 Ti / 11172MiB\r\n- **Exact command to reproduce**:\r\n\r\n```python\r\n$ python\r\nPython 2.7.12 (default, Nov 19 2016, 06:48:10)\r\n[GCC 5.4.0 20160609] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import tensorflow\r\n>>> a = tensorflow.device('/cpu:0')\r\n2017-08-16 18:14:10.490730: I tensorflow/core/common_runtime/gpu/gpu_device.cc:962] Found device 0 with properties:\r\nname: Graphics Device major: 6 minor: 1 memoryClockRate(GHz): 1.582\r\npciBusID: 0000:02:00.0\r\ntotalMemory: 10.91GiB freeMemory: 3.02GiB\r\n2017-08-16 18:14:10.490782: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1052] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Graphics Device, pci bus id: 0000:02:00.0, compute capability: 6.1)\r\n>>> a\r\n<contextlib.GeneratorContextManager object at 0x7fdf6f0e8790>\r\n>>>\r\n```\r\nAt this point, tensorflow is allocating all of the available GPU memory. This can be checked using `nvidia-smi`.\r\nExpected behavior is nothing is done with GPU.\r\n\r\nI have used tensorflow 1.2.1, which will allocate nothing on GPU until a `tf.Session` is created. `tf.Session` also allows setting `config.gpu_options.per_process_gpu_memory_fraction` to limit the usage of GPU memory.", "comments": ["@agarwal-ashish Could this be happening because calling `tf.device()` implicitly creates an `eager.Context`, and doing that initializes the TF devices?", "focus + ", "It has been 14 days with no activity and this issue has an assignee.Please update the label and/or status accordingly.", "I'm pretty sure this was closed some time ago. @agarwal-ashish Can you please reopen if not?", "Yeah open this sucker up I'm dying over here.", "> Yeah open this sucker up I'm dying over here.\r\n\r\nThis issue was fixed as far as I know. Can you provide more details on how to reproduce, and which version of tensorflow you are using ? \r\n", "Using tensorflow r1.10 with cuda 9.2 / cudnn 7. The code that I'm calling is located in https://github.com/huawei-tomas/scene-graph-TF-release. It seems to be an NCCL issue since caffe2 is doing the same thing. It's just that tensorflow is soaking up all the memory on the GPU while caffe2 is only taking a few percent.", "GPU memory allocator by default takes up most of the GPU memory. There are session options to configure it to not do so. The bug referenced here is different in that GPU memory was being allocated even though GPU was not being used. That doesn't seem to be your case. ", "We did end up configuring the session to occupy less GPU memory a minute ago. I feel like this might be a similar issue (though not necessarily with TF itself as I mentioned) because `CUDA_VISIBLE_DEVICES` has no effect on which GPUs are visible. We would rather not have all the memory on every GPU allocated when we're trying to tell TF not to use them.", "I have the same issue, https://stackoverflow.com/questions/52583779/almost-no-free-1080-ti-memory-allocation-when-running-a-tensorflow-gpu-device\r\n\r\n"]}, {"number": 12322, "title": "Single Image Inference in Tensorflow [Python]", "body": "I have already converted a pre-trained .ckpt file to .pb file freezing the model and saving the weighs as well. What I am trying to do now is to make a simple inference using that .pb file and extract and save output image. The model is a (Fully Convolutional Network for Semantic Segmentation) downloaded from here : https://github.com/MarvinTeichmann/KittiSeg . So far I have managed to, load the image, set the default tf graph and import the graph defined by the model on that, read the input and the output tensors and run the session (error here).\r\n\r\n```\r\nimport tensorflow as tf\r\nimport os\r\nimport numpy as np\r\nfrom tensorflow.python.platform import gfile\r\nfrom PIL import Image\r\n\r\n# Read the image & get statstics\r\nimg=Image.open('/path-to-image/demoImage.png')\r\nimg.show()\r\nwidth, height = img.size\r\nprint(width)\r\nprint(height)\r\n\r\n#Plot the image\r\n#image.show()\r\n\r\nwith tf.Graph().as_default() as graph:\r\n\r\n        with tf.Session() as sess:\r\n\r\n                # Load the graph in graph_def\r\n                print(\"load graph\")\r\n\r\n                # We load the protobuf file from the disk and parse it to retrive the unserialized graph_drf\r\n                with gfile.FastGFile(\"/path-to-FCN-model/FCN8.pb\",'rb') as f:\r\n\r\n                                #Set default graph as current graph\r\n                                graph_def = tf.GraphDef()\r\n                                graph_def.ParseFromString(f.read())\r\n                                #sess.graph.as_default() #new line\r\n\r\n                                # Import a graph_def into the current default Graph\r\n                                tf.import_graph_def(graph_def, name='')\r\n\r\n                                # Print the name of operations in the session\r\n                                #for op in sess.graph.get_operations():\r\n\r\n                                    #print \"Operation Name :\",op.name            # Operation name\r\n                                    #print \"Tensor Stats :\",str(op.values())     # Tensor name\r\n\r\n                                # INFERENCE Here\r\n                                l_input = graph.get_tensor_by_name('Placeholder:0')\r\n                                l_output = graph.get_tensor_by_name('save/Assign_38:0')\r\n\r\n                                print \"l_input\", l_input\r\n                                print \"l_output\", l_output\r\n                                print\r\n                                print\r\n\r\n                                # Acceptable feed values include Python scalars, strings, lists, numpy ndarrays, or TensorHandles.                              \r\n                                result = sess.run(l_output, feed_dict={l_input : img}) #   <= error here\r\n                                print(results)\r\n\r\n                                print(\"Inference done\")\r\n\r\n\r\n                                # Info\r\n                                # First Tensor name : Placeholder:0\r\n                                # Last tensor name  : save/Assign_38:0\"\r\n```\r\n\r\nWhy inference of a single image in tensorflow is so complicated?\r\n", "comments": ["What is the error? is it something to do with image size?", "The script is correct I believe, because I used the same script to inference the pre-trained inception v3 freezed (.pb) model that comes with tensorflow and works ok. I think the error has to do with the .pb file that I am using. Here is the error message but what it represents ? : \r\n\r\n```\r\n2017-08-16 15:54:11.567779: W tensorflow/core/framework/op_kernel.cc:1158] Not found: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for model\r\n2017-08-16 15:54:11.571391: W tensorflow/core/framework/op_kernel.cc:1158] Not found: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for model\r\nTraceback (most recent call last):\r\n  File \"InferencePb2.py\", line 51, in <module>\r\n    result = sess.run(l_output, feed_dict={l_input : img}) #   <= error here\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 789, in run\r\n    run_metadata_ptr)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 997, in _run\r\n    feed_dict_string, options, run_metadata)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1132, in _do_run\r\n    target_list, options, run_metadata)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1152, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.NotFoundError: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for model\r\n\t [[Node: save/RestoreV2_38 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](save/Const, save/RestoreV2_38/tensor_names, save/RestoreV2_38/shape_and_slices)]]\r\n\r\nCaused by op u'save/RestoreV2_38', defined at:\r\n  File \"InferencePb2.py\", line 33, in <module>\r\n    tf.import_graph_def(graph_def, name='')\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/importer.py\", line 311, in import_graph_def\r\n    op_def=op_def)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2506, in create_op\r\n    original_op=self._default_original_op, op_def=op_def)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1269, in __init__\r\n    self._traceback = _extract_stack()\r\n\r\nNotFoundError (see above for traceback): Unsuccessful TensorSliceReader constructor: Failed to find any matching files for model\r\n\t [[Node: save/RestoreV2_38 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](save/Const, save/RestoreV2_38/tensor_names, save/RestoreV2_38/shape_and_slices)]]\r\n```", "This question is better asked on  [StackOverflow](http://stackoverflow.com/questions/tagged/tensorflow) since it is not a  bug or feature request. There is also a larger community that reads questions there. Thanks!"]}, {"number": 12321, "title": "[Feature]Any plan to add Dynamic Graph support in TF?", "body": "We know that TF follows the define-and-run paradigm, while some other DL frameworks support define-by-run paradigm, such as pyTorch and Chainer. \r\n\r\n\"define-and-run\" actually reduce the mind-set overhead for DL modeling guys due to that it can help reduce the try-and-feedback loop.\r\n\r\nMxNet(another originally define-and-run DL framework) already adds support for dynamic graph through Gluon(https://github.com/zackchase/mxnet-the-straight-dope).\r\n\r\nAs far as I know, there are TensorFlow Fold project(https://github.com/tensorflow/fold) which provides dynamic batching support, but it doesn't provides the define-by-run support.\r\n\r\nIs there any plan for TFer to add the dynamic graph support in the near future?\r\nIf not, my team is going to work on this stuff, before jumping in, I just want to make sure our energies  are invested on unique features rather than duplicated ones. \r\n\r\nThanks", "comments": ["Try `import tensorflow.contrib.imperative as tf` for something that works somewhat more like \"define-by-run\". https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/imperative\r\n\r\nAlso, one might wonder what this is: https://github.com/tensorflow/tensorflow/tree/master/tensorflow/python/eager", "@asimshankar @alextp ", "Thanks for the note @yangjunpro . \r\n\r\nDynamic graphs are an important feature, and we are working on a solution to support them better. We will keep you updated as we make progress. Thanks!", "@asimshankar May I know the rough release plan as to the support for the dynamic graph?\r\n\r\nThanks", "It has been 14 days with no activity and the `awaiting tensorflower` label was assigned. Please update the label and/or status accordingly.", "[Eager execution](https://research.googleblog.com/2017/10/eager-execution-imperative-define-by.html) is relevant to this thread.\r\n\r\nClosing this issue. Please feel encouraged to try eager execution out and file more detailed feature requests / bug reports. Thanks!"]}, {"number": 12320, "title": "Indexing problem in tensorflow with tf.where()", "body": "I want to clip the variable 'a' values which are less than or equal to max_val.\r\n\r\n     ValueError: Shape must be rank 1 but is rank 3 for 'strided_slice_1' (op: 'StridedSlice') with input shapes: [13,20], [1,?,2], [1,?,2], [1].\r\n\r\n     tf.clip_by_value(a[tf.where(tf.less_equal(a,max_val))],0,0)\r\n\r\n", "comments": ["This question is better asked on  [StackOverflow](http://stackoverflow.com/questions/tagged/tensorflow) since it is not a  bug or feature request. There is also a larger community that reads questions there. Thanks!"]}, {"number": 12319, "title": "session_t->Create() Failed using tensorflow exported model on IOS", "body": "Please go to Stack Overflow for help and support:\r\n\r\nhttps://stackoverflow.com/questions/tagged/tensorflow\r\n\r\nIf you open a GitHub issue, here is our policy:\r\n\r\n1. It must be a bug or a feature request.\r\n2. The form below must be filled out.\r\n3. It shouldn't be a TensorBoard issue. Those go [here](https://github.com/tensorflow/tensorboard/issues).\r\n\r\n**Here's why we have that policy**: TensorFlow developers respond to issues. We want to focus on work that benefits the whole community, e.g., fixing bugs and adding features. Support only helps individuals. GitHub also notifies thousands of people when issues are filed. We want them to see you communicating an interesting problem, rather than being redirected to Stack Overflow.\r\n\r\n------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: YES\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: \r\nGenerating Tensorflow model:  Ubuntu 16.04 LTS (GNU/Linux 4.4.0-91-generic x86_64)\r\nLoad Tensorflow model: macOS 10.12 Sierra\r\n- **TensorFlow installed from (source or binary)**: TensorFlow is installed from source\r\n- **TensorFlow version (use command below)**: TensorFlow version 1.2.0\r\n- **Python version**: Python version 3.5\r\n- **Bazel version (if compiling from source)**: Bazel version  0.5.3\r\n- **CUDA/cuDNN version**: None\r\n- **GPU model and memory**: NA\r\n- **Exact command to reproduce**:\r\n\r\n\r\n### Describe the problem\r\nError happen when call \"status = session_t->Create(graph)\"\r\n\r\nerror message:\r\n2017-08-16 13:22:27.692781+0800 CameraExample[6322:2753781] Error adding graph to session: No OpKernel was registered to support Op 'RandomUniform' with these attrs.  Registered devices: [CPU], Registered kernels:\r\n  <no registered kernels>\r\n\r\n\r\n### Source code / logs\r\nExport models as *.pb file: (In python)\r\nself.saver.save(self.sess, self.my_path_to_model + \"model.ckpt\", global_step=i)\r\n\t\toutput_graph_def = tf.graph_util.convert_variables_to_constants(self.sess,self.sess.graph_def,output_node_names=['models_simple/y_conv'])\r\n\t\t\twith tf.gfile.FastGFile(self.my_path_to_model+ 'graph.pb', mode = 'wb') as f:\r\n\t\t\t\tf.write(output_graph_def.SerializeToString())\r\n------------------------------------------------------------------------------------\r\nIOS:\r\n\r\nuse the following operations to process exported model\r\n ------------------------------------------------------------------------------------\r\n#Call freeze_graph, synthesize graph.pb and CKPT, generate frozen.pb\r\nbazel-bin/tensorflow/python/tools/freeze_graph \\\r\n  --input_graph=XXXX/graph.pb \\\r\n  --input_checkpoint=XXXX/model.ckpt-0 \\\r\n  --output_node_names=models_simple/Placeholder,models_simple/y_conv \\\r\n  --input_binary \\\r\n  --output_graph=XXXX/frozen.pb\r\n\r\n#Call optimize_for_inference, reduce the operation, replace the calculation can not run in the iOS version, generate inference.pb\r\nbazel-bin/tensorflow/python/tools/optimize_for_inference \\\r\n  --input=XXXX/frozen.pb \\\r\n  --output=XXXX/inference.pb \\\r\n  --input_names=models_simple/Placeholder \\\r\n  --output_names=models_simple/y_conv \\\r\n  --frozen_graph=True\r\n\r\n#Call quantize_graph to further optimize the graph, generate rounded_graph.pb\r\nbazel-bin/tensorflow/tools/quantization/quantize_graph \\\r\n  --input=XXXX/inference.pb \\\r\n  --output=XXXX/rounded_graph.pb \\\r\n  --output_node_names=models_simple/y_conv \\\r\n  --mode=weights_rounded\r\n-------------------------------------------------------------------------------------------\r\n\r\nThen, execute the following code, (BOOL)loadGraphFromPath executed successfully, but error raised at \"status = session_t->Create(graph)\"\r\n\r\n- (BOOL)loadGraphFromPath:(NSString *)path\r\n{\r\n  auto status = ReadBinaryProto(tensorflow::Env::Default(), path.fileSystemRepresentation, &graph);\r\n  if (!status.ok()) {\r\n    NSLog(@\"Error reading graph: %s\", status.error_message().c_str());\r\n    return NO;\r\n  }\r\n  \r\n  // This prints out the names of the nodes in the graph.\r\n  auto nodeCount = graph.node_size();\r\n  NSLog(@\"Node count: %d\", nodeCount);\r\n  for (auto i = 0; i < nodeCount; ++i) {\r\n    auto node = graph.node(i);\r\n    NSLog(@\"Node %d: %s '%s'\", i, node.op().c_str(), node.name().c_str());\r\n  }\r\n  \r\n  return YES;\r\n}\r\n\r\ncreate tf session:\r\n- (BOOL)createSession\r\n{\r\n  tensorflow::SessionOptions options;\r\n  auto status = tensorflow::NewSession(options, &session_t);\r\n  if (!status.ok()) {\r\n    NSLog(@\"Error creating session: %s\", status.error_message().c_str());\r\n    return NO;\r\n  }\r\n  \r\n  status = session_t->Create(graph);\r\n  if (!status.ok()) {\r\n  // error\r\n    NSLog(@\"Error adding graph to session: %s\", status.error_message().c_str());\r\n    return NO;\r\n  }\r\n  \r\n  return YES;\r\n}\r\n\r\nerror message:\r\n2017-08-16 13:22:27.692781+0800 CameraExample[6322:2753781] Error adding graph to session: No OpKernel was registered to support Op 'RandomUniform' with these attrs.  Registered devices: [CPU], Registered kernels:\r\n  <no registered kernels>\r\n\r\n\t [[Node: dropout/random_uniform/RandomUniform = RandomUniform[T=DT_INT32, dtype=DT_FLOAT, seed=87654321, seed2=24](dropout/Shape)]]\r\n\r\n# It seems that RandomUniform was not supported on iOS , but when I called freeze_graph, those which are not supported on iOS should be deleted. What can I do for this problem?\r\n", "comments": ["@petewarden ", "We'll be updating the main documentation soon, but for now you might find this free guide to freezing and missing variables on mobile useful: http://www.oreilly.com/data/free/building-mobile-applications-with-tensorflow.csp", "@petewarden, thanks for your book. \r\n\r\njakajacky and I worked in same team, and today we further debugged this issue with help from your guide book, but error still exist.\r\n\r\n***Current status is***\r\n1. Freezing model is successful. \r\n\r\n> $ bazel-bin/tensorflow/python/tools/freeze_graph \\                       \r\n--input_graph=/Users/xiaoqiang/Desktop/Volcano_Offline_1/graph_dropout.pb \\        \r\n--input_checkpoint=/Users/xiaoqiang/Desktop/Volcano_Offline_1/models/model.ckpt-0 \\\r\n--input_node_names=models_simple/x --output_node_names=models_simple/y_conv \\\r\n--input_binary \\\r\n--output_graph=/Users/xiaoqiang/Desktop/Volcano_Offline_1/frozen.pb\r\n\r\n> console log:\r\n> \r\n> 2017-08-17 16:20:37.775619: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\r\n> 2017-08-17 16:20:37.775643: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\r\n> 2017-08-17 16:20:37.775650: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\r\n> 2017-08-17 16:20:37.775655: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\r\n> Converted 8 variables to const ops.\r\n> 47 ops in the final graph.\r\n> \r\n> result: \r\n> frozen.pb\r\n\r\n2. Print summary of model, there is a \"RandomUniform\" op, which will cause error when create session in IOS\r\n\r\n> $ bazel run tensorflow/tools/graph_transforms:summarize_graph -- \\       \r\n     --in_graph=\"/Users/xiaoqiang/Desktop/Volcano_Offline_1/inference.pb\"\r\n\r\n> console log:\r\n> \r\n> INFO: Found 1 target...\r\n> Target //tensorflow/tools/graph_transforms:summarize_graph up-to-date:\r\n>   bazel-bin/tensorflow/tools/graph_transforms/summarize_graph\r\n> INFO: Elapsed time: 0.173s, Critical Path: 0.00s\r\n> \r\n> INFO: Running command line: bazel-bin/tensorflow/tools/graph_transforms/summarize_graph '--in_graph=/Users/xiaoqiang/Desktop/Volcano_Offline_1/inference.pb'\r\n> Found 2 possible inputs: (name=models_simple/x, type=float(1), shape=[]) (name=models_simple/Placeholder, type=float(1), shape=[]) \r\n> No variables spotted.\r\n> Found 1 possible outputs: (name=models_simple/y_conv, op=Softmax) \r\n> Found 70140 (70.14k) const parameters, 0 (0) variable parameters, and 0 control_edges\r\n> Op types used: 12 Const, 6 Add, 3 Relu, 2 Placeholder, 2 MatMul, 2 MaxPool, 2 Mul, 2 Reshape, 2 Conv2D, 1 RealDiv, 1 RandomUniform, 1 Floor, 1 Shape, 1 Softmax, 1 Sub\r\n> \r\n \r\n3. Try \"Removing training-only nodes\" (bazel run tensorflow/tools/graph_transforms:transform_graph). The operation is successfully completed.\r\n\r\n> $ bazel run tensorflow/tools/graph_transforms:transform_graph -- \\       \r\n    --in_graph=\"/Users/xiaoqiang/Desktop/Volcano_Offline_1/inference.pb\"  \\\r\n    --out_graph=\"/Users/xiaoqiang/Desktop/Volcano_Offline_1/optimized_inception_graph.pb\"  \\\r\n    --inputs=\"models_simple/x\" \\\r\n    --outputs=\"models_simple/y_conv\" \\\r\n    --transforms='strip_unused_nodes(type=float,shape=\"1,256\")'\r\n\r\n> console log:\r\n> \r\n> INFO: Found 1 target...\r\n> Target //tensorflow/tools/graph_transforms:transform_graph up-to-date:\r\n>   bazel-bin/tensorflow/tools/graph_transforms/transform_graph\r\n> INFO: Elapsed time: 0.191s, Critical Path: 0.00s\r\n> \r\n> INFO: Running command line: bazel-bin/tensorflow/tools/graph_transforms/transform_graph '--in_graph=/Users/xiaoqiang/Desktop/Volcano_Offline_1/inference.pb' '--out_graph=/Users/xiaoqiang/Desktop/Volcano_Offline_1/optimized_inception_graph.pb' '--inputs=models_simple/x' '--outputs=models_simple/y_conv' '--transforms=strip_unused_nodes(type=float,shape=\"1,256\")'\r\n> 2017-08-17 16:27:20.074270: I tensorflow/tools/graph_transforms/transform_graph.cc:262] Applying strip_unused_nodes\r\n> \r\n> result: \r\n> optimized_inception_graph.pb\r\n\r\n4. Since  \"dropout\" layers is left in graph, error persist when create session.\r\n\r\n> $ bazel run tensorflow/tools/graph_transforms:summarize_graph -- \\       \r\n     --in_graph=\"/Users/xiaoqiang/Desktop/Volcano_Offline_1/optimized_inception_graph.pb\"\r\n\r\n> console log: \r\n> \r\n> INFO: Found 1 target...\r\n> Target //tensorflow/tools/graph_transforms:summarize_graph up-to-date:\r\n>   bazel-bin/tensorflow/tools/graph_transforms/summarize_graph\r\n> INFO: Elapsed time: 0.179s, Critical Path: 0.00s\r\n> \r\n> INFO: Running command line: bazel-bin/tensorflow/tools/graph_transforms/summarize_graph '--in_graph=/Users/xiaoqiang/Desktop/Volcano_Offline_1/optimized_inception_graph.pb'\r\n> Found 2 possible inputs: (name=models_simple/x, type=float(1), shape=[]) (name=models_simple/Placeholder, type=float(1), shape=[]) \r\n> No variables spotted.\r\n> Found 1 possible outputs: (name=models_simple/y_conv, op=Softmax) \r\n> Found 70140 (70.14k) const parameters, 0 (0) variable parameters, and 0 control_edges\r\n> Op types used: 12 Const, 6 Add, 3 Relu, 2 Placeholder, 2 MatMul, 2 MaxPool, 2 Mul, 2 Reshape, 2 Conv2D, 1 RealDiv, 1 RandomUniform, 1 Floor, 1 Shape, 1 Softmax, 1 Sub\r\n\r\n***Oher Experiments***\r\nWe also tried to remove dropout layer from training code on Ubuntu Server, then re-train model, export model to IOS, the session_t->Create() operation passed. However, we cannot use this approach as solution, because removing dropout layer before training will lead to changes of weights and other parameters in neural networks.\r\n\r\nOur objectives are as follow\r\n1. Given a model (Checkpoint + GraphDef) trained and verified on server\r\n2. process the model with tools to remove all unnecessary nodes/ops for inference.\r\n3. inference on IOS\r\n\r\n***Question***\r\nHow to remove dropout layer from model, since \"dropout\" is unnecessary in inference procedure.\r\n\r\n***Code for model generation (Python)***\r\n`           self.x = tf.placeholder(tf.float32, [None, feature_num], name = 'x')\r\n            x_image = tf.reshape(self.x, [-1, 1, feature_num, 1])\r\n            self.y_ = tf.placeholder(tf.float32, [None, label_dim],name='y_')\r\n\r\n            self.W_conv1 = weight_variable([1, self.conv_len, 1, self.num_conv1])\r\n            self.b_conv1 = bias_variable([self.num_conv1])\r\n            self.h_conv1 = tf.nn.relu(conv2d(x_image, self.W_conv1) + self.b_conv1)\r\n\r\n            self.h_pool1,pooling_factor = max_pool_1x4(self.h_conv1,pooling_factor)\r\n            self.W_conv2 = weight_variable([1, self.conv_len, self.num_conv1, self.num_conv2])\r\n            self.b_conv2 = bias_variable([self.num_conv2])\r\n            self.h_conv2 = tf.nn.relu(conv2d(self.h_pool1, self.W_conv2) + self.b_conv2)\r\n\r\n            self.h_pool2,pooling_factor = max_pool_1x2(self.h_conv2,pooling_factor)\r\n            pooled_size = int(feature_num / pooling_factor * self.num_conv2)\r\n            print (\"pooling: (%d,%d) -> %d\" % (feature_num, pooling_factor, pooled_size))\r\n            self.W_fc1 = weight_variable([pooled_size, self.num_fullc])\r\n            self.b_fc1 = bias_variable([self.num_fullc])\r\n            self.h_pool2_flat = tf.reshape(self.h_pool2, [-1, pooled_size])\r\n            self.h_fc1 = tf.nn.relu(tf.matmul(self.h_pool2_flat, self.W_fc1) + self.b_fc1)\r\n\r\n            self.keep_prob = tf.placeholder(tf.float32)\r\n            self.h_fc1_drop = tf.nn.dropout(self.h_fc1, self.keep_prob)\r\n            self.W_fc2 = weight_variable([self.num_fullc, label_dim])\r\n            self.b_fc2 = bias_variable([label_dim])\r\n\r\n            self.y_conv = tf.nn.softmax(tf.matmul(self.h_fc1_drop, self.W_fc2) + self.b_fc2, name='y_conv')\r\n\r\n            classes_weights = tf.constant([ 1.0,  0.8,  1.0, 1.0])\r\n            cross = tf.nn.weighted_cross_entropy_with_logits(self.y_,self.y_conv, pos_weight=classes_weights)\r\n            self.cross_entropy = tf.reduce_mean(cross)\r\n\r\n            # self.cross_entropy = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(logits=self.y_conv, labels=self.y_))\r\n            self.train_step = tf.train.AdamOptimizer(lr).minimize(self.cross_entropy)`\r\n\r\n", "Did you solve the problem? I tried to follow the instruction as [https://github.com/JieHe96/iOS_Tensorflow_ObjectDetection_Example](https://github.com/JieHe96/iOS_Tensorflow_ObjectDetection_Example) to register the ops and recompile. However, the Op registered issues still occurred. If this works for you, or you figure out how to solve it, please let me know asap.", "@Christ1992  Could you provide detailed information about your issues\uff1f", "I mainly encountered 2 issues. \r\n1. \"duplicate symbol\" issue:\r\n`duplicate symbol __ZN10tensorflow15CreateGPUTracerEv in:\r\n    /Users/XXXX/tensorflow-master/tensorflow/contrib/makefile/gen/lib/libtensorflow-core.a(gpu_tracer.o)\r\nld: 1 duplicate symbol for architecture arm64`\r\nI solved this by commenting the gpu_tracker.cc line in Makefile. I don't know the side effect of this operation.\r\n2. \"No OpKernel was registered to support Op XXX\" issue\r\nI solve this by following the above link. I finally recompiled a library that contained all ops of my model, as it listed in my ops_to_registered.h. \r\n\r\nHope that you can solve your problem soon. =^_^=\r\n", "@Christ1992  it's good news^_^. Unfortunately I tried  JieHe\u2018s instruc, but terminal bring me some issues like this when i take step \"compile_ios_tensorflow.sh\":\r\n```\r\n1 error generated.\r\nmake: *** [/Users/xiaoqiang/2Github/MachineLearning/tensorflow-r1.2/tensorflow/contrib/makefile/gen/obj/ios_ARMV7/tensorflow/core/kernels/dequantize_op.o] Error 1\r\nmake: *** Waiting for unfinished jobs....\r\nIn file included from tensorflow/core/kernels/quantization_utils.cc:16:\r\n./tensorflow/core/kernels/quantization_utils.h:29:10: fatal error: 'public/gemmlowp.h' file not\r\n      found\r\n#include \"public/gemmlowp.h\"\r\n```\r\nthat's only one of my issues. They are the same kind of problem, and my tensorFlow  have no file or folder like  'public/gemmlowp.h'  indeedly. Maybe you have some ideas", "I have no idea about this. Maybe you could try to compile with the Makefile I used? [Makefile - google drive](https://drive.google.com/file/d/0BxmUvQp8r-wJMXVmVU9HejZpUTA/view?usp=sharing). I deleted \"-D__ANDROID_TYPES_SLIM__\" line and commented the \"gpu_tracker.cc\" line. Hope it can help.", "@Christ1992 Thanks for your reply,  i'll try it right away \u221a", "@jakajacky How is everything going? When I use my library with JieHe's code, the model could load sucessfully. But with official tensorflow-ios camera code, the error still occurs.\r\n\r\n> Couldn't load model: Invalid argument: No OpKernel was registered to support Op 'Less' with these attrs.  Registered devices: [CPU], Registered kernels:\r\n  device='CPU'; T in [DT_FLOAT]\r\n [[Node: Preprocessor/map/while/Less = Less[T=DT_INT32](Preprocessor/map/while/Merge, Preprocessor/map/while/Less/Enter)]]\r\n\r\nIt seems my tensorflow model on ios only support DT_FLOAT format instead of INT32? Do you have any idea about how to change the supported format?\r\n", "@Christ1992 i saw your new issue #12560, but my issue \"No OpKernel was registered to support Op 'RandomUniform' \" have been resolved by remove 'dropout' only be used to train model, then i met \"No OpKernel was registered to support Op 'Mul'\" when run official tensorflow-ios camera demo, finaly i tried freezing the graph, and it worked. In view of #12560, the only difference between you and me is that i have not used 'pods' to install, and DT_FLOAT or INT32 have nothing to do with this issue probably. I can only provide these. v=v", "sorry i can't understand your meaning,i guess this question is not about my project\n\nAt 2017-08-25 10:33:41, \"X-Roach\" <notifications@github.com> wrote:\n\n\n@Christ1992 i saw your new issue #12560, but my issue \"No OpKernel was registered to support Op 'RandomUniform' \" have been resolved by remove 'dropout' only be used to train model, then i met \"No OpKernel was registered to support Op 'Mul'\" when run official tensorflow-ios camera demo, finaly i tried freezing the graph, and it worked. In view of #12560, the only difference between you and me is that i have not used 'pods' to install, and DT_FLOAT or INT32 have nothing to do with this issue probably. I can only provide these. v=v\n\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.", "It has been 14 days with no activity and the `awaiting tensorflower` label was assigned. Please update the label and/or status accordingly."]}, {"number": 12318, "title": "freeze_graph giving decode error", "body": "i am using tensorflow_gpu-1.3.0rc2-cp36-cp36m-win_amd64.whl\r\nrunning freeze_graph in python 3.6.2 on windows 10 64\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Anaconda3\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"C:\\Anaconda3\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\tools\\freeze_graph.py\", line 260, in <module>\r\n    app.run(main=main, argv=[sys.argv[0]] + unparsed)\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\platform\\app.py\", line 48, in run\r\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\tools\\freeze_graph.py\", line 192, in main\r\n    FLAGS.variable_names_blacklist)\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\tools\\freeze_graph.py\", line 170, in freeze_graph\r\n    input_graph_def = _parse_input_graph_proto(input_graph, input_binary)\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\tools\\freeze_graph.py\", line 137, in _parse_input_graph_proto\r\n    input_graph_def.ParseFromString(f.read())\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\google\\protobuf\\message.py\", line 185, in ParseFromString\r\n    self.MergeFromString(serialized)\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\google\\protobuf\\internal\\python_message.py\", line 1063, in MergeFromString\r\n    if self._InternalParse(serialized, 0, length) != length:\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\google\\protobuf\\internal\\python_message.py\", line 1099, in InternalParse\r\n    pos = field_decoder(buffer, new_pos, end, self, field_dict)\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\google\\protobuf\\internal\\decoder.py\", line 633, in DecodeField\r\n    if value._InternalParse(buffer, pos, new_pos) != new_pos:\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\google\\protobuf\\internal\\python_message.py\", line 1099, in InternalParse\r\n    pos = field_decoder(buffer, new_pos, end, self, field_dict)\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\google\\protobuf\\internal\\decoder.py\", line 612, in DecodeRepeatedField\r\n    if value.add()._InternalParse(buffer, pos, new_pos) != new_pos:\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\google\\protobuf\\internal\\python_message.py\", line 1099, in InternalParse\r\n    pos = field_decoder(buffer, new_pos, end, self, field_dict)\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\google\\protobuf\\internal\\decoder.py\", line 743, in DecodeMap\r\n    if submsg._InternalParse(buffer, pos, new_pos) != new_pos:\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\google\\protobuf\\internal\\python_message.py\", line 1089, in InternalParse\r\n    new_pos = local_SkipField(buffer, new_pos, end, tag_bytes)\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\google\\protobuf\\internal\\decoder.py\", line 850, in SkipField\r\n    return WIRETYPE_TO_SKIPPER[wire_type](buffer, pos, end)\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\google\\protobuf\\internal\\decoder.py\", line 799, in _SkipGroup\r\n    new_pos = SkipField(buffer, pos, end, tag_bytes)\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\google\\protobuf\\internal\\decoder.py\", line 850, in SkipField\r\n    return WIRETYPE_TO_SKIPPER[wire_type](buffer, pos, end)\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\google\\protobuf\\internal\\decoder.py\", line 814, in _SkipFixed32\r\n    raise _DecodeError('Truncated message.')\r\ngoogle.protobuf.message.DecodeError: Truncated message.", "comments": ["Please provide details about what platform you are using  (operating system, architecture). Also include your TensorFlow version. Also, did you compile from source or install a binary?  Make sure you also include the exact command if possible to produce  the output included in your test case. If you are unclear what to include  see the issue template displayed in  [the Github new issue template](https://github.com/tensorflow/tensorflow/issues/new).\r\n\r\n We ask for this in the issue submission template, because    it is really difficult to help without that information. Thanks!", "my bad."]}, {"number": 12317, "title": "remove duplicated code for find master session by handle", "body": "remove all duplicated code for finding master session by session handle.", "comments": ["Can one of the admins verify this patch?", "@mrry I'm sorry for my mistake, I have fixed it. ", "Jenkins, test this please", "Jenkins, test this please"]}, {"number": 12316, "title": "training argument for tf.nn.rnn_cell.DropoutWrapper", "body": "This PR resolves issue #9775 \r\n\r\nAdded a `training` argument to  `tf.nn.rnn_cell.DropoutWrapper`, identical to `tf.layers.dropout`.\r\n\r\nAlso added to testcase to `tf.contrib.rnn.python.kernel_tests/core_rnn_cell_test.py` for this new argument.", "comments": ["Can one of the admins verify this patch?", "We're in the process of fixing a bug in dropout which makes some changes to these lines of code.  Please bear with us a day or two and you may need to resync once that bug is fixed.", "@ebrevdo I merge your bugfix code for state dropout, please let me know if I break anything. My main idea is if `training` is marked `False`, then all dropout intention should be suppressed, so I just move those bugfix lines into the state dropout sub function. Thanks.", "@ebrevdo what are you thoughts on this?", "@ebrevdo ping", "@resec any update?", "@martinwicke sorry, I did not get what @ebrevdo means, I will check more on the implementation but just too busy for the next few days. Will update soon. Thanks.", "@ebrevdo do you mean that I should create a wrapping function which returns the output tensor, to class `tf.nn.rnn_cell.DropoutWrapper`, just like function `tf.layers.dropout` to class `tf.layers.Dropout`?\r\n\r\nBut normally we pass the created RNN Cell object to other wrapper methods like `tf.nn.dynamic_rnn`. Maybe we should define the training in Cell construction and adjust its actions when is applied?\r\n\r\nPlease correct me if I am misunderstanding anything.", "@resec could you pull rebase and push again?\r\n\r\n@ebrevdo any more comment?", "Nagging Assignee: It has been 14 days with no activity and this issue has an assignee. Please update the label and/or status accordingly.", "Nagging Assignee: It has been 14 days with no activity and this issue has an assignee. Please update the label and/or status accordingly.", "I believe you're right.\n\nOn Mon, Nov 20, 2017 at 5:57 PM, resec <notifications@github.com> wrote:\n\n> @ebrevdo <https://github.com/ebrevdo> do you mean that I should create a\n> wrapping function which returns the output tensor, to class\n> tf.nn.rnn_cell.DropoutWrapper, just like function tf.layers.dropout to\n> class tf.layers.Dropout?\n>\n> But normally we pass the created RNN Cell object to other wrapper methods\n> like tf.nn.dynamic_rnn. Maybe we should define the training in Cell\n> construction and adjust its actions when is applied?\n>\n> Please correct me if I am misunderstanding anything.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/pull/12316#issuecomment-345891508>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABtim0JN1Uoc55-9Pg34iZkdKN0Bjr3Fks5s4i4GgaJpZM4O4fEO>\n> .\n>\n", "@resec, will you try addressing the comments?", "Nagging Assignee @ebrevdo: It has been 14 days with no activity and this issue has an assignee. Please update the label and/or status accordingly.", "It has been 14 days with no activity and the `awaiting response` label was assigned. Is this PR still valid? Assigning the `stalled` label. Please comment to reassure me that this is still being worked on.", "It has been 43 days that this pull-request has stalled. Please create a new pull-request with the requested changes."]}, {"number": 12315, "title": "[CMake] Add missing dependencies on boosted_trees protos and other fixes", "body": "This PR fixes some of the CMake targets that are not built as part of CI:\r\n\r\n1. It adds the `contrib/boosted_trees` protos to the `$tf_protos_cc_srcs` variable, which ensures that they are built before the corresponding kernels. This enables non-Python targets (such as `tf_label_image_example`) to be built again.\r\n2. It excludes the `core/kernels/fuzzing` code from being built, which enables the CMake build to work on non-Windows platforms. (An `#ifndef PLATFORM_WINDOWS` was in place to preserve the functioning Windows builds.)\r\n3. It includes the missing CUDA code for the `ZeroInitializerOp` when building for GPU.\r\n\r\nFixes #12037. Fixes #12164. Fixes #12277. Fixes #12288. Fixes #12332.", "comments": ["@mrry, thanks for your PR! By analyzing the history of the files in this pull request, we identified @tensorflower-gardener, @ebrevdo and @benoitsteiner to be potential reviewers.", "@tensorflow-jenkins test this please.", "@tensorflow-jenkins test this please.", "@gunan @andrewharp I'm not sure why the Linux Python 3 tests are failing, but it seems unrelated to my CMake-only change. It looks like other PRs are being merged with the same failure, so would you mind merging this one as well? Thanks!", "eager:core_test failure is a known issue.\r\nMerging.", "I use windows vs2015 build the target project by cmake, using `MSBuild /M:10 /p:Configuration=Release tf_tutorials_example_trainer.vcxproj` , but the compile work can't go ahead when I meet  `26>  No install step for 'grpc'\r\n26>  Completed 'grpc'`, it seems to be standstill. I have used the same way to compile the tensorflow on windows by cmake, but this time it can't work.", "@kyo055 Please open a new issue describing the problem, and attach a complete log of the build process so we can help to track down the problem."]}, {"number": 12314, "title": "Feature request: Add FFT to XLA bridge", "body": "As there are now CPU FFT implementations it seems like a small extra step to add the FFT ops to the XLA bridge. Surely `tf.spectral` is an immensely important suite of functions for a huge number of use cases.", "comments": ["@andydavis1 are there any plans to add this?", "@reedwm, I've assumed the [tensorflow/compiler](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/compiler) will support all core ops eventually. Is this not the plan?", "Thanks for your request. While we are not opposed to adding some ops (like FFT) to XLA, it is currently not our highest priority.", "@andydavis1, cool. :+1: \r\n\r\nFFT is an essential tool for signal processing. I hope it can be made a higher priority. :koala:\r\n\r\nConsidering [there's already GPU and CPU support for FFT in TensorFlow](https://github.com/tensorflow/tensorflow/blob/96af8b0b9738fb147b3b3ffe555f952b2f9e8ccf/tensorflow/core/kernels/fft_ops.cc#L116), it seems like it should mostly be a matter of creating some additional classes for the XLA op?\r\n\r\nI'd love a brief description on how to go about adding XLA ops (as mentioned by @learyg [here](https://github.com/tensorflow/tensorflow/issues/11905#issuecomment-319277435)).\r\n\r\nJust skimming the source, I guess it's something like this:\r\n```cc\r\nclass FftOp : public XlaOpKernel {\r\n public:\r\n  explicit FftOp(OpKernelConstruction* ctx) : XlaOpKernel(ctx) {}\r\n\r\n  void Compile(XlaOpKernelContext* ctx) override {\r\n    // y = tf.fft(x)\r\n    auto x = ctx->Input(0);\r\n    auto y = ctx->builder()->Fft(x);\r\n    ctx->SetOutput(0, y);\r\n  }\r\n}\r\n```\r\nand this \r\n```cc\r\nComputationDataHandle ComputationBuilder::Fft(\r\n    const ComputationDataHandle& operand) {\r\n  return UnaryOp(UNOP_FFT, operand);\r\n}\r\n```\r\netc.", "@learyg can comment further, but adding a new HLO to XLA can be quite involved.\r\n\r\nCan you just use TF's FFT implementation for now?  You can still use XLA to compile other parts of the TF graph.", "> Can you just use TF's FFT implementation for now? You can still use XLA to compile other parts of the TF graph.\r\n\r\nUnfortunately no. I need to compile a trained model for deployment. I suppose for this particular use case I could rewrite the non-supported parts of the forward pass directly in the XLA AOT C++ wrapper with Eigen though, but that's a bit messy. It might also introduce unwanted train/test skew.", "\r\n:+1: for this.\r\n\r\nI've been prototyping a trainable 2D-FFT image segmentation model and would love to be able to compile it with XLA AOT without having to do a naive Fourier transform in my graph.", "For my use case the FFT is purely preprocessing and not trainable so I've been rewriting bits to NumPy and compile that part with [nuitka](http://nuitka.net/) instead which works fine. It's only 100 LOCs so it's pretty doable, but a hassle.\r\n\r\n> a naive Fourier transform in my graph\r\n\r\nNote that there's also no complex number support in XLA so that won't be a possible workaround. https://github.com/tensorflow/tensorflow/issues/12115", "@learyg, any thoughts on having `tf.fft` (and its siblings) in XLA?", "I'm currently working on adding some XLA support for FFT in order to support tf.spectral/tf.contrib.signal. The initial work I'm doing is 1d only, but probably can be easily generalized. Along the way I may be forced to tackle complex64 support, we'll see. :)", "It has been 14 days with no activity and the `awaiting tensorflower` label was assigned. Please update the label and/or status accordingly.", "Work is in progress.\n\n\nsent from mobile\n\nOn Tue, Dec 19, 2017, 8:25 PM Alfred <notifications@github.com> wrote:\n\n> It has been 14 days with no activity and the awaiting tensorflower label\n> was assigned. Please update the label and/or status accordingly.\n>\n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/12314#issuecomment-352935978>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AVJZI_VYB5kQxvWiiUoj1k5CEfT9XA-pks5tCGDCgaJpZM4O4dvr>\n> .\n>\n", "FFTs of all flavors were added in 5bf26acd87d3d44183fc28cb9576cda10c0255ca"]}, {"number": 12313, "title": "rm duplicated implements for GrpcRemoteMaster", "body": "Refactoring GrpcRemoteMaster and rm duplicated implements for it.", "comments": ["Can one of the admins verify this patch?", "@horance-liu, thanks for your PR! By analyzing the history of the files in this pull request, we identified @sherrym, @mrry and @zheng-xq to be potential reviewers.", "@tensorflow-jenkins test this please.", "Jenkins, test this please"]}, {"number": 12312, "title": "Update control_flow_ops.py", "body": "Updated documentation of while_loop() function", "comments": ["Can one of the admins verify this patch?", "@AndreiCostinescu, thanks for your PR! By analyzing the history of the files in this pull request, we identified @yuanbyu, @keveman and @tensorflower-gardener to be potential reviewers."]}, {"number": 12311, "title": "`fit()` instance method of `skflow.TensorFlowDNNClassifier` raises unexpected error", "body": "### System information\r\n\r\n- **Custom code?** no, elementary example for classifying the Iris dataset\r\n- **Operating System**: MacOS 10.12.6\r\n- **TensorFlow installed from (source or binary)**: binary using `pip3 install tensorflow` and later `pip3 install skflow`\r\n- **TensorFlow version (use command below)**: v1.2.0-5-g435cdfc 1.2.1\r\n- **Python version**: Python 3.6.2\r\n- **GPU model and memory**: Intel Iris integrated graphics\r\n- **Exact command to reproduce**: the `fit` instance method of `skflow.TensorFlowDNNClassifier`\r\n\r\n### Describe the problem\r\n\r\nCalling `fit` on instances of `skflow.TensorFlowDNNClassifier` produces an `AttributeError` about `tensorflow` not having an attribute called `histogram_summary`.\r\n\r\n### Source code / logs\r\n\r\n```python\r\nimport skflow\r\nfrom sklearn import datasets, metrics\r\n \r\niris = datasets.load_iris()\r\nclf = skflow.TensorFlowDNNClassifier(hidden_units=[10, 20, 10], n_classes=3)\r\nclf.fit(iris.data, iris.target)\r\n```\r\n\r\n```shell\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.6/site-packages/skflow/estimators/base.py\", line 200, in fit\r\n    self._setup_training()\r\n  File \"/usr/local/lib/python3.6/site-packages/skflow/estimators/base.py\", line 133, in _setup_training\r\n    tf.histogram_summary(\"X\", self._inp)\r\nAttributeError: module 'tensorflow' has no attribute 'histogram_summary'\r\n```", "comments": ["@ispirmustafa can you comment or redirect to someone who can? Thanks.", "@Kautenja you are using SUPER old code. I am surprised to see the reference to the word \"skflow\". Check out `tf.estimator`."]}, {"number": 12310, "title": "modify doc about deploy of hadoop: deprecate KERB_TICKET_CACHE_PATH", "body": "I have create https://github.com/tensorflow/tensorflow/issues/12290 to declare this problem.", "comments": ["@weberxie, thanks for your PR! By analyzing the history of the files in this pull request, we identified @jhseu, @tensorflower-gardener and @andrewharp to be potential reviewers.", "Can one of the admins verify this patch?", "Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\n:memo: **Please visit <https://cla.developers.google.com/> to sign.**\n\nOnce you've signed, please reply here (e.g. `I signed it!`) and we'll verify.  Thanks.\n\n---\n\n- If you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check [your existing CLA data](https://cla.developers.google.com/clas) and verify that your [email is set on your git commits](https://help.github.com/articles/setting-your-email-in-git/).\n- If your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\n- In order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n<!-- need_sender_cla -->", "I signed it!", "We found a Contributor License Agreement for you (the sender of this pull request), but were unable to find agreements for the commit author(s).  If you authored these, maybe you used a different email address in the git commits than was used to sign the CLA ([login here](https://cla.developers.google.com/) to double check)?  If these were authored by someone else, then they will need to sign a CLA as well, and confirm that they're okay with these being contributed to Google.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n<!-- need_author_cla -->", "CLAs look good, thanks!\n\n<!-- ok -->"]}, {"number": 12309, "title": "Tensorflow installation fails on python 3.3.6", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: See below\r\n- **TensorFlow installed from (source or binary)**: Tried with pip3\r\n- **TensorFlow version (use command below)**: \r\n- **Python version**: 3.3.6\r\n- **Bazel version (if compiling from source)**:\r\n- **CUDA/cuDNN version**:\r\n- **GPU model and memory**:\r\n- **Exact command to reproduce**:\r\n\r\nYou can collect some of this information using our environment capture script:\r\n== cat /etc/issue ===============================================\r\nLinux 11bb6e68305e 4.9.36-moby #1 SMP Wed Jul 12 15:29:07 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\nVERSION=\"14.04.5 LTS, Trusty Tahr\"\r\nVERSION_ID=\"14.04\"\r\n\r\n== are we in docker =============================================\r\nYes\r\n\r\n== compiler =====================================================\r\nc++ (Ubuntu 4.8.4-2ubuntu1~14.04.3) 4.8.4\r\nCopyright (C) 2013 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n\r\n\r\n== uname -a =====================================================\r\nLinux 11bb6e68305e 4.9.36-moby #1 SMP Wed Jul 12 15:29:07 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n== check pips ===================================================\r\n\r\n== check for virtualenv =========================================\r\nTrue\r\n\r\n== tensorflow import ============================================\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\nImportError: No module named 'tensorflow'\r\n\r\n== env ==========================================================\r\nLD_LIBRARY_PATH is unset\r\nDYLD_LIBRARY_PATH is unset\r\n\r\n== nvidia-smi ===================================================\r\n./tf_env_collect.sh: line 105: nvidia-smi: command not found\r\n\r\n== cuda libs  ===================================================\r\n\r\n### Describe the problem\r\nWhen i try to install tensorflow on Ubunutu 14.04 (python 3.3.6, pip 9.0.1) it fails because of numpy version >=1.11.0 which requires Python version 2.7 or >= 3.4. I followed the installations steps mentioned in https://www.tensorflow.org/install/install_linux. Installation works fine on python 3.4/3.6. I think it would be good to specify if 3.3 is not supported here (make Python: 3.4+) https://www.tensorflow.org/install/install_linux#prerequisite_python_and_pip\r\n\r\n### Source code / logs\r\n(env33)root@11bb6e68305e:/home# python --version\r\nPython 3.3.6\r\n\r\n(env33)root@11bb6e68305e:/home# pip3 install --upgrade\r\nYou must give at least one requirement to install (see \"pip help install\")\r\n(env33)root@11bb6e68305e:/home# pip3 install --upgrade pip\r\nDownloading/unpacking pip from https://pypi.python.org/packages/b6/ac/7015eb97dc749283ffdec1c3a88ddb8ae03b8fad0f0e611408f196358da3/pip-9.0.1-py2.py3-none-any.whl#md5=297dbd16ef53bcef0447d245815f5144\r\n  Downloading pip-9.0.1-py2.py3-none-any.whl (1.3MB): 1.3MB downloaded\r\nInstalling collected packages: pip\r\n  Found existing installation: pip 1.5.4\r\n    Uninstalling pip:\r\n      Successfully uninstalled pip\r\nSuccessfully installed pip\r\nCleaning up...\r\n\r\n(env33)root@11bb6e68305e:/home# pip3 install --upgrade tensorflow\r\nCollecting tensorflow\r\n  Downloading tensorflow-1.2.1-cp33-cp33m-manylinux1_x86_64.whl (35.0MB)\r\n    100% |################################| 35.0MB 58kB/s\r\nCollecting numpy>=1.11.0 (from tensorflow)\r\n  Downloading numpy-1.12.1.zip (4.8MB)\r\n    100% |################################| 4.8MB 429kB/s\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-build-bbyh55/numpy/setup.py\", line 34, in <module>\r\n        raise RuntimeError(\"Python version 2.7 or >= 3.4 required.\")\r\n    RuntimeError: Python version 2.7 or >= 3.4 required.\r\n\r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-bbyh55/numpy/\r\n\r\n(env33)root@11bb6e68305e:/home# pip --version\r\npip 9.0.1 from /home/env33/lib/python3.3/site-packages (python 3.3)", "comments": ["Python 3.3.6 is really old. You have to update Python for NumPy to work.", "Yes we did that, i think it would be good if we can specify https://www.tensorflow.org/install/install_linux#prerequisite_python_and_pip explicitly that 3.4+ is supported, currently it says 3.3+"]}, {"number": 12308, "title": "LNK 2019 errors while building tf_label_image_example on latest github version for tensorflow on windows", "body": "Have I written custom code (as opposed to using a stock example script provided in TensorFlow): No\r\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10 64 Bit\r\nTensorFlow installed from (source or binary): Source\r\nTensorFlow version (use command below): Output copied below\r\nPython version: 3.5.3 (Anaconda)\r\nBazel version (if compiling from source): -\r\nCUDA/cuDNN version: 8.0\r\nGPU model and memory:-\r\nExact command to reproduce: Building tf_label_image_example project in Release mode\r\n== cat /etc/issue ===============================================\r\nMINGW64_NT-10.0 DESKTOP-SL66NSK 2.8.0(0.309/5/3) 2017-05-19 13:17 x86_64 Msys\r\n\r\n== are we in docker =============================================\r\nNo\r\n\r\n== compiler =====================================================\r\nbash: c++: command not found\r\n\r\n== uname -a =====================================================\r\nMINGW64_NT-10.0 DESKTOP-SL66NSK 2.8.0(0.309/5/3) 2017-05-19 13:17 x86_64 Msys\r\n\r\n== check pips ===================================================\r\nnumpy (1.12.1)\r\nnumpydoc (0.6.0)\r\n\r\n== check for virtualenv =========================================\r\nFalse\r\n\r\n== tensorflow import ============================================\r\nTraceback (most recent call last):\r\nFile \"\", line 1, in \r\nModuleNotFoundError: No module named 'tensorflow'\r\n\r\n== env ==========================================================\r\nLD_LIBRARY_PATH is unset\r\nDYLD_LIBRARY_PATH is unset\r\n\r\n== nvidia-smi ===================================================\r\nbash: nvidia-smi: command not found\r\n\r\n== cuda libs ===================================================\r\n\r\nDescribe the problem\r\n\r\nI downloaded the latest source code from github and used the windows instructions:\r\nhttps://www.tensorflow.org/install/install_windows\r\nI used Anaconda installation instructions and followed this with installation from source.\r\n\r\nI am running into LNK 2019 errors while building tf_label_image_example.\r\n\r\nSource code / logs:\r\n105> Creating library E:/AIMLDL/TensorFlow/tensorflow_8_14/tensorflow/tensorflow/contrib/cmake/build/Release/tf_label_image_example.lib and object E:/AIMLDL/TensorFlow/tensorflow_8_14/tensorflow/tensorflow/contrib/cmake/build/Release/tf_label_image_example.exp\r\n105>ensemble_optimizer_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::DecisionTreeConfig::DecisionTreeConfig(void)\" (??0DecisionTreeConfig@trees@boosted_trees@tensorflow@@qeaa@XZ) referenced in function \"public: static class tensorflow::boosted_trees::trees::DecisionTreeConfig * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VDecisionTreeConfig@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavdecisiontreeconfig@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>prediction_ops.cc.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::DecisionTreeConfig::DecisionTreeConfig(void)\" (??0DecisionTreeConfig@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::DecisionTreeConfig::DecisionTreeConfig(void)\" (??0DecisionTreeConfig@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>ensemble_optimizer_ops.cc.obj : error LNK2019: unresolved external symbol \"public: void __cdecl tensorflow::boosted_trees::trees::DecisionTreeConfig::Swap(class tensorflow::boosted_trees::trees::DecisionTreeConfig *)\" (?Swap@DecisionTreeConfig@trees@boosted_trees@tensorflow@@qeaaxpeav1234@@z) referenced in function \"public: virtual void __cdecl tensorflow::AddTreesToEnsembleOp::Compute(class tensorflow::OpKernelContext * const)\" (?Compute@AddTreesToEnsembleOp@tensorflow@@ueaaxqeavopkernelcontext@2@@z)\r\n105>ensemble_optimizer_ops.cc.obj : error LNK2019: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::DecisionTreeConfig::DecisionTreeConfig(class google::protobuf::Arena *)\" (??0DecisionTreeConfig@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z) referenced in function \"public: static class tensorflow::boosted_trees::trees::DecisionTreeConfig * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VDecisionTreeConfig@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavdecisiontreeconfig@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::DecisionTreeConfig::DecisionTreeConfig(class google::protobuf::Arena *)\" (??0DecisionTreeConfig@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z)\r\n105>ensemble_optimizer_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::DecisionTreeMetadata::DecisionTreeMetadata(void)\" (??0DecisionTreeMetadata@trees@boosted_trees@tensorflow@@qeaa@XZ) referenced in function \"public: static class tensorflow::boosted_trees::trees::DecisionTreeMetadata * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VDecisionTreeMetadata@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavdecisiontreemetadata@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::DecisionTreeMetadata::DecisionTreeMetadata(void)\" (??0DecisionTreeMetadata@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>ensemble_optimizer_ops.cc.obj : error LNK2019: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::DecisionTreeMetadata::DecisionTreeMetadata(class google::protobuf::Arena *)\" (??0DecisionTreeMetadata@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z) referenced in function \"public: static class tensorflow::boosted_trees::trees::DecisionTreeMetadata * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VDecisionTreeMetadata@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavdecisiontreemetadata@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::DecisionTreeMetadata::DecisionTreeMetadata(class google::protobuf::Arena *)\" (??0DecisionTreeMetadata@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z)\r\n105>ensemble_optimizer_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::DecisionTreeEnsembleConfig::DecisionTreeEnsembleConfig(void)\" (??0DecisionTreeEnsembleConfig@trees@boosted_trees@tensorflow@@qeaa@XZ) referenced in function \"public: static class tensorflow::boosted_trees::trees::DecisionTreeEnsembleConfig * cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VDecisionTreeEnsembleConfig@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavdecisiontreeensembleconfig@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>model_ops.cc.obj : error LNK2001: unresolved external symbol \"public: cdecl tensorflow::boosted_trees::trees::DecisionTreeEnsembleConfig::DecisionTreeEnsembleConfig(void)\" (??0DecisionTreeEnsembleConfig@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>ensemble_optimizer_ops.cc.obj : error LNK2019: unresolved external symbol \"protected: cdecl tensorflow::boosted_trees::trees::DecisionTreeEnsembleConfig::DecisionTreeEnsembleConfig(class google::protobuf::Arena *)\" (??0DecisionTreeEnsembleConfig@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z) referenced in function \"public: static class tensorflow::boosted_trees::trees::DecisionTreeEnsembleConfig * cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VDecisionTreeEnsembleConfig@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavdecisiontreeensembleconfig@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>model_ops.cc.obj : error LNK2001: unresolved external symbol \"protected: cdecl tensorflow::boosted_trees::trees::DecisionTreeEnsembleConfig::DecisionTreeEnsembleConfig(class google::protobuf::Arena *)\" (??0DecisionTreeEnsembleConfig@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z)\r\n105>prediction_ops.cc.obj : error LNK2019: unresolved external symbol \"class google::protobuf::internal::ExplicitlyConstructed tensorflow::boosted_trees::learner::AveragingConfig_default_instance\" (?AveragingConfig_default_instance@learner@boosted_trees@tensorflow@@3v?$ExplicitlyConstructed@VAveragingConfig@learner@boosted_trees@tensorflow@@@Internal@protobuf@google@@A) referenced in function \"public: cdecl tensorflow::boosted_trees::GradientTreesPredictionOp::GradientTreesPredictionOp(class tensorflow::OpKernelConstruction * const)\" (??0GradientTreesPredictionOp@boosted_trees@tensorflow@@qeaa@QEAVOpKernelConstruction@2@@z)\r\n105>prediction_ops.cc.obj : error LNK2001: unresolved external symbol \"class google::protobuf::internal::ExplicitlyConstructed tensorflow::boosted_trees::learner::LearnerConfig_default_instance\" (?LearnerConfig_default_instance@learner@boosted_trees@tensorflow@@3v?$ExplicitlyConstructed@VLearnerConfig@learner@boosted_trees@tensorflow@@@Internal@protobuf@google@@A)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"class google::protobuf::internal::ExplicitlyConstructed tensorflow::boosted_trees::learner::LearnerConfig_default_instance\" (?LearnerConfig_default_instance@learner@boosted_trees@tensorflow@@3v?$ExplicitlyConstructed@VLearnerConfig@learner@boosted_trees@tensorflow@@@Internal@protobuf@google@@A)\r\n105>prediction_ops.cc.obj : error LNK2001: unresolved external symbol \"class google::protobuf::internal::ExplicitlyConstructed tensorflow::boosted_trees::learner::LearningRateConfig_default_instance\" (?LearningRateConfig_default_instance@learner@boosted_trees@tensorflow@@3v?$ExplicitlyConstructed@VLearningRateConfig@learner@boosted_trees@tensorflow@@@Internal@protobuf@google@@A)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"class google::protobuf::internal::ExplicitlyConstructed tensorflow::boosted_trees::learner::LearningRateConfig_default_instance\" (?LearningRateConfig_default_instance@learner@boosted_trees@tensorflow@@3v?$ExplicitlyConstructed@VLearningRateConfig@learner@boosted_trees@tensorflow@@@Internal@protobuf@google@@A)\r\n105>prediction_ops.cc.obj : error LNK2019: unresolved external symbol \"class google::protobuf::internal::ExplicitlyConstructed tensorflow::boosted_trees::trees::DecisionTreeEnsembleConfig_default_instance\" (?DecisionTreeEnsembleConfig_default_instance@trees@boosted_trees@tensorflow@@3v?$ExplicitlyConstructed@VDecisionTreeEnsembleConfig@trees@boosted_trees@tensorflow@@@Internal@protobuf@google@@A) referenced in function \"private: void __cdecl tensorflow::boosted_trees::GradientTreesPredictionOp::DoCompute(class tensorflow::OpKernelContext *,class tensorflow::boosted_trees::models::DecisionTreeEnsembleResource *)\" (?DoCompute@GradientTreesPredictionOp@boosted_trees@tensorflow@@aeaaxpeavopkernelcontext@3@PEAVDecisionTreeEnsembleResource@models@23@@z)\r\n105>prediction_ops.cc.obj : error LNK2019: unresolved external symbol \"public: virtual __cdecl tensorflow::boosted_trees::trees::DecisionTreeConfig::~DecisionTreeConfig(void)\" (??1DecisionTreeConfig@trees@boosted_trees@tensorflow@@UEAA@XZ) referenced in function \"private: void __cdecl tensorflow::boosted_trees::GradientTreesPartitionExamplesOp::DoCompute(class tensorflow::OpKernelContext *,class tensorflow::boosted_trees::models::DecisionTreeEnsembleResource *)\" (?DoCompute@GradientTreesPartitionExamplesOp@boosted_trees@tensorflow@@aeaaxpeavopkernelcontext@3@PEAVDecisionTreeEnsembleResource@models@23@@z)\r\n105>prediction_ops.cc.obj : error LNK2019: unresolved external symbol \"public: virtual __cdecl tensorflow::boosted_trees::trees::DecisionTreeEnsembleConfig::~DecisionTreeEnsembleConfig(void)\" (??1DecisionTreeEnsembleConfig@trees@boosted_trees@tensorflow@@UEAA@XZ) referenced in function \"private: void __cdecl tensorflow::boosted_trees::GradientTreesPredictionOp::DoCompute(class tensorflow::OpKernelContext *,class tensorflow::boosted_trees::models::DecisionTreeEnsembleResource *)\" (?DoCompute@GradientTreesPredictionOp@boosted_trees@tensorflow@@aeaaxpeavopkernelcontext@3@PEAVDecisionTreeEnsembleResource@models@23@@z)\r\n105>prediction_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::DecisionTreeEnsembleConfig::DecisionTreeEnsembleConfig(class tensorflow::boosted_trees::trees::DecisionTreeEnsembleConfig const &)\" (??0DecisionTreeEnsembleConfig@trees@boosted_trees@tensorflow@@qeaa@AEBV0123@@z) referenced in function \"private: void __cdecl tensorflow::boosted_trees::GradientTreesPredictionOp::DoCompute(class tensorflow::OpKernelContext *,class tensorflow::boosted_trees::models::DecisionTreeEnsembleResource *)\" (?DoCompute@GradientTreesPredictionOp@boosted_trees@tensorflow@@aeaaxpeavopkernelcontext@3@PEAVDecisionTreeEnsembleResource@models@23@@z)\r\n105>prediction_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::learner::AveragingConfig::AveragingConfig(void)\" (??0AveragingConfig@learner@boosted_trees@tensorflow@@qeaa@XZ) referenced in function \"public: __cdecl tensorflow::boosted_trees::GradientTreesPredictionOp::GradientTreesPredictionOp(class tensorflow::OpKernelConstruction * const)\" (??0GradientTreesPredictionOp@boosted_trees@tensorflow@@qeaa@QEAVOpKernelConstruction@2@@z)\r\n105>prediction_ops.cc.obj : error LNK2019: unresolved external symbol \"public: virtual __cdecl tensorflow::boosted_trees::learner::AveragingConfig::~AveragingConfig(void)\" (??1AveragingConfig@learner@boosted_trees@tensorflow@@UEAA@XZ) referenced in function \"public: virtual void * __cdecl tensorflow::boosted_trees::GradientTreesPredictionOp::scalar deleting destructor'(unsigned int)\" (??_GGradientTreesPredictionOp@boosted_trees@tensorflow@@UEAAPEAXI@Z) 105>prediction_ops.cc.obj : error LNK2019: unresolved external symbol \"public: void __cdecl tensorflow::boosted_trees::learner::AveragingConfig::CopyFrom(class tensorflow::boosted_trees::learner::AveragingConfig const &)\" (?CopyFrom@AveragingConfig@learner@boosted_trees@tensorflow@@QEAAXAEBV1234@@Z) referenced in function \"public: __cdecl tensorflow::boosted_trees::GradientTreesPredictionOp::GradientTreesPredictionOp(class tensorflow::OpKernelConstruction * const)\" (??0GradientTreesPredictionOp@boosted_trees@tensorflow@@QEAA@QEAVOpKernelConstruction@2@@Z) 105>prediction_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::learner::LearningRateDropoutDrivenConfig::LearningRateDropoutDrivenConfig(void)\" (??0LearningRateDropoutDrivenConfig@learner@boosted_trees@tensorflow@@QEAA@XZ) referenced in function \"public: __cdecl tensorflow::boosted_trees::GradientTreesPredictionOp::GradientTreesPredictionOp(class tensorflow::OpKernelConstruction * const)\" (??0GradientTreesPredictionOp@boosted_trees@tensorflow@@QEAA@QEAVOpKernelConstruction@2@@Z) 105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::learner::LearningRateDropoutDrivenConfig::LearningRateDropoutDrivenConfig(void)\" (??0LearningRateDropoutDrivenConfig@learner@boosted_trees@tensorflow@@QEAA@XZ) 105>prediction_ops.cc.obj : error LNK2019: unresolved external symbol \"public: virtual __cdecl tensorflow::boosted_trees::learner::LearningRateDropoutDrivenConfig::~LearningRateDropoutDrivenConfig(void)\" (??1LearningRateDropoutDrivenConfig@learner@boosted_trees@tensorflow@@UEAA@XZ) referenced in function \"public: virtual void * __cdecl tensorflow::boosted_trees::GradientTreesPredictionOp::scalar deleting destructor'(unsigned int)\" (??_GGradientTreesPredictionOp@boosted_trees@tensorflow@@ueaapeaxi@Z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"public: virtual __cdecl tensorflow::boosted_trees::learner::LearningRateDropoutDrivenConfig::~LearningRateDropoutDrivenConfig(void)\" (??1LearningRateDropoutDrivenConfig@learner@boosted_trees@tensorflow@@UEAA@XZ)\r\n105>prediction_ops.cc.obj : error LNK2001: unresolved external symbol \"public: static class tensorflow::boosted_trees::learner::LearningRateDropoutDrivenConfig const & __cdecl tensorflow::boosted_trees::learner::LearningRateDropoutDrivenConfig::default_instance(void)\" (?default_instance@LearningRateDropoutDrivenConfig@learner@boosted_trees@tensorflow@@saaebv1234@XZ)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"public: static class tensorflow::boosted_trees::learner::LearningRateDropoutDrivenConfig const & __cdecl tensorflow::boosted_trees::learner::LearningRateDropoutDrivenConfig::default_instance(void)\" (?default_instance@LearningRateDropoutDrivenConfig@learner@boosted_trees@tensorflow@@saaebv1234@XZ)\r\n105>prediction_ops.cc.obj : error LNK2019: unresolved external symbol \"public: void __cdecl tensorflow::boosted_trees::learner::LearningRateDropoutDrivenConfig::CopyFrom(class tensorflow::boosted_trees::learner::LearningRateDropoutDrivenConfig const &)\" (?CopyFrom@LearningRateDropoutDrivenConfig@learner@boosted_trees@tensorflow@@qeaaxaebv1234@@z) referenced in function \"public: __cdecl tensorflow::boosted_trees::GradientTreesPredictionOp::GradientTreesPredictionOp(class tensorflow::OpKernelConstruction * const)\" (??0GradientTreesPredictionOp@boosted_trees@tensorflow@@qeaa@QEAVOpKernelConstruction@2@@z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"public: void __cdecl tensorflow::boosted_trees::learner::LearningRateDropoutDrivenConfig::CopyFrom(class tensorflow::boosted_trees::learner::LearningRateDropoutDrivenConfig const &)\" (?CopyFrom@LearningRateDropoutDrivenConfig@learner@boosted_trees@tensorflow@@qeaaxaebv1234@@z)\r\n105>prediction_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::learner::LearnerConfig::LearnerConfig(void)\" (??0LearnerConfig@learner@boosted_trees@tensorflow@@qeaa@XZ) referenced in function \"public: __cdecl tensorflow::boosted_trees::GradientTreesPredictionOp::GradientTreesPredictionOp(class tensorflow::OpKernelConstruction * const)\" (??0GradientTreesPredictionOp@boosted_trees@tensorflow@@qeaa@QEAVOpKernelConstruction@2@@z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::learner::LearnerConfig::LearnerConfig(void)\" (??0LearnerConfig@learner@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>prediction_ops.cc.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::learner::LearnerConfig::LearnerConfig(void)\" (??0LearnerConfig@learner@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>prediction_ops.cc.obj : error LNK2019: unresolved external symbol \"public: virtual __cdecl tensorflow::boosted_trees::learner::LearnerConfig::~LearnerConfig(void)\" (??1LearnerConfig@learner@boosted_trees@tensorflow@@UEAA@XZ) referenced in function \"public: __cdecl tensorflow::boosted_trees::GradientTreesPredictionOp::GradientTreesPredictionOp(class tensorflow::OpKernelConstruction * const)\" (??0GradientTreesPredictionOp@boosted_trees@tensorflow@@qeaa@QEAVOpKernelConstruction@2@@z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"public: virtual __cdecl tensorflow::boosted_trees::learner::LearnerConfig::~LearnerConfig(void)\" (??1LearnerConfig@learner@boosted_trees@tensorflow@@UEAA@XZ)\r\n105>prediction_ops.cc.obj : error LNK2001: unresolved external symbol \"public: virtual __cdecl tensorflow::boosted_trees::learner::LearnerConfig::~LearnerConfig(void)\" (??1LearnerConfig@learner@boosted_trees@tensorflow@@UEAA@XZ)\r\n105>quantile_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl boosted_trees::QuantileConfig::QuantileConfig(void)\" (??0QuantileConfig@boosted_trees@@qeaa@XZ) referenced in function \"void __cdecl tensorflow::anonymous namespace'::ParseConfig(class tensorflow::OpKernelConstruction * const,class std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> > const &,class std::vector<class boosted_trees::QuantileConfig,class std::allocator<class boosted_trees::QuantileConfig> > *)\" (?ParseConfig@?A0xff956ef5@tensorflow@@YAXQEAVOpKernelConstruction@2@AEBV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@PEAV?$vector@VQuantileConfig@boosted_trees@@V?$allocator@VQuantileConfig@boosted_trees@@@std@@@5@@Z) 105>quantile_ops.cc.obj : error LNK2019: unresolved external symbol \"public: virtual __cdecl boosted_trees::QuantileConfig::~QuantileConfig(void)\" (??1QuantileConfig@boosted_trees@@UEAA@XZ) referenced in function \"void __cdecl tensorflow::anonymous namespace'::ParseConfig(class tensorflow::OpKernelConstruction * const,class std::basic_string<char,struct std::char_traits,class std::allocator > const &,class std::vector<class boosted_trees::QuantileConfig,class std::allocator > *)\" (?ParseConfig@?A0xff956ef5@tensorflow@@yaxqeavopkernelconstruction@2@AEBV?$basic_string@DU?$char_traits@D@std@@v?$allocator@D@2@@std@@peav?$vector@VQuantileConfig@boosted_trees@@v?$allocator@VQuantileConfig@boosted_trees@@@std@@@5@@z)\r\n105>quantile_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl boosted_trees::QuantileConfig::QuantileConfig(class boosted_trees::QuantileConfig const &)\" (??0QuantileConfig@boosted_trees@@qeaa@AEBV01@@z) referenced in function \"class boosted_trees::QuantileConfig * __cdecl std::_Uninitialized_move_al_unchecked1<class boosted_trees::QuantileConfig *,class boosted_trees::QuantileConfig *,class std::allocator >(class boosted_trees::QuantileConfig *,class boosted_trees::QuantileConfig *,class boosted_trees::QuantileConfig *,struct std::_Wrap_alloc<class std::allocator > &,struct std::_General_ptr_iterator_tag,struct std::_Any_tag)\" (??$_Uninitialized_move_al_unchecked1@PEAVQuantileConfig@boosted_trees@@peav12@V?$allocator@VQuantileConfig@boosted_trees@@@std@@@std@@yapeavquantileconfig@boosted_trees@@peav12@00AEAU?$_Wrap_alloc@V?$allocator@VQuantileConfig@boosted_trees@@@std@@@0@U_General_ptr_iterator_tag@0@U_Any_tag@0@@z)\r\n105>quantile_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl boosted_trees::QuantileEntry::QuantileEntry(void)\" (??0QuantileEntry@boosted_trees@@qeaa@XZ) referenced in function \"public: static class boosted_trees::QuantileEntry * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VQuantileEntry@boosted_trees@@@arena@protobuf@google@@sapeavquantileentry@boosted_trees@@peav012@@z)\r\n105>quantile_ops.cc.obj : error LNK2019: unresolved external symbol \"protected: __cdecl boosted_trees::QuantileEntry::QuantileEntry(class google::protobuf::Arena *)\" (??0QuantileEntry@boosted_trees@@iEAA@PEAVArena@protobuf@google@@@z) referenced in function \"public: static class boosted_trees::QuantileEntry * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VQuantileEntry@boosted_trees@@@arena@protobuf@google@@sapeavquantileentry@boosted_trees@@peav012@@z)\r\n105>quantile_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl boosted_trees::QuantileSummaryState::QuantileSummaryState(void)\" (??0QuantileSummaryState@boosted_trees@@qeaa@XZ) referenced in function \"public: static class boosted_trees::QuantileSummaryState * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VQuantileSummaryState@boosted_trees@@@arena@protobuf@google@@sapeavquantilesummarystate@boosted_trees@@peav012@@z)\r\n105>quantile_ops.cc.obj : error LNK2019: unresolved external symbol \"protected: __cdecl boosted_trees::QuantileSummaryState::QuantileSummaryState(class google::protobuf::Arena *)\" (??0QuantileSummaryState@boosted_trees@@iEAA@PEAVArena@protobuf@google@@@z) referenced in function \"public: virtual void __cdecl tensorflow::QuantileAccumulatorFlushSummaryOp::Compute(class tensorflow::OpKernelContext *)\" (?Compute@QuantileAccumulatorFlushSummaryOp@tensorflow@@ueaaxpeavopkernelcontext@2@@z)\r\n105>quantile_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl boosted_trees::QuantileStreamState::QuantileStreamState(void)\" (??0QuantileStreamState@boosted_trees@@qeaa@XZ) referenced in function \"public: virtual void __cdecl tensorflow::QuantileAccumulatorDeserializeOp::Compute(class tensorflow::OpKernelContext *)\" (?Compute@QuantileAccumulatorDeserializeOp@tensorflow@@ueaaxpeavopkernelcontext@2@@z)\r\n105>quantile_ops.cc.obj : error LNK2019: unresolved external symbol \"public: virtual __cdecl boosted_trees::QuantileStreamState::~QuantileStreamState(void)\" (??1QuantileStreamState@boosted_trees@@UEAA@XZ) referenced in function \"public: virtual void __cdecl tensorflow::QuantileAccumulatorDeserializeOp::Compute(class tensorflow::OpKernelContext *)\" (?Compute@QuantileAccumulatorDeserializeOp@tensorflow@@ueaaxpeavopkernelcontext@2@@z)\r\n105>quantile_ops.cc.obj : error LNK2019: unresolved external symbol \"protected: __cdecl boosted_trees::QuantileStreamState::QuantileStreamState(class google::protobuf::Arena *)\" (??0QuantileStreamState@boosted_trees@@iEAA@PEAVArena@protobuf@google@@@z) referenced in function \"public: virtual void __cdecl tensorflow::QuantileAccumulatorSerializeOp::Compute(class tensorflow::OpKernelContext *)\" (?Compute@QuantileAccumulatorSerializeOp@tensorflow@@ueaaxpeavopkernelcontext@2@@z)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"bool __cdecl tensorflow::boosted_trees::learner::LearnerConfig_MultiClassStrategy_IsValid(int)\" (?LearnerConfig_MultiClassStrategy_IsValid@learner@boosted_trees@tensorflow@@YA_NH@Z) referenced in function \"public: __cdecl tensorflow::BaseBuildSplitOp::BaseBuildSplitOp(class tensorflow::OpKernelConstruction * const)\" (??0BaseBuildSplitOp@tensorflow@@qeaa@QEAVOpKernelConstruction@1@@z)\r\n105>dense-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::TreeNode::clear_node(void)\" (?clear_node@TreeNode@trees@boosted_trees@tensorflow@@aeaaxxz)\r\n105>sparse-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::TreeNode::clear_node(void)\" (?clear_node@TreeNode@trees@boosted_trees@tensorflow@@aeaaxxz)\r\n105>decision_tree.obj : error LNK2001: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::TreeNode::clear_node(void)\" (?clear_node@TreeNode@trees@boosted_trees@tensorflow@@aeaaxxz)\r\n105>split_handler_ops.cc.obj : error LNK2001: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::TreeNode::clear_node(void)\" (?clear_node@TreeNode@trees@boosted_trees@tensorflow@@aeaaxxz)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::TreeNode::clear_node(void)\" (?clear_node@TreeNode@trees@boosted_trees@tensorflow@@aeaaxxz)\r\n105>bias-feature-column-handler.obj : error LNK2001: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::TreeNode::clear_node(void)\" (?clear_node@TreeNode@trees@boosted_trees@tensorflow@@aeaaxxz)\r\n105>categorical-feature-column-handler.obj : error LNK2001: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::TreeNode::clear_node(void)\" (?clear_node@TreeNode@trees@boosted_trees@tensorflow@@aeaaxxz)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::Leaf::clear_leaf(void)\" (?clear_leaf@Leaf@trees@boosted_trees@tensorflow@@aeaaxxz) referenced in function \"public: void __cdecl tensorflow::BaseBuildSplitOp::FillLeaf(int,struct tensorflow::boosted_trees::learner::stochastic::NodeStats const &,class tensorflow::boosted_trees::trees::Leaf *)const \" (?FillLeaf@BaseBuildSplitOp@tensorflow@@qebaxhaebunodestats@stochastic@learner@boosted_trees@2@PEAVLeaf@trees@62@@z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::Leaf::clear_leaf(void)\" (?clear_leaf@Leaf@trees@boosted_trees@tensorflow@@aeaaxxz)\r\n105>bias-feature-column-handler.obj : error LNK2001: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::Leaf::clear_leaf(void)\" (?clear_leaf@Leaf@trees@boosted_trees@tensorflow@@aeaaxxz)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::Vector::Vector(void)\" (??0Vector@trees@boosted_trees@tensorflow@@qeaa@XZ) referenced in function \"public: void __cdecl tensorflow::BaseBuildSplitOp::FillLeaf(int,struct tensorflow::boosted_trees::learner::stochastic::NodeStats const &,class tensorflow::boosted_trees::trees::Leaf *)const \" (?FillLeaf@BaseBuildSplitOp@tensorflow@@qebaxhaebunodestats@stochastic@learner@boosted_trees@2@PEAVLeaf@trees@62@@z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::Vector::Vector(void)\" (??0Vector@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>bias-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::Vector::Vector(void)\" (??0Vector@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::Vector::Vector(class google::protobuf::Arena *)\" (??0Vector@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z) referenced in function \"public: void __cdecl tensorflow::BaseBuildSplitOp::FillLeaf(int,struct tensorflow::boosted_trees::learner::stochastic::NodeStats const &,class tensorflow::boosted_trees::trees::Leaf *)const \" (?FillLeaf@BaseBuildSplitOp@tensorflow@@qebaxhaebunodestats@stochastic@learner@boosted_trees@2@PEAVLeaf@trees@62@@z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::Vector::Vector(class google::protobuf::Arena *)\" (??0Vector@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z)\r\n105>bias-feature-column-handler.obj : error LNK2001: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::Vector::Vector(class google::protobuf::Arena *)\" (??0Vector@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::SparseVector::SparseVector(void)\" (??0SparseVector@trees@boosted_trees@tensorflow@@qeaa@XZ) referenced in function \"public: static class tensorflow::boosted_trees::trees::SparseVector * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VSparseVector@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavsparsevector@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::SparseVector::SparseVector(void)\" (??0SparseVector@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>bias-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::SparseVector::SparseVector(void)\" (??0SparseVector@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::SparseVector::SparseVector(class google::protobuf::Arena *)\" (??0SparseVector@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z) referenced in function \"public: static class tensorflow::boosted_trees::trees::SparseVector * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VSparseVector@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavsparsevector@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::SparseVector::SparseVector(class google::protobuf::Arena *)\" (??0SparseVector@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z)\r\n105>bias-feature-column-handler.obj : error LNK2001: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::SparseVector::SparseVector(class google::protobuf::Arena *)\" (??0SparseVector@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::DenseFloatBinarySplit::DenseFloatBinarySplit(void)\" (??0DenseFloatBinarySplit@trees@boosted_trees@tensorflow@@qeaa@XZ) referenced in function \"public: static class tensorflow::boosted_trees::trees::DenseFloatBinarySplit * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VDenseFloatBinarySplit@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavdensefloatbinarysplit@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>dense-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::DenseFloatBinarySplit::DenseFloatBinarySplit(void)\" (??0DenseFloatBinarySplit@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>decision_tree.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::DenseFloatBinarySplit::DenseFloatBinarySplit(void)\" (??0DenseFloatBinarySplit@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::DenseFloatBinarySplit::DenseFloatBinarySplit(class google::protobuf::Arena *)\" (??0DenseFloatBinarySplit@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z) referenced in function \"public: static class tensorflow::boosted_trees::trees::DenseFloatBinarySplit * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VDenseFloatBinarySplit@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavdensefloatbinarysplit@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>dense-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::DenseFloatBinarySplit::DenseFloatBinarySplit(class google::protobuf::Arena *)\" (??0DenseFloatBinarySplit@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z)\r\n105>decision_tree.obj : error LNK2001: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::DenseFloatBinarySplit::DenseFloatBinarySplit(class google::protobuf::Arena *)\" (??0DenseFloatBinarySplit@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultLeft::SparseFloatBinarySplitDefaultLeft(void)\" (??0SparseFloatBinarySplitDefaultLeft@trees@boosted_trees@tensorflow@@qeaa@XZ) referenced in function \"public: static class tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultLeft * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VSparseFloatBinarySplitDefaultLeft@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavsparsefloatbinarysplitdefaultleft@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>sparse-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultLeft::SparseFloatBinarySplitDefaultLeft(void)\" (??0SparseFloatBinarySplitDefaultLeft@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>decision_tree.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultLeft::SparseFloatBinarySplitDefaultLeft(void)\" (??0SparseFloatBinarySplitDefaultLeft@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultLeft::SparseFloatBinarySplitDefaultLeft(class google::protobuf::Arena *)\" (??0SparseFloatBinarySplitDefaultLeft@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z) referenced in function \"public: static class tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultLeft * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VSparseFloatBinarySplitDefaultLeft@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavsparsefloatbinarysplitdefaultleft@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>sparse-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultLeft::SparseFloatBinarySplitDefaultLeft(class google::protobuf::Arena *)\" (??0SparseFloatBinarySplitDefaultLeft@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z)\r\n105>decision_tree.obj : error LNK2001: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultLeft::SparseFloatBinarySplitDefaultLeft(class google::protobuf::Arena *)\" (??0SparseFloatBinarySplitDefaultLeft@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultLeft::_slow_mutable_split(void)\" (?_slow_mutable_split@SparseFloatBinarySplitDefaultLeft@trees@boosted_trees@tensorflow@@aeaaxxz) referenced in function \"public: virtual void __cdecl tensorflow::BuildSparseInequalitySplitsOp::Compute(class tensorflow::OpKernelContext * const)\" (?Compute@BuildSparseInequalitySplitsOp@tensorflow@@ueaaxqeavopkernelcontext@2@@z)\r\n105>sparse-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultLeft::_slow_mutable_split(void)\" (?_slow_mutable_split@SparseFloatBinarySplitDefaultLeft@trees@boosted_trees@tensorflow@@aeaaxxz)\r\n105>decision_tree.obj : error LNK2001: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultLeft::_slow_mutable_split(void)\" (?_slow_mutable_split@SparseFloatBinarySplitDefaultLeft@trees@boosted_trees@tensorflow@@aeaaxxz)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultRight::SparseFloatBinarySplitDefaultRight(void)\" (??0SparseFloatBinarySplitDefaultRight@trees@boosted_trees@tensorflow@@qeaa@XZ) referenced in function \"public: static class tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultRight * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VSparseFloatBinarySplitDefaultRight@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavsparsefloatbinarysplitdefaultright@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>sparse-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultRight::SparseFloatBinarySplitDefaultRight(void)\" (??0SparseFloatBinarySplitDefaultRight@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>decision_tree.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultRight::SparseFloatBinarySplitDefaultRight(void)\" (??0SparseFloatBinarySplitDefaultRight@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultRight::SparseFloatBinarySplitDefaultRight(class google::protobuf::Arena *)\" (??0SparseFloatBinarySplitDefaultRight@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z) referenced in function \"public: static class tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultRight * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VSparseFloatBinarySplitDefaultRight@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavsparsefloatbinarysplitdefaultright@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>sparse-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultRight::SparseFloatBinarySplitDefaultRight(class google::protobuf::Arena *)\" (??0SparseFloatBinarySplitDefaultRight@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z)\r\n105>decision_tree.obj : error LNK2001: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultRight::SparseFloatBinarySplitDefaultRight(class google::protobuf::Arena *)\" (??0SparseFloatBinarySplitDefaultRight@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultRight::_slow_mutable_split(void)\" (?_slow_mutable_split@SparseFloatBinarySplitDefaultRight@trees@boosted_trees@tensorflow@@aeaaxxz) referenced in function \"public: virtual void __cdecl tensorflow::BuildSparseInequalitySplitsOp::Compute(class tensorflow::OpKernelContext * const)\" (?Compute@BuildSparseInequalitySplitsOp@tensorflow@@ueaaxqeavopkernelcontext@2@@z)\r\n105>sparse-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultRight::_slow_mutable_split(void)\" (?_slow_mutable_split@SparseFloatBinarySplitDefaultRight@trees@boosted_trees@tensorflow@@aeaaxxz)\r\n105>decision_tree.obj : error LNK2001: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultRight::_slow_mutable_split(void)\" (?_slow_mutable_split@SparseFloatBinarySplitDefaultRight@trees@boosted_trees@tensorflow@@aeaaxxz)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::CategoricalIdBinarySplit::CategoricalIdBinarySplit(void)\" (??0CategoricalIdBinarySplit@trees@boosted_trees@tensorflow@@qeaa@XZ) referenced in function \"public: static class tensorflow::boosted_trees::trees::CategoricalIdBinarySplit * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VCategoricalIdBinarySplit@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavcategoricalidbinarysplit@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>categorical-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::CategoricalIdBinarySplit::CategoricalIdBinarySplit(void)\" (??0CategoricalIdBinarySplit@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>decision_tree.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::CategoricalIdBinarySplit::CategoricalIdBinarySplit(void)\" (??0CategoricalIdBinarySplit@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::CategoricalIdBinarySplit::CategoricalIdBinarySplit(class google::protobuf::Arena *)\" (??0CategoricalIdBinarySplit@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z) referenced in function \"public: static class tensorflow::boosted_trees::trees::CategoricalIdBinarySplit * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VCategoricalIdBinarySplit@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavcategoricalidbinarysplit@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>categorical-feature-column-handler.obj : error LNK2001: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::CategoricalIdBinarySplit::CategoricalIdBinarySplit(class google::protobuf::Arena *)\" (??0CategoricalIdBinarySplit@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z)\r\n105>decision_tree.obj : error LNK2001: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::CategoricalIdBinarySplit::CategoricalIdBinarySplit(class google::protobuf::Arena *)\" (??0CategoricalIdBinarySplit@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::learner::SplitInfo::SplitInfo(void)\" (??0SplitInfo@learner@boosted_trees@tensorflow@@qeaa@XZ) referenced in function \"public: virtual void __cdecl tensorflow::BuildSparseInequalitySplitsOp::Compute(class tensorflow::OpKernelContext * const)\" (?Compute@BuildSparseInequalitySplitsOp@tensorflow@@ueaaxqeavopkernelcontext@2@@z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::learner::SplitInfo::SplitInfo(void)\" (??0SplitInfo@learner@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"public: virtual __cdecl tensorflow::boosted_trees::learner::SplitInfo::~SplitInfo(void)\" (??1SplitInfo@learner@boosted_trees@tensorflow@@UEAA@XZ) referenced in function \"public: virtual void __cdecl tensorflow::BuildSparseInequalitySplitsOp::Compute(class tensorflow::OpKernelContext * const)\" (?Compute@BuildSparseInequalitySplitsOp@tensorflow@@ueaaxqeavopkernelcontext@2@@z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"public: virtual __cdecl tensorflow::boosted_trees::learner::SplitInfo::~SplitInfo(void)\" (??1SplitInfo@learner@boosted_trees@tensorflow@@UEAA@XZ)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::learner::SplitInfo::_slow_mutable_split_node(void)\" (?_slow_mutable_split_node@SplitInfo@learner@boosted_trees@tensorflow@@aeaaxxz) referenced in function \"public: virtual void __cdecl tensorflow::BuildSparseInequalitySplitsOp::Compute(class tensorflow::OpKernelContext * const)\" (?Compute@BuildSparseInequalitySplitsOp@tensorflow@@ueaaxqeavopkernelcontext@2@@z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::learner::SplitInfo::_slow_mutable_split_node(void)\" (?_slow_mutable_split_node@SplitInfo@learner@boosted_trees@tensorflow@@aeaaxxz)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::learner::SplitInfo::_slow_mutable_left_child(void)\" (?_slow_mutable_left_child@SplitInfo@learner@boosted_trees@tensorflow@@aeaaxxz) referenced in function \"public: virtual void __cdecl tensorflow::BuildSparseInequalitySplitsOp::Compute(class tensorflow::OpKernelContext * const)\" (?Compute@BuildSparseInequalitySplitsOp@tensorflow@@ueaaxqeavopkernelcontext@2@@z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::learner::SplitInfo::_slow_mutable_left_child(void)\" (?_slow_mutable_left_child@SplitInfo@learner@boosted_trees@tensorflow@@aeaaxxz)\r\n105>split_handler_ops.cc.obj : error LNK2019: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::learner::SplitInfo::_slow_mutable_right_child(void)\" (?_slow_mutable_right_child@SplitInfo@learner@boosted_trees@tensorflow@@aeaaxxz) referenced in function \"public: virtual void __cdecl tensorflow::BuildSparseInequalitySplitsOp::Compute(class tensorflow::OpKernelContext * const)\" (?Compute@BuildSparseInequalitySplitsOp@tensorflow@@ueaaxqeavopkernelcontext@2@@z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"private: void cdecl tensorflow::boosted_trees::learner::SplitInfo::slow_mutable_right_child(void)\" (?slow_mutable_right_child@SplitInfo@learner@boosted_trees@tensorflow@@aeaaxxz)\r\n105>training_ops.cc.obj : error LNK2019: unresolved external symbol \"class google::protobuf::internal::ExplicitlyConstructed tensorflow::boosted_trees::trees::GrowingMetadata_default_instance\" (?GrowingMetadata_default_instance@trees@boosted_trees@tensorflow@@3v?$ExplicitlyConstructed@VGrowingMetadata@trees@boosted_trees@tensorflow@@@Internal@protobuf@google@@A) referenced in function \"public: virtual void cdecl tensorflow::boosted_trees::GrowTreeEnsembleOp::Compute(class tensorflow::OpKernelContext * const)\" (?Compute@GrowTreeEnsembleOp@boosted_trees@tensorflow@@ueaaxqeavopkernelcontext@3@@z)\r\n105>training_ops.cc.obj : error LNK2019: unresolved external symbol \"class google::protobuf::internal::ExplicitlyConstructed tensorflow::boosted_trees::trees::TreeNodeMetadata_default_instance\" (?TreeNodeMetadata_default_instance@trees@boosted_trees@tensorflow@@3v?$ExplicitlyConstructed@VTreeNodeMetadata@trees@boosted_trees@tensorflow@@@Internal@protobuf@google@@A) referenced in function \"private: void cdecl tensorflow::boosted_trees::GrowTreeEnsembleOp::PruneTree(class tensorflow::boosted_trees::trees::DecisionTreeConfig *)\" (?PruneTree@GrowTreeEnsembleOp@boosted_trees@tensorflow@@aeaaxpeavdecisiontreeconfig@trees@23@@z)\r\n105>training_ops.cc.obj : error LNK2019: unresolved external symbol \"class google::protobuf::internal::ExplicitlyConstructed tensorflow::boosted_trees::learner::TreeConstraintsConfig_default_instance\" (?TreeConstraintsConfig_default_instance@learner@boosted_trees@tensorflow@@3v?$ExplicitlyConstructed@VTreeConstraintsConfig@learner@boosted_trees@tensorflow@@@Internal@protobuf@google@@A) referenced in function \"private: struct std::pair<class tensorflow::boosted_trees::trees::DecisionTreeConfig *,class tensorflow::boosted_trees::trees::DecisionTreeMetadata *> cdecl tensorflow::boosted_trees::GrowTreeEnsembleOp::UpdateAndRetrieveGrowableTree(class tensorflow::boosted_trees::models::DecisionTreeEnsembleResource *,float,unsigned int64)\" (?UpdateAndRetrieveGrowableTree@GrowTreeEnsembleOp@boosted_trees@tensorflow@@Aeaa?AU?$pair@PEAVDecisionTreeConfig@trees@boosted_trees@tensorflow@@peavdecisiontreemetadata@234@@std@@peavdecisiontreeensembleresource@models@23@M_K@Z)\r\n105>categorical-feature-column-handler.obj : error LNK2001: unresolved external symbol \"class google::protobuf::internal::ExplicitlyConstructed tensorflow::boosted_trees::learner::TreeConstraintsConfig_default_instance\" (?TreeConstraintsConfig_default_instance@learner@boosted_trees@tensorflow@@3v?$ExplicitlyConstructed@VTreeConstraintsConfig@learner@boosted_trees@tensorflow@@@Internal@protobuf@google@@A)\r\n105>dense-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"class google::protobuf::internal::ExplicitlyConstructed tensorflow::boosted_trees::learner::TreeConstraintsConfig_default_instance\" (?TreeConstraintsConfig_default_instance@learner@boosted_trees@tensorflow@@3v?$ExplicitlyConstructed@VTreeConstraintsConfig@learner@boosted_trees@tensorflow@@@Internal@protobuf@google@@A)\r\n105>sparse-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"class google::protobuf::internal::ExplicitlyConstructed tensorflow::boosted_trees::learner::TreeConstraintsConfig_default_instance\" (?TreeConstraintsConfig_default_instance@learner@boosted_trees@tensorflow@@3v?$ExplicitlyConstructed@VTreeConstraintsConfig@learner@boosted_trees@tensorflow@@@Internal@protobuf@google@@A)\r\n105>sparse-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::TreeNode::TreeNode(void)\" (??0TreeNode@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::TreeNode::TreeNode(void)\" (??0TreeNode@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>bias-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::TreeNode::TreeNode(void)\" (??0TreeNode@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>categorical-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::TreeNode::TreeNode(void)\" (??0TreeNode@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>dense-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::TreeNode::TreeNode(void)\" (??0TreeNode@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>sparse-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::TreeNode::TreeNode(class tensorflow::boosted_trees::trees::TreeNode const &)\" (??0TreeNode@trees@boosted_trees@tensorflow@@qeaa@AEBV0123@@z)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::TreeNode::TreeNode(class tensorflow::boosted_trees::trees::TreeNode const &)\" (??0TreeNode@trees@boosted_trees@tensorflow@@qeaa@AEBV0123@@z)\r\n105>bias-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::TreeNode::TreeNode(class tensorflow::boosted_trees::trees::TreeNode const &)\" (??0TreeNode@trees@boosted_trees@tensorflow@@qeaa@AEBV0123@@z)\r\n105>categorical-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::TreeNode::TreeNode(class tensorflow::boosted_trees::trees::TreeNode const &)\" (??0TreeNode@trees@boosted_trees@tensorflow@@qeaa@AEBV0123@@z)\r\n105>dense-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::TreeNode::TreeNode(class tensorflow::boosted_trees::trees::TreeNode const &)\" (??0TreeNode@trees@boosted_trees@tensorflow@@qeaa@AEBV0123@@z)\r\n105>training_ops.cc.obj : error LNK2019: unresolved external symbol \"public: void __cdecl tensorflow::boosted_trees::trees::TreeNode::CopyFrom(class tensorflow::boosted_trees::trees::TreeNode const &)\" (?CopyFrom@TreeNode@trees@boosted_trees@tensorflow@@qeaaxaebv1234@@z) referenced in function \"private: void __cdecl tensorflow::boosted_trees::GrowTreeEnsembleOp::PruneTree(class tensorflow::boosted_trees::trees::DecisionTreeConfig *)\" (?PruneTree@GrowTreeEnsembleOp@boosted_trees@tensorflow@@aeaaxpeavdecisiontreeconfig@trees@23@@z)\r\n105>categorical-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: void __cdecl tensorflow::boosted_trees::trees::TreeNode::CopyFrom(class tensorflow::boosted_trees::trees::TreeNode const &)\" (?CopyFrom@TreeNode@trees@boosted_trees@tensorflow@@qeaaxaebv1234@@z)\r\n105>dense-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: void __cdecl tensorflow::boosted_trees::trees::TreeNode::CopyFrom(class tensorflow::boosted_trees::trees::TreeNode const &)\" (?CopyFrom@TreeNode@trees@boosted_trees@tensorflow@@qeaaxaebv1234@@z)\r\n105>sparse-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: void __cdecl tensorflow::boosted_trees::trees::TreeNode::CopyFrom(class tensorflow::boosted_trees::trees::TreeNode const &)\" (?CopyFrom@TreeNode@trees@boosted_trees@tensorflow@@qeaaxaebv1234@@z)\r\n105>training_ops.cc.obj : error LNK2019: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::TreeNode::TreeNode(class google::protobuf::Arena *)\" (??0TreeNode@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z) referenced in function \"public: static class tensorflow::boosted_trees::trees::TreeNode * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VTreeNode@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavtreenode@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>training_ops.cc.obj : error LNK2019: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::TreeNode::_slow_mutable_node_metadata(void)\" (?_slow_mutable_node_metadata@TreeNode@trees@boosted_trees@tensorflow@@aeaaxxz) referenced in function \"void __cdecl tensorflow::boosted_trees::anonymous namespace'::RecursivePruneTree(unsigned __int64,class std::vector<class tensorflow::boosted_trees::trees::TreeNode,class std::allocator<class tensorflow::boosted_trees::trees::TreeNode> > *)\" (?RecursivePruneTree@?A0xaf924787@boosted_trees@tensorflow@@YAX_KPEAV?$vector@VTreeNode@trees@boosted_trees@tensorflow@@V?$allocator@VTreeNode@trees@boosted_trees@tensorflow@@@std@@@std@@@Z) 105>training_ops.cc.obj : error LNK2019: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::TreeNodeMetadata::_slow_mutable_original_leaf(void)\" (?_slow_mutable_original_leaf@TreeNodeMetadata@trees@boosted_trees@tensorflow@@AEAAXXZ) referenced in function \"void __cdecl tensorflow::boosted_trees::anonymous namespace'::RecursivePruneTree(unsigned __int64,class std::vector<class tensorflow::boosted_trees::trees::TreeNode,class std::allocator > *)\" (?RecursivePruneTree@?A0xaf924787@boosted_trees@tensorflow@@YAX_KPEAV?$vector@VTreeNode@trees@boosted_trees@tensorflow@@v?$allocator@VTreeNode@trees@boosted_trees@tensorflow@@@std@@@std@@@z)\r\n105>training_ops.cc.obj : error LNK2019: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::Leaf::Leaf(void)\" (??0Leaf@trees@boosted_trees@tensorflow@@qeaa@XZ) referenced in function \"public: static class tensorflow::boosted_trees::trees::Leaf * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VLeaf@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavleaf@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>bias-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::Leaf::Leaf(void)\" (??0Leaf@trees@boosted_trees@tensorflow@@qeaa@XZ)\r\n105>training_ops.cc.obj : error LNK2019: unresolved external symbol \"public: static class tensorflow::boosted_trees::trees::Leaf const & __cdecl tensorflow::boosted_trees::trees::Leaf::default_instance(void)\" (?default_instance@Leaf@trees@boosted_trees@tensorflow@@saaebv1234@XZ) referenced in function \"private: void __cdecl tensorflow::boosted_trees::GrowTreeEnsembleOp::SplitTreeNode(int,struct tensorflow::boosted_trees::anonymous namespace'::SplitCandidate *,class tensorflow::boosted_trees::trees::DecisionTreeConfig *)\" (?SplitTreeNode@GrowTreeEnsembleOp@boosted_trees@tensorflow@@AEAAXHPEAUSplitCandidate@?A0xaf924787@23@PEAVDecisionTreeConfig@trees@23@@Z) 105>multiple_additive_trees.obj : error LNK2001: unresolved external symbol \"public: static class tensorflow::boosted_trees::trees::Leaf const & __cdecl tensorflow::boosted_trees::trees::Leaf::default_instance(void)\" (?default_instance@Leaf@trees@boosted_trees@tensorflow@@SAAEBV1234@XZ) 105>training_ops.cc.obj : error LNK2019: unresolved external symbol \"public: void __cdecl tensorflow::boosted_trees::trees::Leaf::CopyFrom(class tensorflow::boosted_trees::trees::Leaf const &)\" (?CopyFrom@Leaf@trees@boosted_trees@tensorflow@@QEAAXAEBV1234@@Z) referenced in function \"void __cdecl tensorflow::boosted_trees::anonymous namespace'::RecursivePruneTree(unsigned __int64,class std::vector<class tensorflow::boosted_trees::trees::TreeNode,class std::allocator > *)\" (?RecursivePruneTree@?A0xaf924787@boosted_trees@tensorflow@@YAX_KPEAV?$vector@VTreeNode@trees@boosted_trees@tensorflow@@v?$allocator@VTreeNode@trees@boosted_trees@tensorflow@@@std@@@std@@@z)\r\n105>training_ops.cc.obj : error LNK2019: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::Leaf::Leaf(class google::protobuf::Arena *)\" (??0Leaf@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z) referenced in function \"public: static class tensorflow::boosted_trees::trees::Leaf * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VLeaf@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavleaf@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>bias-feature-column-handler.obj : error LNK2001: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::Leaf::Leaf(class google::protobuf::Arena *)\" (??0Leaf@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z)\r\n105>training_ops.cc.obj : error LNK2019: unresolved external symbol \"public: static class tensorflow::boosted_trees::trees::Vector const & __cdecl tensorflow::boosted_trees::trees::Vector::default_instance(void)\" (?default_instance@Vector@trees@boosted_trees@tensorflow@@saaebv1234@XZ) referenced in function \"public: virtual void __cdecl tensorflow::boosted_trees::CenterTreeEnsembleBiasOp::Compute(class tensorflow::OpKernelContext * const)\" (?Compute@CenterTreeEnsembleBiasOp@boosted_trees@tensorflow@@ueaaxqeavopkernelcontext@3@@z)\r\n105>multiple_additive_trees.obj : error LNK2001: unresolved external symbol \"public: static class tensorflow::boosted_trees::trees::Vector const & __cdecl tensorflow::boosted_trees::trees::Vector::default_instance(void)\" (?default_instance@Vector@trees@boosted_trees@tensorflow@@saaebv1234@XZ)\r\n105>training_ops.cc.obj : error LNK2001: unresolved external symbol \"public: static class tensorflow::boosted_trees::trees::SparseVector const & __cdecl tensorflow::boosted_trees::trees::SparseVector::default_instance(void)\" (?default_instance@SparseVector@trees@boosted_trees@tensorflow@@saaebv1234@XZ)\r\n105>multiple_additive_trees.obj : error LNK2001: unresolved external symbol \"public: static class tensorflow::boosted_trees::trees::SparseVector const & __cdecl tensorflow::boosted_trees::trees::SparseVector::default_instance(void)\" (?default_instance@SparseVector@trees@boosted_trees@tensorflow@@saaebv1234@XZ)\r\n105>training_ops.cc.obj : error LNK2019: unresolved external symbol \"private: void __cdecl tensorflow::boosted_trees::trees::DecisionTreeEnsembleConfig::_slow_mutable_growing_metadata(void)\" (?_slow_mutable_growing_metadata@DecisionTreeEnsembleConfig@trees@boosted_trees@tensorflow@@aeaaxxz) referenced in function \"private: class tensorflow::boosted_trees::trees::Leaf * __cdecl tensorflow::boosted_trees::CenterTreeEnsembleBiasOp::RetrieveBias(class tensorflow::boosted_trees::models::DecisionTreeEnsembleResource *)\" (?RetrieveBias@CenterTreeEnsembleBiasOp@boosted_trees@tensorflow@@aeaapeavleaf@trees@23@PEAVDecisionTreeEnsembleResource@models@23@@z)\r\n105>training_ops.cc.obj : error LNK2019: unresolved external symbol \"public: _cdecl tensorflow::boosted_trees::learner::SplitInfo::SplitInfo(class tensorflow::boosted_trees::learner::SplitInfo const &)\" (??0SplitInfo@learner@boosted_trees@tensorflow@@qeaa@AEBV0123@@z) referenced in function \"public: struct std::Tree_node<struct std::pair<int const ,struct tensorflow::boosted_trees::anonymous namespace'::SplitCandidate>,void *> * __cdecl std::_Tree_comp_alloc<class std::_Tmap_traits<int,struct tensorflow::boosted_trees::anonymous namespace'::SplitCandidate,struct std::less,class std::allocator<struct std::pair<int const ,struct tensorflow::boosted_trees::anonymous namespace'::SplitCandidate> >,0> >::_Buynode<struct std::pair<int,struct tensorflow::boosted_trees::anonymous namespace'::SplitCandidate> >(struct std::pair<int,struct tensorflow::boosted_trees::anonymous namespace'::SplitCandidate> &&)\" (??$_Buynode@U?$pair@HUSplitCandidate@?A0xaf924787@boosted_trees@tensorflow@@@std@@@?$_Tree_comp_alloc@V?$_Tmap_traits@HUSplitCandidate@?A0xaf924787@boosted_trees@tensorflow@@U?$less@H@std@@V?$allocator@U?$pair@$$CBHUSplitCandidate@?A0xaf924787@boosted_trees@tensorflow@@@std@@@6@$0A@@std@@@std@@QEAAPEAU?$_Tree_node@U?$pair@$$CBHUSplitCandidate@?A0xaf924787@boosted_trees@tensorflow@@@std@@PEAX@1@$$QEAU?$pair@HUSplitCandidate@?A0xaf924787@boosted_trees@tensorflow@@@1@@Z) 105>training_ops.cc.obj : error LNK2019: unresolved external symbol \"public: void __cdecl tensorflow::boosted_trees::learner::SplitInfo::CopyFrom(class tensorflow::boosted_trees::learner::SplitInfo const &)\" (?CopyFrom@SplitInfo@learner@boosted_trees@tensorflow@@QEAAXAEBV1234@@Z) referenced in function \"void __cdecl tensorflow::boosted_trees::anonymous namespace'::UpdateBestSplit(class tensorflow::boosted_trees::learner::LearnerConfig const &,int,struct tensorflow::boosted_trees::A0xaf924787::SplitCandidate *,class std::map<int,struct tensorflow::boosted_trees::anonymous namespace'::SplitCandidate,struct std::less<int>,class std::allocator<struct std::pair<int const ,struct tensorflow::boosted_trees::anonymous namespace'::SplitCandidate> > > *)\" (?UpdateBestSplit@?A0xaf924787@boosted_trees@tensorflow@@yaxaebvlearnerconfig@learner@23@HPEAUSplitCandidate@123@PEAV?$map@HUSplitCandidate@?A0xaf924787@boosted_trees@tensorflow@@U?$less@H@std@@v?$allocator@U?$pair@$$CBHUSplitCandidate@?A0xaf924787@boosted_trees@tensorflow@@@std@@@6@@std@@@z)\r\n105>training_ops.cc.obj : error LNK2019: unresolved external symbol \"class google::protobuf::internal::ExplicitlyConstructed tensorflow::boosted_trees::trees::TreeNode_default_instance\" (?TreeNode_default_instance@trees@boosted_trees@tensorflow@@3v?$ExplicitlyConstructed@VTreeNode@trees@boosted_trees@tensorflow@@@Internal@protobuf@google@@A) referenced in function \"private: void __cdecl tensorflow::boosted_trees::GrowTreeEnsembleOp::SplitTreeNode(int,struct tensorflow::boosted_trees::`anonymous namespace'::SplitCandidate *,class tensorflow::boosted_trees::trees::DecisionTreeConfig *)\" (?SplitTreeNode@GrowTreeEnsembleOp@boosted_trees@tensorflow@@aeaaxhpeausplitcandidate@?A0xaf924787@23@PEAVDecisionTreeConfig@trees@23@@z)\r\n105>bias-feature-column-handler.obj : error LNK2019: unresolved external symbol \"public: virtual __cdecl tensorflow::boosted_trees::trees::TreeNode::~TreeNode(void)\" (??1TreeNode@trees@boosted_trees@tensorflow@@UEAA@XZ) referenced in function \"void __cdecl std::_Destroy_range<class std::allocator,struct tensorflow::boosted_trees::learner::stochastic::FeatureSplitCandidate *>(struct tensorflow::boosted_trees::learner::stochastic::FeatureSplitCandidate *,struct tensorflow::boosted_trees::learner::stochastic::FeatureSplitCandidate *,struct std::_Wrap_alloc<class std::allocator > &)\" (??$_Destroy_range@V?$allocator@UFeatureSplitCandidate@stochastic@learner@boosted_trees@tensorflow@@@std@@peaufeaturesplitcandidate@stochastic@learner@boosted_trees@tensorflow@@@std@@yaxpeaufeaturesplitcandidate@stochastic@learner@boosted_trees@tensorflow@@0aeau?$_Wrap_alloc@V?$allocator@UFeatureSplitCandidate@stochastic@learner@boosted_trees@tensorflow@@@std@@@0@@z)\r\n105>categorical-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: virtual __cdecl tensorflow::boosted_trees::trees::TreeNode::~TreeNode(void)\" (??1TreeNode@trees@boosted_trees@tensorflow@@UEAA@XZ)\r\n105>dense-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: virtual __cdecl tensorflow::boosted_trees::trees::TreeNode::~TreeNode(void)\" (??1TreeNode@trees@boosted_trees@tensorflow@@UEAA@XZ)\r\n105>sparse-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"public: virtual __cdecl tensorflow::boosted_trees::trees::TreeNode::~TreeNode(void)\" (??1TreeNode@trees@boosted_trees@tensorflow@@UEAA@XZ)\r\n105>bias-feature-column-handler.obj : error LNK2019: unresolved external symbol \"public: virtual void __cdecl tensorflow::boosted_trees::trees::TreeNode::Clear(void)\" (?Clear@TreeNode@trees@boosted_trees@tensorflow@@ueaaxxz) referenced in function \"public: virtual void __cdecl tensorflow::boosted_trees::learner::stochastic::BiasFeatureColumnHandler::GenerateFeatureSplitCandidates(class tensorflow::boosted_trees::learner::LearnerConfig const &,class std::vector<int,class std::allocator > const &,class std::vector<struct tensorflow::boosted_trees::learner::stochastic::NodeStats,class std::allocator > const &,class tensorflow::boosted_trees::learner::FeatureStatsAccumulator<struct tensorflow::boosted_trees::learner::stochastic::GradientStats,struct tensorflow::boosted_trees::learner::stochastic::GradientStatsAccumulator> const &,class std::vector<struct tensorflow::boosted_trees::learner::stochastic::FeatureSplitCandidate,class std::allocator > *)const \" (?GenerateFeatureSplitCandidates@BiasFeatureColumnHandler@stochastic@learner@boosted_trees@tensorflow@@uebaxaebvlearnerconfig@345@AEBV?$vector@HV?$allocator@H@std@@@std@@aebv?$vector@UNodeStats@stochastic@learner@boosted_trees@tensorflow@@v?$allocator@UNodeStats@stochastic@learner@boosted_trees@tensorflow@@@std@@@8@AEBV?$FeatureStatsAccumulator@UGradientStats@stochastic@learner@boosted_trees@tensorflow@@ugradientstatsaccumulator@2345@@345@PEAV?$vector@UFeatureSplitCandidate@stochastic@learner@boosted_trees@tensorflow@@v?$allocator@UFeatureSplitCandidate@stochastic@learner@boosted_trees@tensorflow@@@std@@@8@@z)\r\n105>categorical-feature-column-handler.obj : error LNK2019: unresolved external symbol \"public: static class tensorflow::boosted_trees::trees::CategoricalIdBinarySplit const & __cdecl tensorflow::boosted_trees::trees::CategoricalIdBinarySplit::default_instance(void)\" (?default_instance@CategoricalIdBinarySplit@trees@boosted_trees@tensorflow@@saaebv1234@XZ) referenced in function \"public: virtual void cdecl tensorflow::boosted_trees::learner::stochastic::CategoricalFeatureColumnHandler::GenerateFeatureSplitCandidates(class tensorflow::boosted_trees::learner::LearnerConfig const &,class std::vector<int,class std::allocator > const &,class std::vector<struct tensorflow::boosted_trees::learner::stochastic::NodeStats,class std::allocator > const &,class tensorflow::boosted_trees::learner::FeatureStatsAccumulator<struct tensorflow::boosted_trees::learner::stochastic::GradientStats,struct tensorflow::boosted_trees::learner::stochastic::GradientStatsAccumulator> const &,class std::vector<struct tensorflow::boosted_trees::learner::stochastic::FeatureSplitCandidate,class std::allocator > *)const \" (?GenerateFeatureSplitCandidates@CategoricalFeatureColumnHandler@stochastic@learner@boosted_trees@tensorflow@@uebaxaebvlearnerconfig@345@AEBV?$vector@HV?$allocator@H@std@@@std@@aebv?$vector@UNodeStats@stochastic@learner@boosted_trees@tensorflow@@v?$allocator@UNodeStats@stochastic@learner@boosted_trees@tensorflow@@@std@@@8@AEBV?$FeatureStatsAccumulator@UGradientStats@stochastic@learner@boosted_trees@tensorflow@@ugradientstatsaccumulator@2345@@345@PEAV?$vector@UFeatureSplitCandidate@stochastic@learner@boosted_trees@tensorflow@@v?$allocator@UFeatureSplitCandidate@stochastic@learner@boosted_trees@tensorflow@@@std@@@8@@z)\r\n105>decision_tree.obj : error LNK2001: unresolved external symbol \"public: static class tensorflow::boosted_trees::trees::CategoricalIdBinarySplit const & cdecl tensorflow::boosted_trees::trees::CategoricalIdBinarySplit::default_instance(void)\" (?default_instance@CategoricalIdBinarySplit@trees@boosted_trees@tensorflow@@saaebv1234@XZ)\r\n105>categorical-feature-column-handler.obj : error LNK2019: unresolved external symbol \"class google::protobuf::internal::ExplicitlyConstructed tensorflow::boosted_trees::learner::TreeRegularizationConfig_default_instance\" (?TreeRegularizationConfig_default_instance@learner@boosted_trees@tensorflow@@3v?$ExplicitlyConstructed@VTreeRegularizationConfig@learner@boosted_trees@tensorflow@@@Internal@protobuf@google@@A) referenced in function \"public: cdecl tensorflow::boosted_trees::learner::stochastic::SplitStats::SplitStats(class tensorflow::boosted_trees::learner::LearnerConfig const &,struct tensorflow::boosted_trees::learner::stochastic::NodeStats const &,struct tensorflow::boosted_trees::learner::stochastic::NodeStats const &,struct tensorflow::boosted_trees::learner::stochastic::NodeStats const &)\" (??0SplitStats@stochastic@learner@boosted_trees@tensorflow@@qeaa@AEBVLearnerConfig@234@AEBUNodeStats@1234@11@Z)\r\n105>dense-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"class google::protobuf::internal::ExplicitlyConstructed tensorflow::boosted_trees::learner::TreeRegularizationConfig_default_instance\" (?TreeRegularizationConfig_default_instance@learner@boosted_trees@tensorflow@@3v?$ExplicitlyConstructed@VTreeRegularizationConfig@learner@boosted_trees@tensorflow@@@Internal@protobuf@google@@A)\r\n105>sparse-quantized-feature-column-handler.obj : error LNK2001: unresolved external symbol \"class google::protobuf::internal::ExplicitlyConstructed tensorflow::boosted_trees::learner::TreeRegularizationConfig_default_instance\" (?TreeRegularizationConfig_default_instance@learner@boosted_trees@tensorflow@@3v?$ExplicitlyConstructed@VTreeRegularizationConfig@learner@boosted_trees@tensorflow@@@Internal@protobuf@google@@A)\r\n105>decision_tree.obj : error LNK2001: unresolved external symbol \"public: static class tensorflow::boosted_trees::trees::DenseFloatBinarySplit const & __cdecl tensorflow::boosted_trees::trees::DenseFloatBinarySplit::default_instance(void)\" (?default_instance@DenseFloatBinarySplit@trees@boosted_trees@tensorflow@@saaebv1234@XZ)\r\n105>decision_tree.obj : error LNK2001: unresolved external symbol \"public: static class tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultLeft const & __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultLeft::default_instance(void)\" (?default_instance@SparseFloatBinarySplitDefaultLeft@trees@boosted_trees@tensorflow@@saaebv1234@XZ)\r\n105>decision_tree.obj : error LNK2001: unresolved external symbol \"public: static class tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultRight const & __cdecl tensorflow::boosted_trees::trees::SparseFloatBinarySplitDefaultRight::default_instance(void)\" (?default_instance@SparseFloatBinarySplitDefaultRight@trees@boosted_trees@tensorflow@@saaebv1234@XZ)\r\n105>decision_tree.obj : error LNK2019: unresolved external symbol \"public: __cdecl tensorflow::boosted_trees::trees::CategoricalIdSetMembershipBinarySplit::CategoricalIdSetMembershipBinarySplit(void)\" (??0CategoricalIdSetMembershipBinarySplit@trees@boosted_trees@tensorflow@@qeaa@XZ) referenced in function \"public: static class tensorflow::boosted_trees::trees::CategoricalIdSetMembershipBinarySplit * __cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VCategoricalIdSetMembershipBinarySplit@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavcategoricalidsetmembershipbinarysplit@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>decision_tree.obj : error LNK2001: unresolved external symbol \"public: static class tensorflow::boosted_trees::trees::CategoricalIdSetMembershipBinarySplit const & __cdecl tensorflow::boosted_trees::trees::CategoricalIdSetMembershipBinarySplit::default_instance(void)\" (?default_instance@CategoricalIdSetMembershipBinarySplit@trees@boosted_trees@tensorflow@@saaebv1234@XZ)\r\n105>decision_tree.obj : error LNK2019: unresolved external symbol \"protected: __cdecl tensorflow::boosted_trees::trees::CategoricalIdSetMembershipBinarySplit::CategoricalIdSetMembershipBinarySplit(class google::protobuf::Arena *)\" (??0CategoricalIdSetMembershipBinarySplit@trees@boosted_trees@tensorflow@@iEAA@PEAVArena@protobuf@google@@@z) referenced in function \"public: static class tensorflow::boosted_trees::trees::CategoricalIdSetMembershipBinarySplit * cdecl google::protobuf::Arena::CreateMessage(class google::protobuf::Arena *)\" (??$CreateMessage@VCategoricalIdSetMembershipBinarySplit@trees@boosted_trees@tensorflow@@@arena@protobuf@google@@sapeavcategoricalidsetmembershipbinarysplit@trees@boosted_trees@tensorflow@@peav012@@z)\r\n105>decision_tree.obj : error LNK2019: unresolved external symbol \"class google::protobuf::internal::ExplicitlyConstructed tensorflow::boosted_trees::trees::DenseFloatBinarySplit_default_instance\" (?DenseFloatBinarySplit_default_instance@trees@boosted_trees@tensorflow@@3v?$ExplicitlyConstructed@VDenseFloatBinarySplit@trees@boosted_trees@tensorflow@@@Internal@protobuf@google@@A) referenced in function \"public: static class std::vector<int,class std::allocator > __cdecl tensorflow::boosted_trees::trees::DecisionTree::GetChildren(class tensorflow::boosted_trees::trees::TreeNode const &)\" (?GetChildren@DecisionTree@trees@boosted_trees@tensorflow@@sa?AV?$vector@HV?$allocator@H@std@@@std@@aebvtreenode@234@@z)\r\n105>E:\\AIMLDL\\TensorFlow\\tensorflow_8_14\\tensorflow\\tensorflow\\contrib\\cmake\\build\\Release\\tf_label_image_example.exe : fatal error LNK1120: 85 unresolved externals\r\n========== Rebuild All: 104 succeeded, 1 failed, 0 skipped ==========", "comments": ["This question is better asked on  [StackOverflow](http://stackoverflow.com/questions/tagged/tensorflow) since it is not a  bug or feature request. There is also a larger community that reads questions there. Thanks!", "ps - please don't include unformatted source code that creates a ton of notifications for users. - @arena (person, not local variable)", "Please look here [#12037](https://github.com/tensorflow/tensorflow/issues/12037) which maybe solves your problem.", "@arena .. Sorry, I was just trying to provide the entire log for the project that is failing. Is there a solution to this issue?\r\n\r\n@rasitsimsek .. I added tf_python_protos_cc to the tf_label_example_Image project references but it still gives me the same LNK errors. Is there anything else I can do to solve this ? ", "Yes, don't create issues with unformatted source code---please 'format your\ncode' or link to the branch with your code in it.\n\nIn the meantime you should close this issue that randomly mentions and\ntherefore notifies all the @ names in the code you pasted in.\n\n\n\nOn Wed, Aug 16, 2017 at 10:17 AM mayuresh51 <notifications@github.com>\nwrote:\n\n> @arena <https://github.com/arena> .. Sorry, I was just trying to provide\n> the entire log for the project that is failing. Is there a solution to this\n> issue?\n>\n> @rasitsimsek <https://github.com/rasitsimsek> .. I added\n> tf_python_protos_cc to the tf_label_example_Image project references but it\n> still gives me the same LNK errors. Is there anything else I can do to\n> solve this ?\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/12308#issuecomment-322839289>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAZFvpdsPlgKcK5dmOhqpxtbB8gyuXVIks5sYyQ6gaJpZM4O4O30>\n> .\n>\n", "@mayuresh51 look at the Code example in the [Mastering Markdown](https://guides.github.com/features/mastering-markdown/) guide to learn how to format code. In particular, you should have a single line with three backticks (```) before the stacktrace, and another line with three backticks after the stacktrace. Ask on Stack Overflow if you have questions about this.\r\n\r\nLocking this issue to avoid more notifications."]}]