[{"number": 52522, "title": "[tensorflow/compiler/{mlir,tf2xla,xla}/**/*.cc] Make tuple_shapes_size calls and comparators to match actual return type", "body": "The correct type is `int`, as per: https://github.com/tensorflow/tensorflow/blob/0b6b491/tensorflow/compiler/xla/shape.h#L136", "comments": []}, {"number": 52521, "title": "Update README.md", "body": "Updated TF logo as per brand guidelines \"https://www.tensorflow.org/extras/tensorflow_brand_guidelines.pdf\"\r\nFix for #52355", "comments": []}, {"number": 52519, "title": "TensorArray support dtype of Custom defined  class object?", "body": "This template is for miscellaneous issues not covered by the other issue categories.\r\n\r\nFor questions on how to work with TensorFlow, or support for problems that are\r\nnot verified bugs in TensorFlow, please go to\r\n[Discourse](https://discuss.tensorflow.org/).\r\n\r\nIf you are reporting a vulnerability, please use the [dedicated reporting process](https://github.com/tensorflow/tensorflow/blob/master/SECURITY.md).\r\n\r\nFor high-level discussions about TensorFlow, please post to discuss@tensorflow.org, for questions about the development or internal workings of TensorFlow, or if you would like to know how to contribute to TensorFlow, please post to developers@tensorflow.org.\r\n", "comments": ["@joan126 ,\r\nPlease refer this [link](https://www.tensorflow.org/api_docs/python/tf/TensorArray) which provides the information on tensorarray.It helps.Can you please post this issue in tensorflow forum as this is not bug or feature  request.Thanks", "A co-worker of mine posted a similar issue (by coincidence) a day later: https://discuss.tensorflow.org/t/custom-dtype-objects-in-tensors/5057 .", "This issue has been automatically marked as stale because it has no recent activity. It will be closed if no further activity occurs. Thank you.\n", "Closing as stale. Please reopen if you'd like to work on this further.\n"]}, {"number": 52518, "title": "Updates config=mkl_aarch64 build to oneDNN 2.4 and Compute Library 21.08", "body": "Updates oneDNN version used for `--config=mkl_aarch64` to 2.4\r\nin line with x86 build.\r\n\r\nUpdates Compute Library (used as optimised oneDNN backend\r\non AArch64) to the latest release (21.08).\r\n\r\nThis enables support for SVE and BF16 kernels where\r\nhardware supports.\r\nThis provides a performance uplift of between 1.4x and 3x\r\ndepending on the hardware support.\r\n\r\nRemoves some patches to oneDNN which are not required for\r\nthe 2.4 release.\r\n\r\nNOTE: AArch64 build with --config=mkl_aarch64 requires GCC 10.\r\n\r\nChange-Id: Iaf7562da729fc928dce922d33c02b8bb0ce74767", "comments": ["Hi @penpornk, thanks for giving this your approval.\r\n3 of 10 checks are currently failing above - is this expected? They don't appear to be related to the changes in this PR.\r\n\r\nPlease could I ask for this change to be considered for cherry-picking onto the 2.7 release branch? "]}, {"number": 52517, "title": "Error occurs during quantization usingTFLiteConvert.", "body": "### 1. System information\r\n\r\n- Linux Ubunut 20.04\r\n- pip install tensorflow==2.6.0\r\n- pip install tensorflow_model_optimization==0.7.0\r\n\r\n### 2. Code\r\n\r\nhttps://colab.research.google.com/drive/1kOgZevD3dkM0hxehTh8vNOW_1zXW4VDE?usp=sharing\r\n\r\n### 3. Failure after conversion\r\nerror: 'tfl.max_pool_2d' op quantization parameters violate the same scale constraint: !quant.uniform<i8:f32, 0.010792325524722828> vs. !quant.uniform<i8:f32, 0.0039215686274509803:-128>\r\n(failure on converting)\r\n\r\n### 5. (optional) Any other info / logs\r\n\r\nI build two very similar models, but one is successfully converted to quantized model, while other is failed.\r\nSame with avgpool instead of maxpool\r\n\r\nThere was a  similar issue  #46754 (https://github.com/tensorflow/tensorflow/issues/46754),\r\n\r\nbut I think concat isn't problem because one of my model including concat works.\r\n\r\nThank you\r\n", "comments": ["Hi @jooho-enerzai! This issue is replicating in TF [2.5 ](https://colab.research.google.com/gist/mohantym/8c5e7bb76d43937ac9f70ea28abe8572/tflite_error.ipynb#scrollTo=5PbMhu1-QOxI)and [2.6 ](https://colab.research.google.com/gist/mohantym/7a3add9187c38aa28e0415ad27af8964/tflite_error.ipynb#scrollTo=mVHtdHeZkORn), but seems to be resolved in [Nightly ](https://colab.research.google.com/gist/mohantym/51dd383b9815bf4283ccebc9b7098405/tflite_error.ipynb#scrollTo=5PbMhu1-QOxI)version. Thanks!", "Hi, @mohantym I check that it  works on tf-nightly. Thank you!", "Are you satisfied with the resolution of your issue?\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/52517\">Yes</a>\n<a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/52517\">No</a>\n"]}, {"number": 52516, "title": "[tensorflow/compiler/xla/service/computation_layout.cc] Add calls to `reserve()` before populating vector", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52515, "title": "[tensorflow/compiler/xla/service/batchnorm_expander.cc] Add calls to `reserve()` before populating vectors", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": ["@gbaned Done"]}, {"number": 52514, "title": "[tensorflow/compiler/xla/service/ar_crs_combiner.cc] Add calls to `reserve()` before populating vector", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52513, "title": "[tensorflow/compiler/xla/service/allocation_tracker.cc] Add calls to `reserve()` before populating vector", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52512, "title": "[tensorflow/compiler/xla/service/algebraic_simplifier_test.cc] Add calls to `reserve()` before populating vector", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": ["@sanjoy Good point, however `int` is not `size_type` in any implementation I've seen, so I'll go ahead and change them to `size_t` in both places.", "@sanjoy Or even `size_type` to be overly explicit"]}, {"number": 52511, "title": "[tensorflow/compiler/xla/service/algebraic_simplifier.cc] Add calls to `reserve()` before populating vectors", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52510, "title": "[tensorflow/compiler/xla/python/tpu_driver/recording_tpu_driver.cc] Add calls to `reserve()` before populating vectors", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52509, "title": "[tensorflow/compiler/xla/python/tpu_driver/pod_tpu_driver.cc] Use correct size type for `children_ids_size` iterator; Add calls to `reserve()` before populating vectors", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52508, "title": "[tensorflow/compiler/xla/python/ops.cc] Add calls to `reserve()` before populating vector", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52507, "title": "[tensorflow/compiler/xla/pjrt/utils.cc] Add calls to `reserve()` before populating vectors", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52506, "title": "[tensorflow/compiler/xla/literal_util.cc] Add calls to `reserve()` before populating vectors", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52505, "title": "[tensorflow/compiler/xla/literal.cc] Add calls to `reserve()` before populating vectors", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52504, "title": "[tensorflow/compiler/xla/layout.cc] Add calls to `reserve()` before populating vector", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52503, "title": "[tensorflow/compiler/xla/client/xla_builder_test.cc] Add calls to `reserve()` before populating vector", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52502, "title": "[tensorflow/compiler/xla/client/xla_builder.cc] Add calls to `reserve()` before populating vectors", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52501, "title": "[tensorflow/compiler/xla/client/value_inference.cc] Add calls to `reserve()` before populating vectors", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52500, "title": "[tensorflow/compiler/xla/client/lib/testing.cc] Add calls to `reserve()` before populating vector", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52499, "title": "[tensorflow/compiler/xla/client/lib/slicing.cc] Add calls to `reserve()` before populating vectors", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52498, "title": "[tensorflow/compiler/xla/client/lib/quantize_test.cc] Reduce function calls; add calls to `reserve()` before populating vectors", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52497, "title": "[tensorflow/compiler/xla/client/lib/prng.cc] Add calls to `reserve()` before populating vectors", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52496, "title": "[tensorflow/compiler/xla/client/lib/approx_topk.cc] Add calls to `reserve()` before populating vectors", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52495, "title": "[tensorflow/compiler/xla/client/client.cc] Add calls to `reserve()` before populating vector", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52494, "title": "[tensorflow/compiler/tf2xla/xla_compiler.cc] Add calls to `reserve()` before populating vector", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": ["Closing due to code readability concerns."]}, {"number": 52493, "title": "[tensorflow/compiler/tf2xla/tf2xla_supported_ops.cc] Add calls to `reserve()` before populating vector", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}, {"number": 52492, "title": "[tensorflow/compiler/tf2xla/lib/data_format.cc] Add calls to `reserve()` before populating vectors", "body": "https://github.com/tensorflow/tensorflow/pull/51739#issuecomment-940389562 told me to split the larger PR into one PR per file; thus this (thanks `bash`, `git` and `gh`!)", "comments": []}]